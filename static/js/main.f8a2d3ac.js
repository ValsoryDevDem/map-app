/*! For license information please see main.f8a2d3ac.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},d={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(d,e)||!f.call(p,e)&&(h.test(e)?d[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R,z=Object.assign;function U(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function F(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case x:return"Profiler";case L:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var me=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Le=null;function xe(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),ke(e.stateNode,e.type,t))}}function _e(e){Se?Le?Le.push(e):Le=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Le;if(Le=Se=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Pe=!1;function Me(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Se||null!==Le)&&(Te(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){De=!1}function Oe(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Re=!1,ze=null,Ue=!1,Ve=null,Be={onError:function(e){Re=!0,ze=e}};function Fe(e,t,n,r,i,o,s,a,u){Re=!1,ze=null,Oe.apply(Be,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(je(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ge(i),e;if(s===r)return Ge(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ze=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ut|0)|0},at=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ft(a):0!==(o&=s)&&(r=ft(o))}else 0!==(s=n&~i)?r=ft(s):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,kt,St,Lt,xt,_t=!1,It=[],Ct=null,Tt=null,Pt=null,Mt=new Map,Nt=new Map,Dt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=yi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){_t=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Mt.forEach(Vt),Nt.forEach(Vt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function jt(e){function t(t){return Ft(t,e)}if(0<It.length){Ft(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==Tt&&Ft(Tt,e),null!==Pt&&Ft(Pt,e),Mt.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)zt(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Rt(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Rt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Rt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=z({},ln,{view:0,detail:0}),hn=on(fn),pn=z({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,an=e.screenY-un.screenY):an=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),dn=on(pn),gn=on(z({},pn,{dataTransfer:0})),vn=on(z({},fn,{relatedTarget:0})),mn=on(z({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(z({},ln,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ln(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function xn(){return Ln}var _n=z({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(_n),Cn=on(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(z({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=on(z({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Mn),Dn=[9,13,27,32],An=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Rn=c&&"TextEvent"in window&&!On,zn=c&&(!An||On&&8<On&&11>=On),Un=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Qn(e){Ur(e,0)}function Yn(e){if(K(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,Ee(e)),Me(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Sr={},Lr={};function xr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Lr)return Sr[e]=n[t];return e}c&&(Lr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var _r=xr("animationend"),Ir=xr("animationiteration"),Cr=xr("animationstart"),Tr=xr("transitionend"),Pr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Mr.length;Dr++){var Ar=Mr[Dr];Nr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Nr(_r,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,l){if(Fe.apply(this,arguments),Re){if(!Re)throw Error(o(198));var c=ze;Re=!1,ze=null,Ue||(Ue=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;zr(i,a,l),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;zr(i,a,l),o=u}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Fr]){e[Fr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}Me((function(){var r=o,i=Ee(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case _r:case Ir:case Cr:u=mn;break;case Tr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var p,d=r;null!==d;){var g=(p=d).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Ne(d,h))&&c.push(Hr(d,g,p)))),f)break;d=d.return}0<c.length&&(a=new u(a,l,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[di])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=dn,g="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,g="onPointerLeave",h="onPointerEnter",d="pointer"),f=null==u?a:wi(u),p=null==l?a:wi(l),(a=new c(g,d+"leave",u,n,i)).target=f,a.relatedTarget=p,g=null,yi(i)===r&&((c=new c(h,d+"enter",l,n,i)).target=p,c.relatedTarget=f,g=c),f=g,u&&l)e:{for(h=l,d=0,p=c=u;p;p=Kr(p))d++;for(p=0,g=h;g;g=Kr(g))p++;for(;0<d-p;)c=Kr(c),d--;for(;0<p-d;)h=Kr(h),p--;for(;d--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==u&&Qr(s,a,u,c,!1),null!==l&&null!==f&&Qr(s,f,l,c,!0)}if("select"===(u=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=$n;else if(Gn(a))if(Zn)v=sr;else{v=ir;var m=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(v=or);switch(v&&(v=v(e,r))?Hn(s,v,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?wi(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=en()):(Xt="value"in(Zt=i)?Zt.value:Zt.textContent,jn=!0)),0<(m=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:m}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!An&&Bn(e,t)?(e=en(),Jt=Xt=Zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Ne(n,o))&&s.unshift(Hr(n,u,a)):i||null!=(u=Ne(n,o))&&s.push(Hr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,pi="__reactProps$"+fi,di="__reactContainer$"+fi,gi="__reactEvents$"+fi,vi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[pi]||null}var ki=[],Si=-1;function Li(e){return{current:e}}function xi(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function _i(e,t){Si++,ki[Si]=e.current,e.current=t}var Ii={},Ci=Li(Ii),Ti=Li(!1),Pi=Ii;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){xi(Ti),xi(Ci)}function Ai(e,t,n){if(Ci.current!==Ii)throw Error(o(168));_i(Ci,t),_i(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return z({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ci.current,_i(Ci,e),_i(Ti,Ti.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ti),xi(Ci),_i(Ci,e)):xi(Ti),_i(Ti,n)}var Ui=null,Vi=!1,Bi=!1;function Fi(e){null===Ui?Ui=[e]:Ui.push(e)}function ji(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Je,ji),i}finally{bt=t,Bi=!1}}return null}var qi=[],Gi=0,Hi=null,Wi=0,Ki=[],Qi=0,Yi=null,$i=1,Zi="";function Xi(e,t){qi[Gi++]=Wi,qi[Gi++]=Hi,Hi=e,Wi=t}function Ji(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Zi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Zi=o+e}else $i=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Gi],qi[Gi]=null,Wi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Zi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Li(null),bo=null,wo=null,Eo=null;function ko(){Eo=wo=bo=null}function So(e){var t=yo.current;xi(yo),e._currentValue=t}function Lo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t){bo=e,Eo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function Co(e){null===Io?Io=[e]:Io.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,l=u.next;u.next=null,null===s?o=l:s.next=l,s=u;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(s=0,c=l=u=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(d=g.payload)){f=d.call(p,f,h);break e}f=d;break e;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(h="function"===typeof(d=g.payload)?d.call(p,f,h):d)||void 0===h)break e;f=z({},f,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=p,u=f):c=c.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zu|=s,e.lanes=s,e.memoizedState=f}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Ao(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rl(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Ao(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rl(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ao(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(rl(t,e,r,n),Ro(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Go(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=Ni(t)?Pi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=Ni(t)?Pi:Ci.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&jo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Rl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case k:return(t=Vl(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Rl(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case N:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Qo(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return d(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function g(i,o,a,u){for(var l=null,c=null,f=o,g=o=0,v=null;null!==f&&g<a.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=p(i,f,a[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),o=s(m,o,g),null===c?l=m:c.sibling=m,c=m,f=v}if(g===a.length)return n(i,f),io&&Xi(i,g),l;if(null===f){for(;g<a.length;g++)null!==(f=h(i,a[g],u))&&(o=s(f,o,g),null===c?l=f:c.sibling=f,c=f);return io&&Xi(i,g),l}for(f=r(i,f);g<a.length;g++)null!==(v=d(f,i,g,a[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=s(v,o,g),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,g),l}function v(i,a,u,l){var c=O(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,g=a,v=a=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=p(i,g,y.value,l);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,v),null===f?c=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),io&&Xi(i,v),c;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,l))&&(a=s(y,a,v),null===f?c=y:f.sibling=y,f=y);return io&&Xi(i,v),c}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=d(g,i,v,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),a=s(y,a,v),null===f?c=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Xi(i,v),c}return function e(r,o,s,u){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var l=s.key,c=o;null!==c;){if(c.key===l){if((l=s.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Yo(l)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Ko(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===S?((o=Rl(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=Ol(s.type,s.key,s.props,null,r.mode,u)).ref=Ko(r,o,s),u.return=r,r=u)}return a(r);case k:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vl(s,r.mode,u)).return=r,r=o}return a(r);case N:return e(r,o,(c=s._init)(s._payload),u)}if(te(s))return g(r,o,s,u);if(O(s))return v(r,o,s,u);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Ul(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var Zo=$o(!0),Xo=$o(!1),Jo={},es=Li(Jo),ts=Li(Jo),ns=Li(Jo);function rs(e){if(e===Jo)throw Error(o(174));return e}function is(e,t){switch(_i(ns,t),_i(ts,e),_i(es,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(es),_i(es,t)}function os(){xi(es),xi(ts),xi(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ue(t,e.type);t!==n&&(_i(ts,e),_i(es,n))}function as(e){ts.current===e&&(xi(es),xi(ts))}var us=Li(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function fs(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var hs=w.ReactCurrentDispatcher,ps=w.ReactCurrentBatchConfig,ds=0,gs=null,vs=null,ms=null,ys=!1,bs=!1,ws=0,Es=0;function ks(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ls(e,t,n,r,i,s){if(ds=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:ua,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ms=vs=null,t.updateQueue=null,hs.current=la,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==vs&&null!==vs.next,ds=0,ms=vs=gs=null,ys=!1,t)throw Error(o(300));return e}function xs(){var e=0!==ws;return ws=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?gs.memoizedState=ms=e:ms=ms.next=e,ms}function Is(){if(null===vs){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?gs.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?gs.memoizedState=ms=e:ms=ms.next=e}return ms}function Cs(e,t){return"function"===typeof t?t(e):t}function Ts(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=a=null,l=null,c=s;do{var f=c.lane;if((ds&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,a=r):l=l.next=h,gs.lanes|=f,zu|=f}c=c.next}while(null!==c&&c!==s);null===l?a=r:l.next=u,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,zu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ms(){}function Ns(e,t){var n=gs,r=Is(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Gs(Os.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Vs(9,As.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(o(349));0!==(30&ds)||Ds(n,t,i)}return i}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Rs(t)&&zs(e)}function Os(e,t,n){return n((function(){Rs(t)&&zs(e)}))}function Rs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function zs(e){var t=Po(e,1);null!==t&&rl(t,e,1,-1)}function Us(e){var t=_s();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bs(){return Is().memoizedState}function Fs(e,t,n,r){var i=_s();gs.flags|=e,i.memoizedState=Vs(1|t,n,void 0,void 0===r?null:r)}function js(e,t,n,r){var i=Is();r=void 0===r?null:r;var o=void 0;if(null!==vs){var s=vs.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=Vs(t,n,o,r))}gs.flags|=e,i.memoizedState=Vs(1|t,n,o,r)}function qs(e,t){return Fs(8390656,8,e,t)}function Gs(e,t){return js(2048,8,e,t)}function Hs(e,t){return js(4,2,e,t)}function Ws(e,t){return js(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4,4,Ks.bind(null,t,e),n)}function Ys(){}function $s(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ds)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,zu|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{bt=n,ps.transition=r}}function ea(){return Is().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=To(e,t,n,r))){rl(n,e,r,tl()),oa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var u=t.interleaved;return null===u?(i.next=i,Co(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=To(e,t,i,r))&&(rl(n,e,r,i=tl()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:_o,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},aa={readContext:_o,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:Us,useDebugValue:Ys,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=Js.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=_s();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pu)throw Error(o(349));0!==(30&ds)||Ds(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Os.bind(null,r,s,e),[e]),r.flags|=2048,Vs(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_s(),t=Pu.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Es++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:_o,useCallback:$s,useContext:_o,useEffect:Gs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Zs,useReducer:Ts,useRef:Bs,useState:function(){return Ts(Cs)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(Is(),vs.memoizedState,e)},useTransition:function(){return[Ts(Cs)[0],Is().memoizedState]},useMutableSource:Ms,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1},la={readContext:_o,useCallback:$s,useContext:_o,useEffect:Gs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Zs,useReducer:Ps,useRef:Bs,useState:function(){return Ps(Cs)},useDebugValue:Ys,useDeferredValue:function(e){var t=Is();return null===vs?t.memoizedState=e:Xs(t,vs.memoizedState,e)},useTransition:function(){return[Ps(Cs)[0],Is().memoizedState]},useMutableSource:Ms,useSyncExternalStore:Ns,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=Ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),ha(0,t)},n}function ga(e,t,n){(n=Ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function va(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ao(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function Ea(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Zo(t,e.child,n,r)}function ka(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=Ls(e,t,n,r,o,i),n=xs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,La(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Al(o,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Au,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Au,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Au,Du),Du|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Au,Du),Du|=r;return Ea(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=Ni(n)?Pi:Ci.current;return o=Mi(t,o),xo(t,i),n=Ls(e,t,n,r,o,i),r=xs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(Ni(n)){var o=!0;Ri(t)}else o=!1;if(xo(t,i),null===t.stateNode)Ga(e,t),Go(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=_o(l):l=Mi(t,l=Ni(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&Ho(t,s,r,l),Mo=!1;var h=t.memoizedState;s.state=h,Uo(t,r,s,i),u=t.memoizedState,a!==r||h!==u||Ti.current||Mo?("function"===typeof c&&(Fo(t,n,c,r),u=t.memoizedState),(a=Mo||qo(t,n,a,r,h,u,l))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:mo(t.type,a),s.props=l,f=t.pendingProps,h=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=_o(u):u=Mi(t,u=Ni(n)?Pi:Ci.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==f||h!==u)&&Ho(t,s,r,u),Mo=!1,h=t.memoizedState,s.state=h,Uo(t,r,s,i);var d=t.memoizedState;a!==f||h!==d||Ti.current||Mo?("function"===typeof p&&(Fo(t,n,p,r),d=t.memoizedState),(l=Mo||qo(t,n,l,r,h,d,u)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=u,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,i)}function Ta(e,t,n,r,i,o){_a(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&zi(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,a,o)):Ea(e,t,a,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),is(e,t.containerInfo)}function Ma(e,t,n,r,i){return po(),go(i),t.flags|=256,Ea(e,t,n,r),t.child}var Na,Da,Aa,Oa,Ra={dehydrated:null,treeContext:null,retryLane:0};function za(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_i(us,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=zl(u,i,0,null),e=Rl(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=za(n),t.memoizedState=Ra,e):Va(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=fa(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zl({mode:"visible",children:r.children},i,0,null),(s=Rl(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Zo(t,e.child,null,a),t.child.memoizedState=za(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ba(e,t,a,r=fa(s=Error(o(419)),r,void 0))}if(u=0!==(a&e.childLanes),wa||u){if(null!==(r=Pu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Po(e,i),rl(r,e,i,-1))}return vl(),Ba(e,t,a,r=fa(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Zi,Ki[Qi++]=Yi,$i=e.id,Zi=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,s,n);if(a){a=i.fallback,u=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Al(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Al(r,a):(a=Rl(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=null===(u=e.child.memoizedState)?za(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Al(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=zl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&go(r),Zo(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Lo(e.return,t,n)}function ja(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ea(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(us,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,o);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Di(),Ka(t),null;case 3:return r=t.stateNode,os(),xi(Ti),xi(Ci),fs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Da(e,t),Ka(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=rs(es.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var u in ye(n,s),i=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":W(r),J(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[pi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var c=l[s];"style"===s?ve(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Vr("scroll",e):null!=c&&b(e,s,c,u))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(xi(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(al(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&us.current)?0===Ou&&(Ou=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return os(),Da(e,t),null===e&&jr(t.stateNode.containerInfo),Ka(t),null;case 10:return So(t.type._context),Ka(t),null;case 19:if(xi(us),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)Wa(s,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ls(e))){for(t.flags|=128,Wa(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>qu&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Ka(t),null}else 2*Ze()-s.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=us.current,_i(us,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),xi(Ti),xi(Ci),fs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(xi(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(us),null;case 4:return os(),null;case 10:return So(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",e),s||u===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Za=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){xl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[gi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function pu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Za||eu(n,t);case 6:var r=fu,i=hu;fu=null,pu(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,pu(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tu(n,t,s),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Za&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xl(n,t,a)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,pu(e,t,n),Za=r):pu(e,t,n);break;default:pu(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(o(160));du(s,a,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){xl(e,e.return,v)}try{ru(5,e,e.return)}catch(v){xl(e,e.return,v)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){xl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===s.type&&null!=s.name&&Z(i,s),be(u,a);var c=be(u,s);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;null!=d?ne(i,!!s.multiple,d,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(v){xl(e,e.return,v)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){xl(e,e.return,v)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(v){xl(e,e.return,v)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Ze())),4&r&&gu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(c=Za)||f,vu(t,e),Za=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ja=e,f=e.child;null!==f;){for(h=Ja=f;null!==Ja;){switch(d=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){xl(r,n,v)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){ku(h);continue}}null!==d?(d.return=p,Ja=d):ku(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ge("display",a))}catch(v){xl(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){xl(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&gu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;lu(e,uu(e),s);break;default:throw Error(o(161))}}catch(a){xl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Ja=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Za;a=$a;var l=Za;if($a=s,(Za=u)&&!l)for(Ja=i;null!==Ja;)u=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Su(i):null!==u?(u.return=s,Ja=u):Su(i);for(;null!==o;)Ja=o,wu(o,t,n),o=o.sibling;Ja=i,$a=a,Za=l}Eu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):Eu(e)}}function Eu(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(o(163))}Za||512&t.flags&&ou(t)}catch(p){xl(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function ku(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Su(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){xl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xl(t,i,u)}}var o=t.return;try{ou(t)}catch(u){xl(t,o,u)}break;case 5:var s=t.return;try{ou(t)}catch(u){xl(t,s,u)}}}catch(u){xl(t,t.return,u)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Lu,xu=Math.ceil,_u=w.ReactCurrentDispatcher,Iu=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,Tu=0,Pu=null,Mu=null,Nu=0,Du=0,Au=Li(0),Ou=0,Ru=null,zu=0,Uu=0,Vu=0,Bu=null,Fu=null,ju=0,qu=1/0,Gu=null,Hu=!1,Wu=null,Ku=null,Qu=!1,Yu=null,$u=0,Zu=0,Xu=null,Ju=-1,el=0;function tl(){return 0!==(6&Tu)?Ze():-1!==Ju?Ju:Ju=Ze()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Nu?Nu&-Nu:null!==vo.transition?(0===el&&(el=gt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Zu)throw Zu=0,Xu=null,Error(o(185));mt(e,n,r),0!==(2&Tu)&&e===Pu||(e===Pu&&(0===(2&Tu)&&(Uu|=n),4===Ou&&ul(e,Nu)),il(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(qu=Ze()+500,Vi&&ji()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,u=i[s];-1===u?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Pu?Nu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Fi(e)}(ll.bind(null,e)):Fi(ll.bind(null,e)),si((function(){0===(6&Tu)&&ji()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Ju=-1,el=0,0!==(6&Tu))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Tu;Tu|=2;var s=gl();for(Pu===e&&Nu===t||(Gu=null,qu=Ze()+500,pl(e,t));;)try{bl();break}catch(u){dl(e,u)}ko(),_u.current=s,Tu=i,null!==Mu?t=0:(Pu=null,Nu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=dt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Ru,pl(e,0),ul(e,r),il(e,Ze()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(s=dt(e))&&(r=s,t=sl(e,s))),1===t))throw n=Ru,pl(e,0),ul(e,r),il(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kl(e,Fu,Gu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=ju+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kl.bind(null,e,Fu,Gu),t);break}kl(e,Fu,Gu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(kl.bind(null,e,Fu,Gu),r);break}kl(e,Fu,Gu);break;default:throw Error(o(329))}}}return il(e,Ze()),e.callbackNode===n?ol.bind(null,e):null}function sl(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fu,Fu=n,null!==t&&al(t)),e}function al(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ul(e,t){for(t&=~Vu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Tu))throw Error(o(327));Sl();var t=ht(e,0);if(0===(1&t))return il(e,Ze()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=dt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Ru,pl(e,0),ul(e,t),il(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Fu,Gu),il(e,Ze()),null}function cl(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(qu=Ze()+500,Vi&&ji())}}function fl(e){null!==Yu&&0===Yu.tag&&0===(6&Tu)&&Sl();var t=Tu;Tu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Tu=t))&&ji()}}function hl(){Du=Au.current,xi(Au)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Mu)for(n=Mu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:os(),xi(Ti),xi(Ci),fs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:xi(us);break;case 10:So(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Pu=e,Mu=e=Al(e.current,null),Nu=Du=t,Ou=0,Ru=null,Vu=Uu=zu=0,Fu=Bu=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Io=null}return e}function dl(e,t){for(;;){var n=Mu;try{if(ko(),hs.current=sa,ys){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ds=0,ms=vs=gs=null,bs=!1,ws=0,Iu.current=null,null===n||null===n.return){Ou=1,Ru=t,Mu=null;break}e:{var s=e,a=n.return,u=n,l=t;if(t=Nu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=ma(a);if(null!==d){d.flags&=-257,ya(d,a,u,0,t),1&d.mode&&va(s,c,t),l=c;var g=(t=d).updateQueue;if(null===g){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}if(0===(1&t)){va(s,c,t),vl();break e}l=Error(o(426))}else if(io&&1&u.mode){var m=ma(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ya(m,a,u,0,t),go(ca(l,u));break e}}s=l=ca(l,u),4!==Ou&&(Ou=2),null===Bu?Bu=[s]:Bu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,da(0,l,t));break e;case 1:u=l;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,ga(s,u,t));break e}}s=s.return}while(null!==s)}El(n)}catch(w){t=w,Mu===n&&null!==n&&(Mu=n=n.return);continue}break}}function gl(){var e=_u.current;return _u.current=sa,null===e?sa:e}function vl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Pu||0===(268435455&zu)&&0===(268435455&Uu)||ul(Pu,Nu)}function ml(e,t){var n=Tu;Tu|=2;var r=gl();for(Pu===e&&Nu===t||(Gu=null,pl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(ko(),Tu=n,_u.current=r,null!==Mu)throw Error(o(261));return Pu=null,Nu=0,Ou}function yl(){for(;null!==Mu;)wl(Mu)}function bl(){for(;null!==Mu&&!Ye();)wl(Mu)}function wl(e){var t=Lu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?El(e):Mu=t,Iu.current=null}function El(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Du)))return void(Mu=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Mu=n);if(null===e)return Ou=6,void(Mu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mu=t);Mu=t=e}while(null!==t);0===Ou&&(Ou=5)}function kl(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Yu);if(0!==(6&Tu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Pu&&(Mu=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Pl(tt,(function(){return Sl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cu.transition,Cu.transition=null;var a=bt;bt=1;var u=Tu;Tu|=4,Iu.current=null,function(e,t){if(ei=Gt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var a=0,u=-1,l=-1,c=0,f=0,h=e,p=null;t:for(;;){for(var d;h!==n||0!==i&&3!==h.nodeType||(u=a+i),h!==s||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(d=h.firstChild);)p=h,h=d;for(;;){if(h===e)break t;if(p===n&&++c===i&&(u=a),p===s&&++f===r&&(l=a),null!==(d=h.nextSibling))break;p=(h=p).parentNode}h=d}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(E){xl(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=nu,nu=!1}(e,n),mu(n,e),dr(ti),Gt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Tu=u,bt=a,Cu.transition=s}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),s=e.pendingLanes,0===s&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&Sl(),s=e.pendingLanes,0!==(1&s)?e===Xu?Zu++:(Zu=0,Xu=e):Zu=0,ji()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function Sl(){if(null!==Yu){var e=wt($u),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Tu))throw Error(o(331));var i=Tu;for(Tu|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var u=s.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ja=c;null!==Ja;){var f=Ja;switch(f.tag){case 0:case 11:case 15:ru(8,f,s)}var h=f.child;if(null!==h)h.return=f,Ja=h;else for(;null!==Ja;){var p=(f=Ja).sibling,d=f.return;if(su(f),f===c){Ja=null;break}if(null!==p){p.return=d,Ja=p;break}Ja=d}}}var g=s.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(u=Ja).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(k){xl(u,u.return,k)}if(u===a){Ja=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,Ja=E;break e}Ja=u.return}}if(Tu=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Ll(e,t,n){e=Oo(e,t=da(0,t=ca(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function xl(e,t,n){if(3===e.tag)Ll(e,e,n);else for(;null!==t;){if(3===t.tag){Ll(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oo(t,e=ga(t,e=ca(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Ou||3===Ou&&(130023424&Nu)===Nu&&500>Ze()-ju?pl(e,0):Vu|=n),il(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Po(e,t))&&(mt(e,t,n),il(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Il(e,n)}function Pl(e,t){return Ke(e,t)}function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Ml(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Dl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Rl(n.children,i,s,t);case L:a=8,i|=8;break;case x:return(e=Nl(12,n,t,2|i)).elementType=x,e.lanes=s,e;case T:return(e=Nl(13,n,t,i)).elementType=T,e.lanes=s,e;case P:return(e=Nl(19,n,t,i)).elementType=P,e.lanes=s,e;case D:return zl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case I:a=9;break e;case C:a=11;break e;case M:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rl(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,o,s,a,u){return e=new Bl(e,t,n,a,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function jl(e){if(!e)return Ii;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function ql(e,t,n,r,i,o,s,a,u){return(e=Fl(n,r,!0,e,0,o,0,a,u)).context=jl(null),n=e.current,(o=Ao(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Gl(e,t,n,r){var i=t.current,o=tl(),s=nl(i);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,s))&&(rl(e,i,s,o),Ro(e,i,s)),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Lu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:ss(t);break;case 1:Ni(t.type)&&Ri(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(us,1&us.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(_i(us,1&us.current),null!==(e=Ha(e,t,n))?e.sibling:null);_i(us,1&us.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Mi(t,Ci.current);xo(t,n),i=Ls(null,t,r,e,i,n);var s=xs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Ri(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=jo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===M)return 14}return 2}(r),e=mo(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=ka(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ma(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ma(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),_a(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Ua(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,_i(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ti.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Ao(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Lo(s.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Lo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xo(t,n),r=r(i=_o(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Sa(e,t,r,i=mo(r.type,i),n);case 15:return La(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Ga(e,t),t.tag=1,Ni(r)?(e=!0,Ri(t)):e=!1,xo(t,n),Go(t,r,i),Wo(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return xa(e,t,n)}throw Error(o(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hl(s);a.call(e)}}Gl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hl(s);o.call(e)}}var s=ql(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=s,e[di]=s.current,jr(8===e.nodeType?e.parentNode:e),fl(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hl(u);a.call(e)}}var u=Fl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[di]=u.current,jr(8===e.nodeType?e.parentNode:e),fl((function(){Gl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(s)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Gl(null,e,null,null)})),t[di]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&zt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Ze()),0===(6&Tu)&&(qu=Ze()+500,ji()))}break;case 13:fl((function(){var t=Po(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},kt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Po(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},Lt=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cl,Te=fl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,Ei,_e,Ie,cl]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(o(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,i),e[di]=t.current,jr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,s,a),e[di]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||d}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,g(w,m.prototype),w.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&!L.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===o?"."+C(u,0):o,E(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=""===o?".":o+":",E(e))for(var l=0;l<e.length;l++){var c=o+C(a=e[l],l);u+=T(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=T(a=a.value,t,i,c=o+C(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)k.call(t,l)&&!L.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,u=e[a],l=a+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[a]=n,r=a);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var l=[],c=[],f=1,h=null,p=3,d=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function E(e){if(v=!1,w(e),!g)if(null!==r(l))g=!0,D(k);else{var t=r(c);null!==t&&A(E,t.startTime-e)}}function k(e,n){g=!1,v&&(v=!1,y(_),_=-1),d=!0;var o=p;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&A(E,f.startTime-n),u=!1}return u}finally{h=null,p=o,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,L=!1,x=null,_=-1,I=5,C=-1;function T(){return!(t.unstable_now()-C<I)}function P(){if(null!==x){var e=t.unstable_now();C=e;var n=!0;try{n=x(!0,e)}finally{n?S():(L=!1,x=null)}}else L=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,N=M.port2;M.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){m(P,0)};function D(e){x=e,L||(L=!0,S())}function A(e,n){_=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(v?(y(_),_=-1):v=!0,A(E,o-s))):(e.sortIndex=a,n(l,e),g||d||(g=!0,D(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),(()=>{var e=n(791),t=n(250),r=n(184),i=n(164),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h=function(e,t,n,r,i,o,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,a],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},p=f(h),d=(0,e.createContext)(null);function g(e,t,n,r){var i={};return function(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}(e,(function(e,o){var s=n[o];s!==t[o]&&(i[o]=s,e(r,s))})),i}function v(e,t,n){var r=function(e,t,n){return Object.keys(e).reduce((function(n,r){return t(n,e[r],r)}),n)}(n,(function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n}),[]);return r}function m(e){google.maps.event.removeListener(e)}function y(e){void 0===e&&(e=[]),e.forEach(m)}function b(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,o=e.instance,s=v(i,o,n);return g(t,r,i,o),s}var w={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},E={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,e.memo)((function(t){var n=t.children,i=t.options,o=t.id,s=t.mapContainerStyle,a=t.mapContainerClassName,u=t.center,l=t.onClick,c=t.onDblClick,f=t.onDrag,h=t.onDragEnd,p=t.onDragStart,g=t.onMouseMove,v=t.onMouseOut,m=t.onMouseOver,y=t.onMouseDown,b=t.onMouseUp,w=t.onRightClick,E=t.onCenterChanged,k=t.onLoad,S=t.onUnmount,L=(0,e.useState)(null),x=L[0],_=L[1],I=(0,e.useRef)(null),C=(0,e.useState)(null),T=C[0],P=C[1],M=(0,e.useState)(null),N=M[0],D=M[1],A=(0,e.useState)(null),O=A[0],R=A[1],z=(0,e.useState)(null),U=z[0],V=z[1],B=(0,e.useState)(null),F=B[0],j=B[1],q=(0,e.useState)(null),G=q[0],H=q[1],W=(0,e.useState)(null),K=W[0],Q=W[1],Y=(0,e.useState)(null),$=Y[0],Z=Y[1],X=(0,e.useState)(null),J=X[0],ee=X[1],te=(0,e.useState)(null),ne=te[0],re=te[1],ie=(0,e.useState)(null),oe=ie[0],se=ie[1],ae=(0,e.useState)(null),ue=ae[0],le=ae[1];return(0,e.useEffect)((function(){i&&null!==x&&x.setOptions(i)}),[x,i]),(0,e.useEffect)((function(){null!==x&&"undefined"!==typeof u&&x.setCenter(u)}),[x,u]),(0,e.useEffect)((function(){x&&c&&(null!==N&&google.maps.event.removeListener(N),D(google.maps.event.addListener(x,"dblclick",c)))}),[c]),(0,e.useEffect)((function(){x&&h&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(x,"dragend",h)))}),[h]),(0,e.useEffect)((function(){x&&p&&(null!==U&&google.maps.event.removeListener(U),V(google.maps.event.addListener(x,"dragstart",p)))}),[p]),(0,e.useEffect)((function(){x&&y&&(null!==F&&google.maps.event.removeListener(F),j(google.maps.event.addListener(x,"mousedown",y)))}),[y]),(0,e.useEffect)((function(){x&&g&&(null!==G&&google.maps.event.removeListener(G),H(google.maps.event.addListener(x,"mousemove",g)))}),[g]),(0,e.useEffect)((function(){x&&v&&(null!==K&&google.maps.event.removeListener(K),Q(google.maps.event.addListener(x,"mouseout",v)))}),[v]),(0,e.useEffect)((function(){x&&m&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(x,"mouseover",m)))}),[m]),(0,e.useEffect)((function(){x&&b&&(null!==J&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(x,"mouseup",b)))}),[b]),(0,e.useEffect)((function(){x&&w&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(x,"rightclick",w)))}),[w]),(0,e.useEffect)((function(){x&&l&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(x,"click",l)))}),[l]),(0,e.useEffect)((function(){x&&f&&(null!==ue&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(x,"drag",f)))}),[f]),(0,e.useEffect)((function(){x&&E&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(x,"center_changed",E)))}),[l]),(0,e.useEffect)((function(){var e=null===I.current?null:new google.maps.Map(I.current,i);return _(e),null!==e&&k&&k(e),function(){null!==e&&S&&S(e)}}),[]),(0,r.jsx)("div",{id:o,ref:I,style:s,className:a,children:(0,r.jsx)(d.Provider,{value:x,children:null!==x?n:(0,r.jsx)(r.Fragment,{})})})}));var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return s(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=b({updaterMap:E,eventMap:w,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:E,eventMap:w,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),y(this.registeredEvents))},t.prototype.render=function(){return(0,r.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,r.jsx)(d.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:(0,r.jsx)(r.Fragment,{})})})},t}(e.PureComponent),S="undefined"!==typeof document;function L(e){var t=e.url,n=e.id,r=e.nonce;return S?new Promise((function(e,i){var o=document.getElementById(n),s=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var u=s.initMap,l=o.onerror;return s.initMap=function(){u&&u(),e(n)},void(o.onerror=function(e){l&&l(e),i(e)})}o.remove()}var c=document.createElement("script");c.type="text/javascript",c.src=t,c.id=n,c.async=!0,c.nonce=r||"",c.onerror=function(e){c.setAttribute("data-state","error"),i(e)},s.initMap=function(){c.setAttribute("data-state","ready"),e(n)},document.head.appendChild(c)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function x(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function _(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return x(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return x(t)||Reflect.apply(n,e,[t]),t}}}function I(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,o=e.language,s=e.region,a=e.libraries,u=e.channel,l=e.mapIds,c=e.authReferrerPolicy,f=[];return p(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?f.push("key=".concat(t)):n&&f.push("client=".concat(n)),i&&f.push("v=".concat(i)),o&&f.push("language=".concat(o)),s&&f.push("region=".concat(s)),a&&a.length&&f.push("libraries=".concat(a.sort().join(","))),u&&f.push("channel=".concat(u)),l&&l.length&&f.push("map_ids=".concat(l.join(","))),c&&f.push("auth_referrer_policy=".concat(c)),f.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(f.join("&"))}var C=!1;function T(){return(0,r.jsx)("div",{children:"Loading..."})}var P,M={id:"script-loader",version:"weekly"},N=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.check=(0,e.createRef)(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return l(n,void 0,void 0,(function(){function e(e){if(C){if(S)var t=window.setInterval((function(){C||(window.clearInterval(t),e())}),1)}else e()}return c(this,(function(t){return[2,new Promise(e)]}))}))},n.cleanup=function(){C=!0;var e=document.getElementById(n.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},n.injectScript=function(){n.props.preventGoogleFontsLoading&&_(),p(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id),L({id:n.props.id,nonce:n.props.nonce,url:I(n.props)}).then((function(){n.props.onLoad&&n.props.onLoad(),n.setState((function(){return{loaded:!0}}))})).catch((function(e){n.props.onError&&n.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},n}return s(n,t),n.prototype.componentDidMount=function(){if(S){if(window.google&&window.google.maps&&!C)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},n.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},n.prototype.componentWillUnmount=function(){var e=this;if(S){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,C=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},n.prototype.render=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,r.jsx)(T,{})]})},n.defaultProps=M,n}(e.PureComponent);var D=(0,r.jsx)(T,{});(0,e.memo)((function(t){var n=t.loadingElement,r=t.onLoad,i=t.onError,o=t.onUnmount,s=t.children,a=function(t){var n=t.id,r=void 0===n?M.id:n,i=t.version,o=void 0===i?M.version:i,s=t.nonce,a=t.googleMapsApiKey,u=t.googleMapsClientId,l=t.language,c=t.region,f=t.libraries,h=t.preventGoogleFontsLoading,d=t.channel,g=t.mapIds,v=t.authReferrerPolicy,m=(0,e.useRef)(!1),y=(0,e.useState)(!1),b=y[0],w=y[1],E=(0,e.useState)(void 0),k=E[0],x=E[1];(0,e.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]),(0,e.useEffect)((function(){S&&h&&_()}),[h]),(0,e.useEffect)((function(){b&&p(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[b]);var C=I({version:o,googleMapsApiKey:a,googleMapsClientId:u,language:l,region:c,libraries:f,channel:d,mapIds:g,authReferrerPolicy:v});(0,e.useEffect)((function(){function e(){m.current&&(w(!0),P=C)}S&&(window.google&&window.google.maps&&P===C?e():L({id:r,url:C,nonce:s}).then(e).catch((function(e){m.current&&x(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(a||"-",") or Client ID (").concat(u||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[r,C,s]);var T=(0,e.useRef)();return(0,e.useEffect)((function(){T.current&&f!==T.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),T.current=f}),[f]),{isLoaded:b,loadError:k,url:C}}(u(t,["loadingElement","onLoad","onError","onUnmount","children"])),l=a.isLoaded,c=a.loadError;return(0,e.useEffect)((function(){l&&"function"===typeof r&&r()}),[l,r]),(0,e.useEffect)((function(){c&&"function"===typeof i&&i(c)}),[c,i]),(0,e.useEffect)((function(){return function(){o&&o()}}),[o]),l?s:n||D}));var A;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(A||(A={}));var O={},R={options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.options,r=t.onLoad,i=t.onUnmount,o=(0,e.useContext)(d),s=(0,e.useState)(null),u=s[0],l=s[1];return(0,e.useEffect)((function(){null!==u&&u.setMap(o)}),[o]),(0,e.useEffect)((function(){n&&null!==u&&u.setOptions(n)}),[u,n]),(0,e.useEffect)((function(){var e=new google.maps.TrafficLayer(a(a({},n||{}),{map:o}));return l(e),r&&r(e),function(){null!==u&&(i&&i(u),u.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:R,eventMap:O,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:R,eventMap:O,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),y(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);(0,e.memo)((function(t){var n=t.onLoad,r=t.onUnmount,i=(0,e.useContext)(d),o=(0,e.useState)(null),s=o[0],a=o[1];return(0,e.useEffect)((function(){null!==s&&s.setMap(i)}),[i]),(0,e.useEffect)((function(){var e=new google.maps.BicyclingLayer;return a(e),e.setMap(i),n&&n(e),function(){null!==e&&(r&&r(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);(0,e.memo)((function(t){var n=t.onLoad,r=t.onUnmount,i=(0,e.useContext)(d),o=(0,e.useState)(null),s=o[0],a=o[1];return(0,e.useEffect)((function(){null!==s&&s.setMap(i)}),[i]),(0,e.useEffect)((function(){var e=new google.maps.TransitLayer;return a(e),e.setMap(i),n&&n(e),function(){null!==s&&(r&&r(s),s.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var z={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},U={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.options,r=t.drawingMode,i=t.onCircleComplete,o=t.onMarkerComplete,s=t.onOverlayComplete,u=t.onPolygonComplete,l=t.onPolylineComplete,c=t.onRectangleComplete,f=t.onLoad,h=t.onUnmount,g=(0,e.useContext)(d),v=(0,e.useState)(null),m=v[0],y=v[1],b=(0,e.useState)(null),w=b[0],E=b[1],k=(0,e.useState)(null),S=k[0],L=k[1],x=(0,e.useState)(null),_=x[0],I=x[1],C=(0,e.useState)(null),T=C[0],P=C[1],M=(0,e.useState)(null),N=M[0],D=M[1],A=(0,e.useState)(null),O=A[0],R=A[1];return(0,e.useEffect)((function(){null!==m&&m.setMap(g)}),[g]),(0,e.useEffect)((function(){n&&null!==m&&m.setOptions(n)}),[m,n]),(0,e.useEffect)((function(){r&&null!==m&&m.setDrawingMode(r)}),[m,r]),(0,e.useEffect)((function(){m&&i&&(null!==w&&google.maps.event.removeListener(w),E(google.maps.event.addListener(m,"circlecomplete",i)))}),[m,i]),(0,e.useEffect)((function(){m&&o&&(null!==S&&google.maps.event.removeListener(S),L(google.maps.event.addListener(m,"markercomplete",o)))}),[m,o]),(0,e.useEffect)((function(){m&&s&&(null!==_&&google.maps.event.removeListener(_),I(google.maps.event.addListener(m,"overlaycomplete",s)))}),[m,s]),(0,e.useEffect)((function(){m&&u&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(m,"polygoncomplete",u)))}),[m,u]),(0,e.useEffect)((function(){m&&l&&(null!==N&&google.maps.event.removeListener(N),D(google.maps.event.addListener(m,"polylinecomplete",l)))}),[m,l]),(0,e.useEffect)((function(){m&&c&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(m,"rectanglecomplete",c)))}),[m,c]),(0,e.useEffect)((function(){p(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(a(a({},n||{}),{map:g}));return r&&e.setDrawingMode(r),i&&E(google.maps.event.addListener(e,"circlecomplete",i)),o&&L(google.maps.event.addListener(e,"markercomplete",o)),s&&I(google.maps.event.addListener(e,"overlaycomplete",s)),u&&P(google.maps.event.addListener(e,"polygoncomplete",u)),l&&D(google.maps.event.addListener(e,"polylinecomplete",l)),c&&R(google.maps.event.addListener(e,"rectanglecomplete",c)),y(e),f&&f(e),function(){null!==m&&(w&&google.maps.event.removeListener(w),S&&google.maps.event.removeListener(S),_&&google.maps.event.removeListener(_),T&&google.maps.event.removeListener(T),N&&google.maps.event.removeListener(N),O&&google.maps.event.removeListener(O),h&&h(m),m.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},p(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:U,eventMap:z,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:U,eventMap:z,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),y(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var V={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},B={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},F={};(0,e.memo)((function(t){var n=t.position,i=t.options,o=t.clusterer,s=t.noClustererRedraw,u=t.children,l=t.draggable,c=t.visible,f=t.animation,h=t.clickable,p=t.cursor,g=t.icon,v=t.label,m=t.opacity,y=t.shape,b=t.title,w=t.zIndex,E=t.onClick,k=t.onDblClick,S=t.onDrag,L=t.onDragEnd,x=t.onDragStart,_=t.onMouseOut,I=t.onMouseOver,C=t.onMouseUp,T=t.onMouseDown,P=t.onRightClick,M=t.onClickableChanged,N=t.onCursorChanged,D=t.onAnimationChanged,A=t.onDraggableChanged,O=t.onFlatChanged,R=t.onIconChanged,z=t.onPositionChanged,U=t.onShapeChanged,V=t.onTitleChanged,B=t.onVisibleChanged,j=t.onZindexChanged,q=t.onLoad,G=t.onUnmount,H=(0,e.useContext)(d),W=(0,e.useState)(null),K=W[0],Q=W[1],Y=(0,e.useState)(null),$=Y[0],Z=Y[1],X=(0,e.useState)(null),J=X[0],ee=X[1],te=(0,e.useState)(null),ne=te[0],re=te[1],ie=(0,e.useState)(null),oe=ie[0],se=ie[1],ae=(0,e.useState)(null),ue=ae[0],le=ae[1],ce=(0,e.useState)(null),fe=ce[0],he=ce[1],pe=(0,e.useState)(null),de=pe[0],ge=pe[1],ve=(0,e.useState)(null),me=ve[0],ye=ve[1],be=(0,e.useState)(null),we=be[0],Ee=be[1],ke=(0,e.useState)(null),Se=ke[0],Le=ke[1],xe=(0,e.useState)(null),_e=xe[0],Ie=xe[1],Ce=(0,e.useState)(null),Te=Ce[0],Pe=Ce[1],Me=(0,e.useState)(null),Ne=Me[0],De=Me[1],Ae=(0,e.useState)(null),Oe=Ae[0],Re=Ae[1],ze=(0,e.useState)(null),Ue=ze[0],Ve=ze[1],Be=(0,e.useState)(null),Fe=Be[0],je=Be[1],qe=(0,e.useState)(null),Ge=qe[0],He=qe[1],We=(0,e.useState)(null),Ke=We[0],Qe=We[1],Ye=(0,e.useState)(null),$e=Ye[0],Ze=Ye[1],Xe=(0,e.useState)(null),Je=Xe[0],et=Xe[1],tt=(0,e.useState)(null),nt=tt[0],rt=tt[1];(0,e.useEffect)((function(){null!==K&&K.setMap(H)}),[H]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==K&&K.setOptions(i)}),[K,i]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==K&&K.setDraggable(l)}),[K,l]),(0,e.useEffect)((function(){n&&null!==K&&K.setPosition(n)}),[K,n]),(0,e.useEffect)((function(){"undefined"!==typeof c&&null!==K&&K.setVisible(c)}),[K,c]),(0,e.useEffect)((function(){null===K||void 0===K||K.setAnimation(f)}),[K,f]),(0,e.useEffect)((function(){K&&k&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(K,"dblclick",k)))}),[k]),(0,e.useEffect)((function(){K&&L&&(null!==J&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(K,"dragend",L)))}),[L]),(0,e.useEffect)((function(){K&&x&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(K,"dragstart",x)))}),[x]),(0,e.useEffect)((function(){K&&T&&(null!==oe&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(K,"mousedown",T)))}),[T]),(0,e.useEffect)((function(){K&&_&&(null!==ue&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(K,"mouseout",_)))}),[_]),(0,e.useEffect)((function(){K&&I&&(null!==fe&&google.maps.event.removeListener(fe),he(google.maps.event.addListener(K,"mouseover",I)))}),[I]),(0,e.useEffect)((function(){K&&C&&(null!==de&&google.maps.event.removeListener(de),ge(google.maps.event.addListener(K,"mouseup",C)))}),[C]),(0,e.useEffect)((function(){K&&P&&(null!==me&&google.maps.event.removeListener(me),ye(google.maps.event.addListener(K,"rightclick",P)))}),[P]),(0,e.useEffect)((function(){K&&E&&(null!==we&&google.maps.event.removeListener(we),Ee(google.maps.event.addListener(K,"click",E)))}),[E]),(0,e.useEffect)((function(){K&&S&&(null!==Se&&google.maps.event.removeListener(Se),Le(google.maps.event.addListener(K,"drag",S)))}),[S]),(0,e.useEffect)((function(){K&&M&&(null!==_e&&google.maps.event.removeListener(_e),Ie(google.maps.event.addListener(K,"clickable_changed",M)))}),[M]),(0,e.useEffect)((function(){K&&N&&(null!==Te&&google.maps.event.removeListener(Te),Pe(google.maps.event.addListener(K,"cursor_changed",N)))}),[N]),(0,e.useEffect)((function(){K&&D&&(null!==Ne&&google.maps.event.removeListener(Ne),De(google.maps.event.addListener(K,"animation_changed",D)))}),[D]),(0,e.useEffect)((function(){K&&A&&(null!==Oe&&google.maps.event.removeListener(Oe),Re(google.maps.event.addListener(K,"draggable_changed",A)))}),[A]),(0,e.useEffect)((function(){K&&O&&(null!==Ue&&google.maps.event.removeListener(Ue),Ve(google.maps.event.addListener(K,"flat_changed",O)))}),[O]),(0,e.useEffect)((function(){K&&R&&(null!==Fe&&google.maps.event.removeListener(Fe),je(google.maps.event.addListener(K,"icon_changed",R)))}),[R]),(0,e.useEffect)((function(){K&&z&&(null!==Ge&&google.maps.event.removeListener(Ge),He(google.maps.event.addListener(K,"position_changed",z)))}),[z]),(0,e.useEffect)((function(){K&&U&&(null!==Ke&&google.maps.event.removeListener(Ke),Qe(google.maps.event.addListener(K,"shape_changed",U)))}),[U]),(0,e.useEffect)((function(){K&&V&&(null!==$e&&google.maps.event.removeListener($e),Ze(google.maps.event.addListener(K,"title_changed",V)))}),[V]),(0,e.useEffect)((function(){K&&B&&(null!==Je&&google.maps.event.removeListener(Je),et(google.maps.event.addListener(K,"visible_changed",B)))}),[B]),(0,e.useEffect)((function(){K&&j&&(null!==nt&&google.maps.event.removeListener(nt),rt(google.maps.event.addListener(K,"zindex_changed",j)))}),[j]),(0,e.useEffect)((function(){var e=a(a(a({},i||F),o?F:{map:H}),{position:n}),t=new google.maps.Marker(e);return o?o.addMarker(t,!!s):t.setMap(H),n&&t.setPosition(n),"undefined"!==typeof c&&t.setVisible(c),"undefined"!==typeof l&&t.setDraggable(l),"undefined"!==typeof h&&t.setClickable(h),"string"===typeof p&&t.setCursor(p),g&&t.setIcon(g),"undefined"!==typeof v&&t.setLabel(v),"undefined"!==typeof m&&t.setOpacity(m),y&&t.setShape(y),"string"===typeof b&&t.setTitle(b),"number"===typeof w&&t.setZIndex(w),k&&Z(google.maps.event.addListener(t,"dblclick",k)),L&&ee(google.maps.event.addListener(t,"dragend",L)),x&&re(google.maps.event.addListener(t,"dragstart",x)),T&&se(google.maps.event.addListener(t,"mousedown",T)),_&&le(google.maps.event.addListener(t,"mouseout",_)),I&&he(google.maps.event.addListener(t,"mouseover",I)),C&&ge(google.maps.event.addListener(t,"mouseup",C)),P&&ye(google.maps.event.addListener(t,"rightclick",P)),E&&Ee(google.maps.event.addListener(t,"click",E)),S&&Le(google.maps.event.addListener(t,"drag",S)),M&&Ie(google.maps.event.addListener(t,"clickable_changed",M)),N&&Pe(google.maps.event.addListener(t,"cursor_changed",N)),D&&De(google.maps.event.addListener(t,"animation_changed",D)),A&&Re(google.maps.event.addListener(t,"draggable_changed",A)),O&&Ve(google.maps.event.addListener(t,"flat_changed",O)),R&&je(google.maps.event.addListener(t,"icon_changed",R)),z&&He(google.maps.event.addListener(t,"position_changed",z)),U&&Qe(google.maps.event.addListener(t,"shape_changed",U)),V&&Ze(google.maps.event.addListener(t,"title_changed",V)),B&&et(google.maps.event.addListener(t,"visible_changed",B)),j&&rt(google.maps.event.addListener(t,"zindex_changed",j)),Q(t),q&&q(t),function(){null!==$&&google.maps.event.removeListener($),null!==J&&google.maps.event.removeListener(J),null!==ne&&google.maps.event.removeListener(ne),null!==oe&&google.maps.event.removeListener(oe),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),null!==de&&google.maps.event.removeListener(de),null!==me&&google.maps.event.removeListener(me),null!==we&&google.maps.event.removeListener(we),null!==_e&&google.maps.event.removeListener(_e),null!==Te&&google.maps.event.removeListener(Te),null!==Ne&&google.maps.event.removeListener(Ne),null!==Oe&&google.maps.event.removeListener(Oe),null!==Ue&&google.maps.event.removeListener(Ue),null!==Fe&&google.maps.event.removeListener(Fe),null!==Ge&&google.maps.event.removeListener(Ge),null!==$e&&google.maps.event.removeListener($e),null!==Je&&google.maps.event.removeListener(Je),null!==nt&&google.maps.event.removeListener(nt),G&&G(t),o?o.removeMarker(t,!!s):t&&t.setMap(null)}}),[]);var it=(0,e.useMemo)((function(){return u?e.Children.map(u,(function(t){if(!(0,e.isValidElement)(t))return t;var n=t;return(0,e.cloneElement)(n,{anchor:K})})):null}),[u,K]);return(0,r.jsx)(r.Fragment,{children:it})||null}));var j=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e}return s(n,t),n.prototype.componentDidMount=function(){var e=a(a(a({},this.props.options||F),this.props.clusterer?F:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=b({updaterMap:B,eventMap:V,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},n.prototype.componentDidUpdate=function(e){this.marker&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:B,eventMap:V,prevProps:e,nextProps:this.props,instance:this.marker}))},n.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),y(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},n.prototype.render=function(){var t=this,n=null;return this.props.children&&(n=e.Children.map(this.props.children,(function(n){if(!(0,e.isValidElement)(n))return n;var r=n;return(0,e.cloneElement)(r,{anchor:t.marker})}))),n||null},n.contextType=d,n}(e.PureComponent),q=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,o;if(this.div&&this.center){var s=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),u=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),l=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),c=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==c?"".concat(c.y,"px"):"0","; left: ").concat(null!==c?"".concat(c.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=s,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(l,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(l,"px, -").concat(u+this.width,"px, -").concat(l+this.height,", -").concat(u,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(h.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(h),this.div.title=s,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),G=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new q(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),s=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof s&&s>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,u=this.markers;a<u.length;a++){u[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function H(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var W=[53,56,66,78,90],K=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||W,this.calculator=r.calculator||H,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var o=0,s=this.listeners;o<s.length;o++){var a=s[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var o=i[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var o=i[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,o=this.clusters;i<o.length;i++){var s=(t=o[i]).getCenter(),a=e.getPosition();if(s&&a){var u=this.distanceBetweenPoints(s,a);u<n&&(n=u,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new G(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize,this.markers.length),a=e;a<s;a++){var u=this.markers[a];u&&!u.isAdded&&this.isMarkerInBounds(u,o)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(s<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(s)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var l=0,c=this.clusters;l<c.length;l++){c[l].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),Q={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Y={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},$={};(0,e.memo)((function(t){var n=t.children,r=t.options,i=t.averageCenter,o=t.batchSizeIE,s=t.calculator,u=t.clusterClass,l=t.enableRetinaIcons,c=t.gridSize,f=t.ignoreHidden,h=t.imageExtension,p=t.imagePath,g=t.imageSizes,v=t.maxZoom,m=t.minimumClusterSize,y=t.styles,b=t.title,w=t.zoomOnClick,E=t.onClick,k=t.onClusteringBegin,S=t.onClusteringEnd,L=t.onMouseOver,x=t.onMouseOut,_=t.onLoad,I=t.onUnmount,C=(0,e.useState)(null),T=C[0],P=C[1],M=(0,e.useContext)(d),N=(0,e.useState)(null),D=N[0],A=N[1],O=(0,e.useState)(null),R=O[0],z=O[1],U=(0,e.useState)(null),V=U[0],B=U[1],F=(0,e.useState)(null),j=F[0],q=F[1],G=(0,e.useState)(null),H=G[0],W=G[1];return(0,e.useEffect)((function(){T&&x&&(null!==j&&google.maps.event.removeListener(j),q(google.maps.event.addListener(T,Q.onMouseOut,x)))}),[x]),(0,e.useEffect)((function(){T&&L&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(T,Q.onMouseOver,L)))}),[L]),(0,e.useEffect)((function(){T&&E&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(T,Q.onClick,E)))}),[E]),(0,e.useEffect)((function(){T&&k&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(T,Q.onClusteringBegin,k)))}),[k]),(0,e.useEffect)((function(){T&&S&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(T,Q.onClusteringEnd,S)))}),[S]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==T&&Y.averageCenter(T,i)}),[T,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==T&&Y.batchSizeIE(T,o)}),[T,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==T&&Y.calculator(T,s)}),[T,s]),(0,e.useEffect)((function(){"undefined"!==typeof u&&null!==T&&Y.clusterClass(T,u)}),[T,u]),(0,e.useEffect)((function(){"undefined"!==typeof l&&null!==T&&Y.enableRetinaIcons(T,l)}),[T,l]),(0,e.useEffect)((function(){"undefined"!==typeof c&&null!==T&&Y.gridSize(T,c)}),[T,c]),(0,e.useEffect)((function(){"undefined"!==typeof f&&null!==T&&Y.ignoreHidden(T,f)}),[T,f]),(0,e.useEffect)((function(){"undefined"!==typeof h&&null!==T&&Y.imageExtension(T,h)}),[T,h]),(0,e.useEffect)((function(){"undefined"!==typeof p&&null!==T&&Y.imagePath(T,p)}),[T,p]),(0,e.useEffect)((function(){"undefined"!==typeof g&&null!==T&&Y.imageSizes(T,g)}),[T,g]),(0,e.useEffect)((function(){"undefined"!==typeof v&&null!==T&&Y.maxZoom(T,v)}),[T,v]),(0,e.useEffect)((function(){"undefined"!==typeof m&&null!==T&&Y.minimumClusterSize(T,m)}),[T,m]),(0,e.useEffect)((function(){"undefined"!==typeof y&&null!==T&&Y.styles(T,y)}),[T,y]),(0,e.useEffect)((function(){"undefined"!==typeof b&&null!==T&&Y.title(T,b)}),[T,b]),(0,e.useEffect)((function(){"undefined"!==typeof w&&null!==T&&Y.zoomOnClick(T,w)}),[T,w]),(0,e.useEffect)((function(){if(M){var e=a({},r||$),t=new K(M,[],e);return i&&Y.averageCenter(t,i),o&&Y.batchSizeIE(t,o),s&&Y.calculator(t,s),u&&Y.clusterClass(t,u),l&&Y.enableRetinaIcons(t,l),c&&Y.gridSize(t,c),f&&Y.ignoreHidden(t,f),h&&Y.imageExtension(t,h),p&&Y.imagePath(t,p),g&&Y.imageSizes(t,g),v&&Y.maxZoom(t,v),m&&Y.minimumClusterSize(t,m),y&&Y.styles(t,y),b&&Y.title(t,b),w&&Y.zoomOnClick(t,w),x&&q(google.maps.event.addListener(t,Q.onMouseOut,x)),L&&W(google.maps.event.addListener(t,Q.onMouseOver,L)),E&&A(google.maps.event.addListener(t,Q.onClick,E)),k&&z(google.maps.event.addListener(t,Q.onClusteringBegin,k)),S&&B(google.maps.event.addListener(t,Q.onClusteringEnd,S)),P(t),_&&_(t),function(){null!==j&&google.maps.event.removeListener(j),null!==H&&google.maps.event.removeListener(H),null!==D&&google.maps.event.removeListener(D),null!==R&&google.maps.event.removeListener(R),null!==V&&google.maps.event.removeListener(V),I&&I(t)}}}),[]),null!==T&&n(T)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}s(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new K(this.context,[],this.props.options);this.registeredEvents=b({updaterMap:Y,eventMap:Q,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Y,eventMap:Q,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),y(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=d}(e.PureComponent);function Z(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var X=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var o=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,Z))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Z(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),s=o.offsetWidth,a=o.offsetHeight,u=this.pixelOffset.width,l=this.pixelOffset.height,c=this.div.offsetWidth,f=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,d=this.getProjection().fromLatLngToContainerPixel(this.position);null!==d&&(d.x<-u+h?n=d.x+u-h:d.x+c+u+h>s&&(n=d.x+c+u+h-s),this.alignBottom?d.y<-l+p+f?r=d.y+l-p-f:d.y+l+p>a&&(r=d.y+l+p-a):d.y<-l+p?r=d.y+l-p:d.y+f+l+p>a&&(r=d.y+f+l+p-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),J={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},ee={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},te={};(0,e.memo)((function(t){var n=t.children,r=t.anchor,o=t.options,s=t.position,l=t.zIndex,c=t.onCloseClick,f=t.onDomReady,h=t.onContentChanged,g=t.onPositionChanged,v=t.onZindexChanged,m=t.onLoad,y=t.onUnmount,b=(0,e.useContext)(d),w=(0,e.useState)(null),E=w[0],k=w[1],S=(0,e.useState)(null),L=S[0],x=S[1],_=(0,e.useState)(null),I=_[0],C=_[1],T=(0,e.useState)(null),P=T[0],M=T[1],N=(0,e.useState)(null),D=N[0],A=N[1],O=(0,e.useState)(null),R=O[0],z=O[1],U=(0,e.useRef)(null);return(0,e.useEffect)((function(){b&&null!==E&&(E.close(),r?E.open(b,r):E.getPosition()&&E.open(b))}),[b,E,r]),(0,e.useEffect)((function(){o&&null!==E&&E.setOptions(o)}),[E,o]),(0,e.useEffect)((function(){if(s&&null!==E){var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);E.setPosition(e)}}),[s]),(0,e.useEffect)((function(){"number"===typeof l&&null!==E&&E.setZIndex(l)}),[l]),(0,e.useEffect)((function(){E&&c&&(null!==L&&google.maps.event.removeListener(L),x(google.maps.event.addListener(E,"closeclick",c)))}),[c]),(0,e.useEffect)((function(){E&&f&&(null!==I&&google.maps.event.removeListener(I),C(google.maps.event.addListener(E,"domready",f)))}),[f]),(0,e.useEffect)((function(){E&&h&&(null!==P&&google.maps.event.removeListener(P),M(google.maps.event.addListener(E,"content_changed",h)))}),[h]),(0,e.useEffect)((function(){E&&g&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(E,"position_changed",g)))}),[g]),(0,e.useEffect)((function(){E&&v&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(E,"zindex_changed",v)))}),[v]),(0,e.useEffect)((function(){if(b){var e=o||te,t=e.position,n=u(e,["position"]),i=void 0;!t||t instanceof google.maps.LatLng||(i=new google.maps.LatLng(t.lat,t.lng));var s=new X(a(a({},n),i?{position:i}:{}));U.current=document.createElement("div"),k(s),c&&x(google.maps.event.addListener(s,"closeclick",c)),f&&C(google.maps.event.addListener(s,"domready",f)),h&&M(google.maps.event.addListener(s,"content_changed",h)),g&&A(google.maps.event.addListener(s,"position_changed",g)),v&&z(google.maps.event.addListener(s,"zindex_changed",v)),s.setContent(U.current),r?s.open(b,r):s.getPosition()?s.open(b):p(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(s)}return function(){null!==E&&(L&&google.maps.event.removeListener(L),P&&google.maps.event.removeListener(P),I&&google.maps.event.removeListener(I),D&&google.maps.event.removeListener(D),R&&google.maps.event.removeListener(R),y&&y(E),E.close())}}),[]),U.current?(0,i.createPortal)(e.Children.only(n),U.current):null})),function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e.containerElement=null,e.state={infoBox:null},e.open=function(t,n){n?null!==e.context&&t.open(e.context,n):t.getPosition()?null!==e.context&&t.open(e.context):p(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},e.setInfoBoxCallback=function(){null!==e.state.infoBox&&null!==e.containerElement&&(e.state.infoBox.setContent(e.containerElement),e.open(e.state.infoBox,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoBox))},e}s(n,t),n.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,r=u(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new X(a(a({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=b({updaterMap:ee,eventMap:J,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)},n.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:ee,eventMap:J,prevProps:e,nextProps:this.props,instance:t}))},n.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),y(this.registeredEvents),t.close())},n.prototype.render=function(){return this.containerElement?(0,i.createPortal)(e.Children.only(this.props.children),this.containerElement):null},n.contextType=d}(e.PureComponent);var ne=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n},re=f(ne);const ie=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class oe{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));const i=ie[15&n];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new oe(s,o,i,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=ie.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return se(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],u=[];for(;a.length;){const l=a.pop()||0,c=a.pop()||0,f=a.pop()||0;if(c-f<=s){for(let s=f;s<=c;s++){const a=o[2*s],l=o[2*s+1];a>=e&&a<=n&&l>=t&&l<=r&&u.push(i[s])}continue}const h=f+c>>1,p=o[2*h],d=o[2*h+1];p>=e&&p<=n&&d>=t&&d<=r&&u.push(i[h]),(0===l?e<=p:t<=d)&&(a.push(f),a.push(h-1),a.push(1-l)),(0===l?n>=p:r>=d)&&(a.push(h+1),a.push(c),a.push(1-l))}return u}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:o}=this,s=[0,r.length-1,0],a=[],u=n*n;for(;s.length;){const l=s.pop()||0,c=s.pop()||0,f=s.pop()||0;if(c-f<=o){for(let n=f;n<=c;n++)ce(i[2*n],i[2*n+1],e,t)<=u&&a.push(r[n]);continue}const h=f+c>>1,p=i[2*h],d=i[2*h+1];ce(p,d,e,t)<=u&&a.push(r[h]),(0===l?e-n<=p:t-n<=d)&&(s.push(f),s.push(h-1),s.push(1-l)),(0===l?e+n>=p:t+n>=d)&&(s.push(h+1),s.push(c),s.push(1-l))}return a}}function se(e,t,n,r,i,o){if(i-r<=n)return;const s=r+i>>1;ae(e,t,s,r,i,o),se(e,t,n,r,s-1,1-o),se(e,t,n,s+1,i,1-o)}function ae(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const s=i-r+1,a=n-r+1,u=Math.log(s),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);ae(e,t,n,Math.max(r,Math.floor(n-a*l/s+c)),Math.min(i,Math.floor(n+(s-a)*l/s+c)),o)}const s=t[2*n+o];let a=r,u=i;for(ue(e,t,r,n),t[2*i+o]>s&&ue(e,t,r,i);a<u;){for(ue(e,t,a,u),a++,u--;t[2*a+o]<s;)a++;for(;t[2*u+o]>s;)u--}t[2*r+o]===s?ue(e,t,r,u):(u++,ue(e,t,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}}function ue(e,t,n,r){le(e,n,r),le(t,2*n,2*r),le(t,2*n+1,2*r+1)}function le(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ce(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const fe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},he=Math.fround||(pe=new Float32Array(1),e=>(pe[0]=+e,pe[0]));var pe;const de=3,ge=5,ve=6;class me{constructor(e){this.options=Object.assign(Object.create(fe),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;const o=[];for(let a=0;a<e.length;a++){const t=e[a];if(!t.geometry)continue;const[n,r]=t.geometry.coordinates,i=he(we(n)),s=he(Ee(r));o.push(i,s,1/0,a,-1,1),this.options.reduce&&o.push(0)}let s=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(i);for(let a=r;a>=n;a--){const e=+Date.now();s=this.trees[a]=this._createTree(this._cluster(s,a)),t&&console.log("z%d: %d clusters in %dms",a,s.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,o],t),s=this.getClusters([-180,r,i,o],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(we(n),Ee(o),we(i),Ee(r)),u=s.data,l=[];for(const c of a){const e=this.stride*c;l.push(u[e+ge]>1?ye(u,e,this.clusterProps):this.points[u[e+de]])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.data;if(t*this.stride>=o.length)throw new Error(r);const s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],u=o[t*this.stride+1],l=i.within(a,u,s),c=[];for(const f of l){const t=f*this.stride;o[t+4]===e&&c.push(o[t+ge]>1?ye(o,t,this.clusterProps):this.points[o[t+de]])}if(0===c.length)throw new Error(r);return c}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:s}=this.options,a=s/o,u=(n-a)/i,l=(n+1+a)/i,c={features:[]};return this._addTileFeatures(r.range((t-a)/i,u,(t+1+a)/i,l),r.data,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-a/i,u,1,l),r.data,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,u,a/i,l),r.data,-1,n,i,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const o=this.getChildren(t);for(const s of o){const t=s.properties;if(t&&t.cluster?i+t.point_count<=r?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i}_createTree(e){const t=new oe(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,o){for(const s of e){const e=s*this.stride,a=t[e+ge]>1;let u,l,c;if(a)u=be(t,e,this.clusterProps),l=t[e],c=t[e+1];else{const n=this.points[t[e+de]];u=n.properties;const[r,i]=n.geometry.coordinates;l=we(r),c=Ee(i)}const f={type:1,geometry:[[Math.round(this.options.extent*(l*i-n)),Math.round(this.options.extent*(c*i-r))]],tags:u};let h;h=a||this.options.generateId?t[e+de]:this.points[t[e+de]].id,void 0!==h&&(f.id=h),o.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:i,minPoints:o}=this.options,s=n/(r*Math.pow(2,t)),a=e.data,u=[],l=this.stride;for(let c=0;c<a.length;c+=l){if(a[c+2]<=t)continue;a[c+2]=t;const n=a[c],r=a[c+1],f=e.within(a[c],a[c+1],s),h=a[c+ge];let p=h;for(const e of f){const n=e*l;a[n+2]>t&&(p+=a[n+ge])}if(p>h&&p>=o){let e,o=n*h,s=r*h,d=-1;const g=((c/l|0)<<5)+(t+1)+this.points.length;for(const n of f){const r=n*l;if(a[r+2]<=t)continue;a[r+2]=t;const u=a[r+ge];o+=a[r]*u,s+=a[r+1]*u,a[r+4]=g,i&&(e||(e=this._map(a,c,!0),d=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,r)))}a[c+4]=g,u.push(o/p,s/p,1/0,g,-1,p),i&&u.push(d)}else{for(let e=0;e<l;e++)u.push(a[c+e]);if(p>1)for(const e of f){const n=e*l;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<l;e++)u.push(a[n+e])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+ge]>1){const r=this.clusterProps[e[t+ve]];return n?Object.assign({},r):r}const r=this.points[e[t+de]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function ye(e,t,n){return{type:"Feature",id:e[t+de],properties:be(e,t,n),geometry:{type:"Point",coordinates:[ke(e[t]),Se(e[t+1])]}}}function be(e,t,n){const r=e[t+ge],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+ve],s=-1===o?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:e[t+de],point_count:r,point_count_abbreviated:i})}function we(e){return e/360+.5}function Ee(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ke(e){return 360*(e-.5)}function Se(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Le(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class xe{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class _e{constructor(e){let{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(xe.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>xe.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(xe.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ie{constructor(e){let{maxZoom:t=16}=e;this.maxZoom=t}noop(e){let{markers:t}=e;return Ce(t)}}const Ce=e=>e.map((e=>new _e({position:xe.getPosition(e),markers:[e]})));class Te extends Ie{constructor(e){var{maxZoom:t,radius:n=60}=e,r=Le(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new me(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!re(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=xe.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!re(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){let{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){let{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new _e({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});const i=r.marker;return new _e({markers:[i],position:xe.getPosition(i)})}}class Pe{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class Me{render(e,t,n){let{count:r,position:i}=e;const o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",s='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+r;if(xe.isAdvancedMarkerAvailable(n)){const e=document.createElement("div");e.innerHTML=s;const t=e.firstElementChild;t.setAttribute("transform","translate(0 25)");const r={map:n,position:i,zIndex:u,title:a,content:t};return new google.maps.marker.AdvancedMarkerElement(r)}const l={position:i,zIndex:u,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(s)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}}class Ne{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(Ne,google.maps.OverlayView)}}var De;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(De||(De={}));const Ae=(e,t,n)=>{n.fitBounds(t.bounds)};class Oe extends Ne{constructor(e){let{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new Te(r),renderer:o=new Me,onClusterClick:s=Ae}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(xe.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,De.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){const e=new Set;for(const r of t)1==r.markers.length&&e.add(r.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||xe.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>xe.setMap(e,null)))))}google.maps.event.trigger(this,De.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>xe.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new Pe(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>xe.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,De.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),xe.setMap(n.marker,t)}))}}function Re(t){var n=function(){p(!!e.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=(0,e.useContext)(d);return p(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}(),r=(0,e.useState)(null),i=r[0],o=r[1];return(0,e.useEffect)((function(){if(n&&null===i){var e=new Oe(a(a({},t),{map:n}));o(e)}}),[n]),i}(0,e.memo)((function(e){var t=e.children,n=Re(e.options);return null!==n?t(n):null}));var ze={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ue={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,e.memo)((function(t){var n=t.children,r=t.anchor,o=t.options,s=t.position,u=t.zIndex,l=t.onCloseClick,c=t.onDomReady,f=t.onContentChanged,h=t.onPositionChanged,g=t.onZindexChanged,v=t.onLoad,m=t.onUnmount,y=(0,e.useContext)(d),b=(0,e.useState)(null),w=b[0],E=b[1],k=(0,e.useState)(null),S=k[0],L=k[1],x=(0,e.useState)(null),_=x[0],I=x[1],C=(0,e.useState)(null),T=C[0],P=C[1],M=(0,e.useState)(null),N=M[0],D=M[1],A=(0,e.useState)(null),O=A[0],R=A[1],z=(0,e.useRef)(null);return(0,e.useEffect)((function(){null!==w&&(w.close(),r?w.open(y,r):w.getPosition()&&w.open(y))}),[y,w,r]),(0,e.useEffect)((function(){o&&null!==w&&w.setOptions(o)}),[w,o]),(0,e.useEffect)((function(){s&&null!==w&&w.setPosition(s)}),[s]),(0,e.useEffect)((function(){"number"===typeof u&&null!==w&&w.setZIndex(u)}),[u]),(0,e.useEffect)((function(){w&&l&&(null!==S&&google.maps.event.removeListener(S),L(google.maps.event.addListener(w,"closeclick",l)))}),[l]),(0,e.useEffect)((function(){w&&c&&(null!==_&&google.maps.event.removeListener(_),I(google.maps.event.addListener(w,"domready",c)))}),[c]),(0,e.useEffect)((function(){w&&f&&(null!==T&&google.maps.event.removeListener(T),P(google.maps.event.addListener(w,"content_changed",f)))}),[f]),(0,e.useEffect)((function(){w&&h&&(null!==N&&google.maps.event.removeListener(N),D(google.maps.event.addListener(w,"position_changed",h)))}),[h]),(0,e.useEffect)((function(){w&&g&&(null!==O&&google.maps.event.removeListener(O),R(google.maps.event.addListener(w,"zindex_changed",g)))}),[g]),(0,e.useEffect)((function(){var e=new google.maps.InfoWindow(a({},o||{}));return E(e),z.current=document.createElement("div"),l&&L(google.maps.event.addListener(e,"closeclick",l)),c&&I(google.maps.event.addListener(e,"domready",c)),f&&P(google.maps.event.addListener(e,"content_changed",f)),h&&D(google.maps.event.addListener(e,"position_changed",h)),g&&R(google.maps.event.addListener(e,"zindex_changed",g)),e.setContent(z.current),s&&e.setPosition(s),u&&e.setZIndex(u),r?e.open(y,r):e.getPosition()?e.open(y):p(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),v&&v(e),function(){S&&google.maps.event.removeListener(S),T&&google.maps.event.removeListener(T),_&&google.maps.event.removeListener(_),N&&google.maps.event.removeListener(N),O&&google.maps.event.removeListener(O),m&&m(e),e.close()}}),[]),z.current?(0,i.createPortal)(e.Children.only(n),z.current):null})),function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredEvents=[],e.containerElement=null,e.state={infoWindow:null},e.open=function(t,n){n?t.open(e.context,n):t.getPosition()?t.open(e.context):p(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},e.setInfoWindowCallback=function(){null!==e.state.infoWindow&&null!==e.containerElement&&(e.state.infoWindow.setContent(e.containerElement),e.open(e.state.infoWindow,e.props.anchor),e.props.onLoad&&e.props.onLoad(e.state.infoWindow))},e}s(n,t),n.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(a({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=b({updaterMap:Ue,eventMap:ze,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},n.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Ue,eventMap:ze,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},n.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(y(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},n.prototype.render=function(){return this.containerElement?(0,i.createPortal)(e.Children.only(this.props.children),this.containerElement):null},n.contextType=d}(e.PureComponent);var Ve={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Be={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},Fe={};(0,e.memo)((function(t){var n=t.options,r=t.draggable,i=t.editable,o=t.visible,s=t.path,u=t.onDblClick,l=t.onDragEnd,c=t.onDragStart,f=t.onMouseDown,h=t.onMouseMove,p=t.onMouseOut,g=t.onMouseOver,v=t.onMouseUp,m=t.onRightClick,y=t.onClick,b=t.onDrag,w=t.onLoad,E=t.onUnmount,k=(0,e.useContext)(d),S=(0,e.useState)(null),L=S[0],x=S[1],_=(0,e.useState)(null),I=_[0],C=_[1],T=(0,e.useState)(null),P=T[0],M=T[1],N=(0,e.useState)(null),D=N[0],A=N[1],O=(0,e.useState)(null),R=O[0],z=O[1],U=(0,e.useState)(null),V=U[0],B=U[1],F=(0,e.useState)(null),j=F[0],q=F[1],G=(0,e.useState)(null),H=G[0],W=G[1],K=(0,e.useState)(null),Q=K[0],Y=K[1],$=(0,e.useState)(null),Z=$[0],X=$[1],J=(0,e.useState)(null),ee=J[0],te=J[1],ne=(0,e.useState)(null),re=ne[0],ie=ne[1];return(0,e.useEffect)((function(){null!==L&&L.setMap(k)}),[k]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==L&&L.setOptions(n)}),[L,n]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==L&&L.setDraggable(r)}),[L,r]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==L&&L.setEditable(i)}),[L,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==L&&L.setVisible(o)}),[L,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==L&&L.setPath(s)}),[L,s]),(0,e.useEffect)((function(){L&&u&&(null!==I&&google.maps.event.removeListener(I),C(google.maps.event.addListener(L,"dblclick",u)))}),[u]),(0,e.useEffect)((function(){L&&l&&(null!==P&&google.maps.event.removeListener(P),M(google.maps.event.addListener(L,"dragend",l)))}),[l]),(0,e.useEffect)((function(){L&&c&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(L,"dragstart",c)))}),[c]),(0,e.useEffect)((function(){L&&f&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(L,"mousedown",f)))}),[f]),(0,e.useEffect)((function(){L&&h&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(L,"mousemove",h)))}),[h]),(0,e.useEffect)((function(){L&&p&&(null!==j&&google.maps.event.removeListener(j),q(google.maps.event.addListener(L,"mouseout",p)))}),[p]),(0,e.useEffect)((function(){L&&g&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(L,"mouseover",g)))}),[g]),(0,e.useEffect)((function(){L&&v&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(L,"mouseup",v)))}),[v]),(0,e.useEffect)((function(){L&&m&&(null!==Z&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(L,"rightclick",m)))}),[m]),(0,e.useEffect)((function(){L&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(L,"click",y)))}),[y]),(0,e.useEffect)((function(){L&&b&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(L,"drag",b)))}),[b]),(0,e.useEffect)((function(){var e=new google.maps.Polyline(a(a({},n||Fe),{map:k}));return s&&e.setPath(s),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),u&&C(google.maps.event.addListener(e,"dblclick",u)),l&&M(google.maps.event.addListener(e,"dragend",l)),c&&A(google.maps.event.addListener(e,"dragstart",c)),f&&z(google.maps.event.addListener(e,"mousedown",f)),h&&B(google.maps.event.addListener(e,"mousemove",h)),p&&q(google.maps.event.addListener(e,"mouseout",p)),g&&W(google.maps.event.addListener(e,"mouseover",g)),v&&Y(google.maps.event.addListener(e,"mouseup",v)),m&&X(google.maps.event.addListener(e,"rightclick",m)),y&&te(google.maps.event.addListener(e,"click",y)),b&&ie(google.maps.event.addListener(e,"drag",b)),x(e),w&&w(e),function(){null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==D&&google.maps.event.removeListener(D),null!==R&&google.maps.event.removeListener(R),null!==V&&google.maps.event.removeListener(V),null!==j&&google.maps.event.removeListener(j),null!==H&&google.maps.event.removeListener(H),null!==Q&&google.maps.event.removeListener(Q),null!==Z&&google.maps.event.removeListener(Z),null!==ee&&google.maps.event.removeListener(ee),E&&E(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:Be,eventMap:Ve,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Be,eventMap:Ve,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),y(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var je={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},qe={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,e.memo)((function(t){var n=t.options,r=t.draggable,i=t.editable,o=t.visible,s=t.path,u=t.paths,l=t.onDblClick,c=t.onDragEnd,f=t.onDragStart,h=t.onMouseDown,p=t.onMouseMove,g=t.onMouseOut,v=t.onMouseOver,m=t.onMouseUp,y=t.onRightClick,b=t.onClick,w=t.onDrag,E=t.onLoad,k=t.onUnmount,S=(0,e.useContext)(d),L=(0,e.useState)(null),x=L[0],_=L[1],I=(0,e.useState)(null),C=I[0],T=I[1],P=(0,e.useState)(null),M=P[0],N=P[1],D=(0,e.useState)(null),A=D[0],O=D[1],R=(0,e.useState)(null),z=R[0],U=R[1],V=(0,e.useState)(null),B=V[0],F=V[1],j=(0,e.useState)(null),q=j[0],G=j[1],H=(0,e.useState)(null),W=H[0],K=H[1],Q=(0,e.useState)(null),Y=Q[0],$=Q[1],Z=(0,e.useState)(null),X=Z[0],J=Z[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ie=re[0],oe=re[1];return(0,e.useEffect)((function(){null!==x&&x.setMap(S)}),[S]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==x&&x.setOptions(n)}),[x,n]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==x&&x.setDraggable(r)}),[x,r]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==x&&x.setEditable(i)}),[x,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setVisible(o)}),[x,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==x&&x.setPath(s)}),[x,s]),(0,e.useEffect)((function(){"undefined"!==typeof u&&null!==x&&x.setPaths(u)}),[x,u]),(0,e.useEffect)((function(){x&&l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(x,"dblclick",l)))}),[l]),(0,e.useEffect)((function(){x&&c&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(x,"dragend",c)))}),[c]),(0,e.useEffect)((function(){x&&f&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(x,"dragstart",f)))}),[f]),(0,e.useEffect)((function(){x&&h&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(x,"mousedown",h)))}),[h]),(0,e.useEffect)((function(){x&&p&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(x,"mousemove",p)))}),[p]),(0,e.useEffect)((function(){x&&g&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(x,"mouseout",g)))}),[g]),(0,e.useEffect)((function(){x&&v&&(null!==W&&google.maps.event.removeListener(W),K(google.maps.event.addListener(x,"mouseover",v)))}),[v]),(0,e.useEffect)((function(){x&&m&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(x,"mouseup",m)))}),[m]),(0,e.useEffect)((function(){x&&y&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(x,"rightclick",y)))}),[y]),(0,e.useEffect)((function(){x&&b&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(x,"click",b)))}),[b]),(0,e.useEffect)((function(){x&&w&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(x,"drag",w)))}),[w]),(0,e.useEffect)((function(){var e=new google.maps.Polygon(a(a({},n||{}),{map:S}));return s&&e.setPath(s),u&&e.setPaths(u),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof r&&e.setDraggable(r),l&&T(google.maps.event.addListener(e,"dblclick",l)),c&&N(google.maps.event.addListener(e,"dragend",c)),f&&O(google.maps.event.addListener(e,"dragstart",f)),h&&U(google.maps.event.addListener(e,"mousedown",h)),p&&F(google.maps.event.addListener(e,"mousemove",p)),g&&G(google.maps.event.addListener(e,"mouseout",g)),v&&K(google.maps.event.addListener(e,"mouseover",v)),m&&$(google.maps.event.addListener(e,"mouseup",m)),y&&J(google.maps.event.addListener(e,"rightclick",y)),b&&ne(google.maps.event.addListener(e,"click",b)),w&&oe(google.maps.event.addListener(e,"drag",w)),_(e),E&&E(e),function(){null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==W&&google.maps.event.removeListener(W),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),k&&k(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:qe,eventMap:je,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:qe,eventMap:je,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),y(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var Ge={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},He={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,e.memo)((function(t){var n=t.options,r=t.bounds,i=t.draggable,o=t.editable,s=t.visible,u=t.onDblClick,l=t.onDragEnd,c=t.onDragStart,f=t.onMouseDown,h=t.onMouseMove,p=t.onMouseOut,g=t.onMouseOver,v=t.onMouseUp,m=t.onRightClick,y=t.onClick,b=t.onDrag,w=t.onBoundsChanged,E=t.onLoad,k=t.onUnmount,S=(0,e.useContext)(d),L=(0,e.useState)(null),x=L[0],_=L[1],I=(0,e.useState)(null),C=I[0],T=I[1],P=(0,e.useState)(null),M=P[0],N=P[1],D=(0,e.useState)(null),A=D[0],O=D[1],R=(0,e.useState)(null),z=R[0],U=R[1],V=(0,e.useState)(null),B=V[0],F=V[1],j=(0,e.useState)(null),q=j[0],G=j[1],H=(0,e.useState)(null),W=H[0],K=H[1],Q=(0,e.useState)(null),Y=Q[0],$=Q[1],Z=(0,e.useState)(null),X=Z[0],J=Z[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ie=re[0],oe=re[1],se=(0,e.useState)(null),ae=se[0],ue=se[1];return(0,e.useEffect)((function(){null!==x&&x.setMap(S)}),[S]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==x&&x.setOptions(n)}),[x,n]),(0,e.useEffect)((function(){"undefined"!==typeof i&&null!==x&&x.setDraggable(i)}),[x,i]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setEditable(o)}),[x,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==x&&x.setVisible(s)}),[x,s]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==x&&x.setBounds(r)}),[x,r]),(0,e.useEffect)((function(){x&&u&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(x,"dblclick",u)))}),[u]),(0,e.useEffect)((function(){x&&l&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(x,"dragend",l)))}),[l]),(0,e.useEffect)((function(){x&&c&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(x,"dragstart",c)))}),[c]),(0,e.useEffect)((function(){x&&f&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(x,"mousedown",f)))}),[f]),(0,e.useEffect)((function(){x&&h&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(x,"mousemove",h)))}),[h]),(0,e.useEffect)((function(){x&&p&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(x,"mouseout",p)))}),[p]),(0,e.useEffect)((function(){x&&g&&(null!==W&&google.maps.event.removeListener(W),K(google.maps.event.addListener(x,"mouseover",g)))}),[g]),(0,e.useEffect)((function(){x&&v&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(x,"mouseup",v)))}),[v]),(0,e.useEffect)((function(){x&&m&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(x,"rightclick",m)))}),[m]),(0,e.useEffect)((function(){x&&y&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(x,"click",y)))}),[y]),(0,e.useEffect)((function(){x&&b&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(x,"drag",b)))}),[b]),(0,e.useEffect)((function(){x&&w&&(null!==ae&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(x,"bounds_changed",w)))}),[w]),(0,e.useEffect)((function(){var e=new google.maps.Rectangle(a(a({},n||{}),{map:S}));return"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof r&&e.setBounds(r),u&&T(google.maps.event.addListener(e,"dblclick",u)),l&&N(google.maps.event.addListener(e,"dragend",l)),c&&O(google.maps.event.addListener(e,"dragstart",c)),f&&U(google.maps.event.addListener(e,"mousedown",f)),h&&F(google.maps.event.addListener(e,"mousemove",h)),p&&G(google.maps.event.addListener(e,"mouseout",p)),g&&K(google.maps.event.addListener(e,"mouseover",g)),v&&$(google.maps.event.addListener(e,"mouseup",v)),m&&J(google.maps.event.addListener(e,"rightclick",m)),y&&ne(google.maps.event.addListener(e,"click",y)),b&&oe(google.maps.event.addListener(e,"drag",b)),w&&ue(google.maps.event.addListener(e,"bounds_changed",w)),_(e),E&&E(e),function(){null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==W&&google.maps.event.removeListener(W),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),k&&k(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:He,eventMap:Ge,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:He,eventMap:Ge,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),y(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var We={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ke={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},Qe={};(0,e.memo)((function(t){var n=t.options,r=t.center,i=t.radius,o=t.draggable,s=t.editable,u=t.visible,l=t.onDblClick,c=t.onDragEnd,f=t.onDragStart,h=t.onMouseDown,p=t.onMouseMove,g=t.onMouseOut,v=t.onMouseOver,m=t.onMouseUp,y=t.onRightClick,b=t.onClick,w=t.onDrag,E=t.onCenterChanged,k=t.onRadiusChanged,S=t.onLoad,L=t.onUnmount,x=(0,e.useContext)(d),_=(0,e.useState)(null),I=_[0],C=_[1],T=(0,e.useState)(null),P=T[0],M=T[1],N=(0,e.useState)(null),D=N[0],A=N[1],O=(0,e.useState)(null),R=O[0],z=O[1],U=(0,e.useState)(null),V=U[0],B=U[1],F=(0,e.useState)(null),j=F[0],q=F[1],G=(0,e.useState)(null),H=G[0],W=G[1],K=(0,e.useState)(null),Q=K[0],Y=K[1],$=(0,e.useState)(null),Z=$[0],X=$[1],J=(0,e.useState)(null),ee=J[0],te=J[1],ne=(0,e.useState)(null),re=ne[0],ie=ne[1],oe=(0,e.useState)(null),se=oe[0],ae=oe[1],ue=(0,e.useState)(null),le=ue[0],ce=ue[1],fe=(0,e.useState)(null),he=fe[0],pe=fe[1];return(0,e.useEffect)((function(){null!==I&&I.setMap(x)}),[x]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==I&&I.setOptions(n)}),[I,n]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==I&&I.setDraggable(o)}),[I,o]),(0,e.useEffect)((function(){"undefined"!==typeof s&&null!==I&&I.setEditable(s)}),[I,s]),(0,e.useEffect)((function(){"undefined"!==typeof u&&null!==I&&I.setVisible(u)}),[I,u]),(0,e.useEffect)((function(){"number"===typeof i&&null!==I&&I.setRadius(i)}),[I,i]),(0,e.useEffect)((function(){"undefined"!==typeof r&&null!==I&&I.setCenter(r)}),[I,r]),(0,e.useEffect)((function(){I&&l&&(null!==P&&google.maps.event.removeListener(P),M(google.maps.event.addListener(I,"dblclick",l)))}),[l]),(0,e.useEffect)((function(){I&&c&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(I,"dragend",c)))}),[c]),(0,e.useEffect)((function(){I&&f&&(null!==R&&google.maps.event.removeListener(R),z(google.maps.event.addListener(I,"dragstart",f)))}),[f]),(0,e.useEffect)((function(){I&&h&&(null!==V&&google.maps.event.removeListener(V),B(google.maps.event.addListener(I,"mousedown",h)))}),[h]),(0,e.useEffect)((function(){I&&p&&(null!==j&&google.maps.event.removeListener(j),q(google.maps.event.addListener(I,"mousemove",p)))}),[p]),(0,e.useEffect)((function(){I&&g&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(I,"mouseout",g)))}),[g]),(0,e.useEffect)((function(){I&&v&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(I,"mouseover",v)))}),[v]),(0,e.useEffect)((function(){I&&m&&(null!==Z&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(I,"mouseup",m)))}),[m]),(0,e.useEffect)((function(){I&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(I,"rightclick",y)))}),[y]),(0,e.useEffect)((function(){I&&b&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(I,"click",b)))}),[b]),(0,e.useEffect)((function(){I&&w&&(null!==se&&google.maps.event.removeListener(se),ae(google.maps.event.addListener(I,"drag",w)))}),[w]),(0,e.useEffect)((function(){I&&E&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(I,"center_changed",E)))}),[b]),(0,e.useEffect)((function(){I&&k&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(I,"radius_changed",k)))}),[k]),(0,e.useEffect)((function(){var e=new google.maps.Circle(a(a({},n||Qe),{map:x}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof u&&e.setVisible(u),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof o&&e.setDraggable(o),l&&M(google.maps.event.addListener(e,"dblclick",l)),c&&A(google.maps.event.addListener(e,"dragend",c)),f&&z(google.maps.event.addListener(e,"dragstart",f)),h&&B(google.maps.event.addListener(e,"mousedown",h)),p&&q(google.maps.event.addListener(e,"mousemove",p)),g&&W(google.maps.event.addListener(e,"mouseout",g)),v&&Y(google.maps.event.addListener(e,"mouseover",v)),m&&X(google.maps.event.addListener(e,"mouseup",m)),y&&te(google.maps.event.addListener(e,"rightclick",y)),b&&ie(google.maps.event.addListener(e,"click",b)),w&&ae(google.maps.event.addListener(e,"drag",w)),E&&ce(google.maps.event.addListener(e,"center_changed",E)),k&&pe(google.maps.event.addListener(e,"radius_changed",k)),C(e),S&&S(e),function(){null!==P&&google.maps.event.removeListener(P),null!==D&&google.maps.event.removeListener(D),null!==R&&google.maps.event.removeListener(R),null!==V&&google.maps.event.removeListener(V),null!==j&&google.maps.event.removeListener(j),null!==H&&google.maps.event.removeListener(H),null!==Q&&google.maps.event.removeListener(Q),null!==Z&&google.maps.event.removeListener(Z),null!==ee&&google.maps.event.removeListener(ee),null!==re&&google.maps.event.removeListener(re),null!==le&&google.maps.event.removeListener(le),null!==he&&google.maps.event.removeListener(he),L&&L(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:Ke,eventMap:We,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Ke,eventMap:We,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),y(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var Ye={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},$e={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,e.memo)((function(t){var n=t.options,r=t.onClick,i=t.onDblClick,o=t.onMouseDown,s=t.onMouseMove,u=t.onMouseOut,l=t.onMouseOver,c=t.onMouseUp,f=t.onRightClick,h=t.onAddFeature,p=t.onRemoveFeature,g=t.onRemoveProperty,v=t.onSetGeometry,m=t.onSetProperty,y=t.onLoad,b=t.onUnmount,w=(0,e.useContext)(d),E=(0,e.useState)(null),k=E[0],S=E[1],L=(0,e.useState)(null),x=L[0],_=L[1],I=(0,e.useState)(null),C=I[0],T=I[1],P=(0,e.useState)(null),M=P[0],N=P[1],D=(0,e.useState)(null),A=D[0],O=D[1],R=(0,e.useState)(null),z=R[0],U=R[1],V=(0,e.useState)(null),B=V[0],F=V[1],j=(0,e.useState)(null),q=j[0],G=j[1],H=(0,e.useState)(null),W=H[0],K=H[1],Q=(0,e.useState)(null),Y=Q[0],$=Q[1],Z=(0,e.useState)(null),X=Z[0],J=Z[1],ee=(0,e.useState)(null),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ie=re[0],oe=re[1],se=(0,e.useState)(null),ae=se[0],ue=se[1];return(0,e.useEffect)((function(){null!==k&&k.setMap(w)}),[w]),(0,e.useEffect)((function(){k&&i&&(null!==x&&google.maps.event.removeListener(x),_(google.maps.event.addListener(k,"dblclick",i)))}),[i]),(0,e.useEffect)((function(){k&&o&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(k,"mousedown",o)))}),[o]),(0,e.useEffect)((function(){k&&s&&(null!==M&&google.maps.event.removeListener(M),N(google.maps.event.addListener(k,"mousemove",s)))}),[s]),(0,e.useEffect)((function(){k&&u&&(null!==A&&google.maps.event.removeListener(A),O(google.maps.event.addListener(k,"mouseout",u)))}),[u]),(0,e.useEffect)((function(){k&&l&&(null!==z&&google.maps.event.removeListener(z),U(google.maps.event.addListener(k,"mouseover",l)))}),[l]),(0,e.useEffect)((function(){k&&c&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(k,"mouseup",c)))}),[c]),(0,e.useEffect)((function(){k&&f&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(k,"rightclick",f)))}),[f]),(0,e.useEffect)((function(){k&&r&&(null!==W&&google.maps.event.removeListener(W),K(google.maps.event.addListener(k,"click",r)))}),[r]),(0,e.useEffect)((function(){k&&h&&(null!==Y&&google.maps.event.removeListener(Y),$(google.maps.event.addListener(k,"addfeature",h)))}),[h]),(0,e.useEffect)((function(){k&&p&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(k,"removefeature",p)))}),[p]),(0,e.useEffect)((function(){k&&g&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(k,"removeproperty",g)))}),[g]),(0,e.useEffect)((function(){k&&v&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(k,"setgeometry",v)))}),[v]),(0,e.useEffect)((function(){k&&m&&(null!==ae&&google.maps.event.removeListener(ae),ue(google.maps.event.addListener(k,"setproperty",m)))}),[m]),(0,e.useEffect)((function(){if(null!==w){var e=new google.maps.Data(a(a({},n||{}),{map:w}));i&&_(google.maps.event.addListener(e,"dblclick",i)),o&&T(google.maps.event.addListener(e,"mousedown",o)),s&&N(google.maps.event.addListener(e,"mousemove",s)),u&&O(google.maps.event.addListener(e,"mouseout",u)),l&&U(google.maps.event.addListener(e,"mouseover",l)),c&&F(google.maps.event.addListener(e,"mouseup",c)),f&&G(google.maps.event.addListener(e,"rightclick",f)),r&&K(google.maps.event.addListener(e,"click",r)),h&&$(google.maps.event.addListener(e,"addfeature",h)),p&&J(google.maps.event.addListener(e,"removefeature",p)),g&&ne(google.maps.event.addListener(e,"removeproperty",g)),v&&oe(google.maps.event.addListener(e,"setgeometry",v)),m&&ue(google.maps.event.addListener(e,"setproperty",m)),S(e),y&&y(e)}return function(){k&&(null!==x&&google.maps.event.removeListener(x),null!==C&&google.maps.event.removeListener(C),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==W&&google.maps.event.removeListener(W),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),b&&b(k),k.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}s(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(a(a({},this.props.options||{}),{map:this.context}));this.registeredEvents=b({updaterMap:$e,eventMap:Ye,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:$e,eventMap:Ye,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),y(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var Ze={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Xe={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(a(a({},this.props.options),{map:this.context}));this.registeredEvents=b({updaterMap:Xe,eventMap:Ze,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:Xe,eventMap:Ze,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),y(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);function Je(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function et(e,t){return new t(e.lat,e.lng)}function tt(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function nt(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(i=n,o=google.maps.LatLngBounds,s=tt,i instanceof o?i:s(i,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,o=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,et));var i,o,s}function rt(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function it(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,e.memo)((function(t){var n=t.position,r=t.bounds,o=t.mapPaneName,u=t.zIndex,l=t.onLoad,c=t.onUnmount,f=t.getPixelPositionOffset,h=t.children,p=(0,e.useContext)(d),g=(0,e.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),v=(0,e.useMemo)((function(){return function(e,t,n,r,i){var o=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.container=t,o.pane=n,o.position=r,o.bounds=i,o}return s(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=nt(this.getProjection(),a({},this.container?Je(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],o=r[0],s=r[1];this.container.style[o]=s}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new o(e,t,n,r)}(g,o,n,r,f)}),[g,o,n,r]);return(0,e.useEffect)((function(){return null===l||void 0===l||l(v),null===v||void 0===v||v.setMap(p),function(){null===c||void 0===c||c(v),null===v||void 0===v||v.setMap(null)}}),[p,v]),(0,e.useEffect)((function(){g.style.zIndex="".concat(u)}),[u,g]),i.createPortal(h,g)})),function(t){function n(n){var r=t.call(this,n)||this;r.state={paneEl:null,containerStyle:{position:"absolute"}},r.updatePane=function(){var e=r.props.mapPaneName,t=r.overlayView.getPanes();p(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?r.setState({paneEl:t[e]}):r.setState({paneEl:null})},r.onAdd=function(){var e,t;r.updatePane(),null===(t=(e=r.props).onLoad)||void 0===t||t.call(e,r.overlayView)},r.onPositionElement=function(){var e,t,n,i=nt(r.overlayView.getProjection(),a({x:0,y:0},r.containerRef.current?Je(r.containerRef.current,r.props.getPixelPositionOffset):{}),r.props.bounds,r.props.position),o=(e=r.state.containerStyle).left,s=e.top,u=e.width,l=e.height;n={left:o,top:s,width:u,height:l},((t=i).left!==n.left||t.top!==n.top||t.width!==n.height||t.height!==n.height)&&r.setState({containerStyle:{top:i.top||0,left:i.left||0,width:i.width||0,height:i.height||0,position:"absolute"}})},r.draw=function(){r.onPositionElement()},r.onRemove=function(){var e,t;r.setState((function(){return{paneEl:null}})),null===(t=(e=r.props).onUnmount)||void 0===t||t.call(e,r.overlayView)},r.containerRef=(0,e.createRef)();var i=new google.maps.OverlayView;return i.onAdd=r.onAdd,i.draw=r.draw,i.onRemove=r.onRemove,r.overlayView=i,r}s(n,t),n.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},n.prototype.componentDidUpdate=function(e){var t=rt(e.position),n=rt(this.props.position),r=it(e.bounds),i=it(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},n.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},n.prototype.render=function(){var t=this.state.paneEl;return t?i.createPortal((0,r.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:e.Children.only(this.props.children)}),t):null},n.FLOAT_PANE="floatPane",n.MAP_PANE="mapPane",n.MARKER_LAYER="markerLayer",n.OVERLAY_LAYER="overlayLayer",n.OVERLAY_MOUSE_TARGET="overlayMouseTarget",n.contextType=d}(e.PureComponent);function ot(){}var st={onDblClick:"dblclick",onClick:"click"},at={opacity:function(e,t){e.setOpacity(t)}};(0,e.memo)((function(t){var n=t.url,r=t.bounds,i=t.options,o=t.visible,s=(0,e.useContext)(d),u=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=(0,e.useMemo)((function(){return new google.maps.GroundOverlay(n,u,a({},i))}),[]);return(0,e.useEffect)((function(){null!==l&&l.setMap(s)}),[s]),(0,e.useEffect)((function(){"undefined"!==typeof n&&null!==l&&(l.set("url",n),l.setMap(s))}),[l,n]),(0,e.useEffect)((function(){"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)}),[l,o]),(0,e.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==l&&(l.set("bounds",e),l.setMap(s))}),[l,r]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}s(t,e),t.prototype.componentDidMount=function(){p(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,a(a({},this.props.options),{map:this.context}));this.registeredEvents=b({updaterMap:at,eventMap:st,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:at,eventMap:st,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:ot},t.contextType=d}(e.PureComponent);var ut={},lt={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,e.memo)((function(t){var n=t.data,r=t.onLoad,i=t.onUnmount,o=t.options,s=(0,e.useContext)(d),u=(0,e.useState)(null),l=u[0],c=u[1];return(0,e.useEffect)((function(){google.maps.visualization||p(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,e.useEffect)((function(){p(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,e.useEffect)((function(){null!==l&&l.setMap(s)}),[s]),(0,e.useEffect)((function(){o&&null!==l&&l.setOptions(o)}),[l,o]),(0,e.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(a(a({},o||{}),{data:n,map:s}));return c(e),r&&r(e),function(){null!==l&&(i&&i(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}s(t,e),t.prototype.componentDidMount=function(){p(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),p(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(a(a({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=b({updaterMap:lt,eventMap:ut,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){y(this.registeredEvents),this.registeredEvents=b({updaterMap:lt,eventMap:ut,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),y(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent);var ct={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},ft={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},ht=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}s(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=b({updaterMap:ft,eventMap:ct,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:ft,eventMap:ct,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),y(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=d}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}s(t,e),t.prototype.componentDidMount=function(){p(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(e.PureComponent),{onDirectionsChanged:"directions_changed"}),pt={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},dt=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}s(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=b({updaterMap:pt,eventMap:ht,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:pt,eventMap:ht,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),y(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,r.jsx)(r.Fragment,{})},t.contextType=d}(e.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}s(t,e),t.prototype.componentDidMount=function(){p(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(e.PureComponent),{onPlacesChanged:"places_changed"}),gt={bounds:function(e,t){e.setBounds(t)}},vt=(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=(0,e.createRef)(),n.state={searchBox:null},n.setSearchBoxCallback=function(){null!==n.state.searchBox&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}s(n,t),n.prototype.componentDidMount=function(){if(p(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=b({updaterMap:gt,eventMap:dt,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},n.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(y(this.registeredEvents),this.registeredEvents=b({updaterMap:gt,eventMap:dt,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},n.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),y(this.registeredEvents))},n.prototype.render=function(){return(0,r.jsx)("div",{ref:this.containerElement,children:e.Children.only(this.props.children)})},n.contextType=d}(e.PureComponent),{onPlaceChanged:"place_changed"}),mt={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}};!function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=(0,e.createRef)(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){null!==n.state.autocomplete&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}s(n,t),n.prototype.componentDidMount=function(){var e;p(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=b({updaterMap:mt,eventMap:vt,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},n.prototype.componentDidUpdate=function(e){y(this.registeredEvents),this.registeredEvents=b({updaterMap:mt,eventMap:vt,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},n.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&y(this.registeredEvents)},n.prototype.render=function(){return(0,r.jsx)("div",{ref:this.containerElement,className:this.props.className,children:e.Children.only(this.props.children)})},n.defaultProps={className:""},n.contextType=d}(e.PureComponent);var yt=function(){return yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yt.apply(this,arguments)};function bt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var wt=function(e,t){return wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wt(e,t)};var Et=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};function kt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=kt(e[n],t[n]));return e}var St=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function Lt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var _t=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,It.prototype.create),o}return function(e,t){function n(){this.constructor=e}wt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),It=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?function(e,t){return e.replace(Ct,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").";return new _t(i,a,r)},e}();var Ct=/\{\$([^}]+)}/g;function Tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function Pt(e,t){var n=new Mt(e,t);return n.subscribe.bind(n)}var Mt=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Nt),void 0===r.error&&(r.error=Nt),void 0===r.complete&&(r.complete=Nt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Nt(){}var Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dt.apply(this,arguments)};function At(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Ot(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Rt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zt(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ut(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zt(arguments[t]));return e}var Vt=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),Bt="[DEFAULT]",Ft=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=Bt);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new St;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Dt({identifier:Bt,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(r)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(Bt)}catch(c){}try{for(var r=Rt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=zt(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Bt),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return At(this,void 0,void 0,(function(){var e;return Ot(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ut(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===Bt?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Bt:e},e}();var jt,qt=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ft(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Gt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Ht,Wt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ht||(Ht={}));var Kt,Qt={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},Yt=Ht.INFO,$t=((jt={})[Ht.DEBUG]="log",jt[Ht.VERBOSE]="log",jt[Ht.INFO]="info",jt[Ht.WARN]="warn",jt[Ht.ERROR]="error",jt),Zt=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=$t[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Gt(["["+i+"]  "+e.name+":"],n))}},Xt=function(){function e(e){this.name=e,this._logLevel=Yt,this._logHandler=Zt,this._userLogHandler=null,Wt.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ht))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?Qt[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,Ht.DEBUG],e)),this._logHandler.apply(this,Gt([this,Ht.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,Ht.VERBOSE],e)),this._logHandler.apply(this,Gt([this,Ht.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,Ht.INFO],e)),this._logHandler.apply(this,Gt([this,Ht.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,Ht.WARN],e)),this._logHandler.apply(this,Gt([this,Ht.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,Ht.ERROR],e)),this._logHandler.apply(this,Gt([this,Ht.ERROR],e))},e}();function Jt(e){Wt.forEach((function(t){t.setLogLevel(e)}))}var en,tn=((Kt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Kt["bad-app-name"]="Illegal App name: '{$appName}",Kt["duplicate-app"]="Firebase App named '{$appName}' already exists",Kt["app-deleted"]="Firebase App named '{$appName}' already deleted",Kt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Kt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Kt),nn=new It("app","Firebase",tn),rn="@firebase/app",on="[DEFAULT]",sn=((en={})[rn]="fire-core",en["@firebase/analytics"]="fire-analytics",en["@firebase/auth"]="fire-auth",en["@firebase/database"]="fire-rtdb",en["@firebase/functions"]="fire-fn",en["@firebase/installations"]="fire-iid",en["@firebase/messaging"]="fire-fcm",en["@firebase/performance"]="fire-perf",en["@firebase/remote-config"]="fire-rc",en["@firebase/storage"]="fire-gcs",en["@firebase/firestore"]="fire-fst",en["fire-js"]="fire-js",en["firebase-wrapper"]="fire-js-all",en),an=new Xt("@firebase/app"),un=function(){function e(e,t,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=kt(void 0,e),this.container=new qt(t.name),this._addComponent(new Vt("app",(function(){return o}),"PUBLIC"));try{for(var s=bt(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=on),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=on),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){an.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw nn.create("app-deleted",{appName:this.name_})},e}();un.prototype.name&&un.prototype.options||un.prototype.delete||console.log("dc");var ln="8.0.0";function cn(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=on);var s=o.name;if("string"!==typeof s||!s)throw nn.create("bad-app-name",{appName:String(s)});if(Tt(t,s))throw nn.create("duplicate-app",{appName:s});var a=new e(n,o,r);return t[s]=a,a},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=sn[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void an.warn(u.join(" "))}o(new Vt(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Jt,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw nn.create("invalid-log-argument",{appName:name});!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Qt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Ht[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=Wt;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:ln,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Tt(t,e=e||on))throw nn.create("no-app",{appName:e});return t[e]}function o(o){var s,a,u=o.name;if(n.has(u))return an.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var l=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[u])throw nn.create("invalid-app-argument",{appName:u});return e[u]()};void 0!==o.serviceProps&&kt(l,o.serviceProps),r[u]=l,e.prototype[u]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,u).apply(this,o.multipleInstances?e:[])}}try{for(var c=bt(Object.keys(t)),f=c.next();!f.done;f=c.next()){var h=f.value;t[h]._addComponent(o)}}catch(p){s={error:p}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var fn=function e(){var t=cn(un);return t.INTERNAL=yt(yt({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){kt(t,e)},createSubscribe:Pt,ErrorFactory:It,deepExtend:kt}),t}(),hn=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){an.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var pn=self.firebase.SDK_VERSION;pn&&pn.indexOf("LITE")>=0&&an.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var dn=fn.initializeApp;fn.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xt()&&an.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),dn.apply(void 0,e)};var gn=fn;!function(e,t){e.INTERNAL.registerComponent(new Vt("platform-logger",(function(e){return new hn(e)}),"PRIVATE")),e.registerVersion(rn,"0.6.12",t),e.registerVersion("fire-js","")}(gn);const vn=gn;vn.registerVersion("firebase","8.0.0","app");var mn=function(e,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},mn(e,t)};function yn(e,t){function n(){this.constructor=e}mn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function bn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function wn(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function En(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var kn=function(e,t){return kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},kn(e,t)};function Sn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ln,xn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},_n=_n||{},In=xn||self;function Cn(){}function Tn(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function Pn(e){var t=Tn(e);return"array"==t||"object"==t&&"number"==typeof e.length}function Mn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Nn="closure_uid_"+(1e9*Math.random()>>>0),Dn=0;function An(e,t,n){return e.call.apply(e.bind,arguments)}function On(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rn(e,t,n){return(Rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?An:On).apply(null,arguments)}function zn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var Un=Date.now;function Vn(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function Bn(){this.j=this.j,this.i=this.i}Bn.prototype.j=!1,Bn.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,Nn)&&e[Nn]||(e[Nn]=++Dn)})(this)},Bn.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Fn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},jn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function qn(e){return Array.prototype.concat.apply([],arguments)}function Gn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hn(e){return/^[\s\xa0]*$/.test(e)}var Wn,Kn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Qn(e,t){return-1!=e.indexOf(t)}function Yn(e,t){return e<t?-1:e>t?1:0}e:{var $n=In.navigator;if($n){var Zn=$n.userAgent;if(Zn){Wn=Zn;break e}}Wn=""}function Xn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jn(e){var t={};for(var n in e)t[n]=e[n];return t}var er="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<er.length;o++)n=er[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function nr(e){return nr[" "](e),e}nr[" "]=Cn;var rr,ir=Qn(Wn,"Opera"),or=Qn(Wn,"Trident")||Qn(Wn,"MSIE"),sr=Qn(Wn,"Edge"),ar=sr||or,ur=Qn(Wn,"Gecko")&&!(Qn(Wn.toLowerCase(),"webkit")&&!Qn(Wn,"Edge"))&&!(Qn(Wn,"Trident")||Qn(Wn,"MSIE"))&&!Qn(Wn,"Edge"),lr=Qn(Wn.toLowerCase(),"webkit")&&!Qn(Wn,"Edge");function cr(){var e=In.document;return e?e.documentMode:void 0}e:{var fr="",hr=function(){var e=Wn;return ur?/rv:([^\);]+)(\)|;)/.exec(e):sr?/Edge\/([\d\.]+)/.exec(e):or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):lr?/WebKit\/(\S+)/.exec(e):ir?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(hr&&(fr=hr?hr[1]:""),or){var pr=cr();if(null!=pr&&pr>parseFloat(fr)){rr=String(pr);break e}}rr=fr}var dr,gr={};function vr(e){return function(e,t){var n=gr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Kn(String(rr)).split("."),r=Kn(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=Yn(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Yn(0==s[2].length,0==a[2].length)||Yn(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}if(In.document&&or){var mr=cr();dr=mr||(parseInt(rr,10)||void 0)}else dr=void 0;var yr=dr,br=!or||9<=Number(yr),wr=or&&!vr("9"),Er=function(){if(!In.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{In.addEventListener("test",Cn,t),In.removeEventListener("test",Cn,t)}catch(n){}return e}();function kr(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Sr(e,t){if(kr.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ur){e:{try{nr(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lr[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}kr.prototype.b=function(){this.defaultPrevented=!0},Vn(Sr,kr);var Lr={2:"touch",3:"pen",4:"mouse"};Sr.prototype.b=function(){Sr.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,wr)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(xs){}};var xr="closure_listenable_"+(1e6*Math.random()|0),_r=0;function Ir(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++_r,this.Y=this.Z=!1}function Cr(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Tr(e){this.src=e,this.a={},this.b=0}function Pr(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Fn(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Cr(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Mr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}Tr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=Mr(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new Ir(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Nr="closure_lm_"+(1e6*Math.random()|0),Dr={};function Ar(e,t,n,r,i){if(r&&r.once)return Rr(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ar(e,t[o],n,r,i);return null}return n=Gr(n),e&&e[xr]?e.va(t,n,Mn(r)?!!r.capture:!!r,i):Or(e,t,n,!1,r,i)}function Or(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Mn(i)?!!i.capture:!!i;if(s&&!br)return null;var a=jr(e);if(a||(e[Nr]=a=new Tr(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Fr,t=br?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Er||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rr(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Rr(e,t[o],n,r,i);return null}return n=Gr(n),e&&e[xr]?e.wa(t,n,Mn(r)?!!r.capture:!!r,i):Or(e,t,n,!0,r,i)}function zr(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)zr(e,t[o],n,r,i);else r=Mn(r)?!!r.capture:!!r,n=Gr(n),e&&e[xr]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=Mr(o=e.a[t],n,r,i))&&(Cr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=jr(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Mr(t,n,r,i)),(n=-1<e?t[e]:null)&&Ur(n))}function Ur(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[xr])Pr(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jr(t))?(Pr(n,e),0==n.b&&(n.src=null,t[Nr]=null)):Cr(e)}}}function Vr(e){return e in Dr?Dr[e]:Dr[e]="on"+e}function Br(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Ur(e),n.call(r,t)}function Fr(e,t){if(e.Y)return!0;if(!br){if(!t)e:{t=["window","event"];for(var n=In,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Br(e,t=new Sr(t,this))}return Br(e,new Sr(t,this))}function jr(e){return(e=e[Nr])instanceof Tr?e:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gr(e){return"function"==Tn(e)?e:(e[qr]||(e[qr]=function(t){return e.handleEvent(t)}),e[qr])}function Hr(){Bn.call(this),this.c=new Tr(this),this.J=this,this.C=null}function Wr(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Pr(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vn(Hr,Bn),Hr.prototype[xr]=!0,(Ln=Hr.prototype).addEventListener=function(e,t,n,r){Ar(this,e,t,n,r)},Ln.removeEventListener=function(e,t,n,r){zr(this,e,t,n,r)},Ln.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"===typeof e)e=new kr(e,n);else if(e instanceof kr)e.target=e.target||n;else{var i=e;tr(e=new kr(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=Wr(s,r,!0,e)&&i}if(i=Wr(s=e.a=n,r,!0,e)&&i,i=Wr(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Wr(s=e.a=t[o],r,!1,e)&&i;return i},Ln.G=function(){if(Hr.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Cr(n[r]);delete t.a[e],t.b--}}this.C=null},Ln.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Ln.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Kr=In.JSON.stringify;function Qr(){this.b=this.a=null}var Yr,$r=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Xr}),(function(e){e.reset()}),100);function Zr(){var e=ni,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Xr(){this.next=this.b=this.a=null}function Jr(e){In.setTimeout((function(){throw e}),0)}function ei(e,t){Yr||function(){var e=In.Promise.resolve(void 0);Yr=function(){e.then(ri)}}(),ti||(Yr(),ti=!0),ni.add(e,t)}Qr.prototype.add=function(e,t){var n=$r.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Xr.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Xr.prototype.reset=function(){this.next=this.b=this.a=null};var ti=!1,ni=new Qr;function ri(){for(var e;e=Zr();){try{e.a.call(e.b)}catch(n){Jr(n)}var t=$r;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}ti=!1}function ii(e,t){Hr.call(this),this.b=e||1,this.a=t||In,this.f=Rn(this.Ya,this),this.g=Un()}function oi(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function si(e,t,n){if("function"==Tn(e))n&&(e=Rn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rn(e.handleEvent,e)}return 2147483647<Number(t)?-1:In.setTimeout(e,t||0)}function ai(e){e.a=si((function(){e.a=null,e.c&&(e.c=!1,ai(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Vn(ii,Hr),(Ln=ii.prototype).aa=!1,Ln.M=null,Ln.Ya=function(){if(this.aa){var e=Un()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(oi(this),this.start()))}},Ln.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Un())},Ln.G=function(){ii.S.G.call(this),oi(this),delete this.a};var ui=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(e,t){function n(){this.constructor=e}kn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:ai(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(In.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Bn);function li(e){Bn.call(this),this.b=e,this.a={}}Vn(li,Bn);var ci=[];function fi(e,t,n,r){Array.isArray(n)||(n&&(ci[0]=n.toString()),n=ci);for(var i=0;i<n.length;i++){var o=Ar(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function hi(e){Xn(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Ur(e)}),e),e.a={}}function pi(){this.a=!0}function di(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Kr(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}li.prototype.G=function(){li.S.G.call(this),hi(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pi.prototype.info=function(){};var gi=null;function vi(){return gi=gi||new Hr}function mi(e){kr.call(this,"serverreachability",e)}function yi(e){var t=vi();t.dispatchEvent(new mi(t,e))}function bi(e){kr.call(this,"statevent",e)}function wi(e){var t=vi();t.dispatchEvent(new bi(t,e))}function Ei(e){kr.call(this,"timingevent",e)}function ki(e,t){if("function"!=Tn(e))throw Error("Fn must not be null and must be a function");return In.setTimeout((function(){e()}),t)}Vn(mi,kr),Vn(bi,kr),Vn(Ei,kr);var Si={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Li={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function xi(){}function _i(e){var t;return(t=e.a)||(t=e.a={}),t}function Ii(){}xi.prototype.a=null;var Ci,Ti={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Pi(){kr.call(this,"d")}function Mi(){kr.call(this,"c")}function Ni(){}function Di(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new li(this),this.P=Ai,e=ar?125:void 0,this.R=new ii(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Vn(Pi,kr),Vn(Mi,kr),Vn(Ni,xi),Ci=new Ni;var Ai=45e3,Oi={},Ri={};function zi(e,t,n){e.H=1,e.i=oo(Ji(t)),e.j=n,e.I=!0,Ui(e,null)}function Ui(e,t){e.u=Un(),Fi(e),e.l=Ji(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),bo(n.b,"t",r),e.D=0,e.a=ps(e.g,e.g.C?t:null),0<e.O&&(e.F=new ui(Rn(e.Ca,e,e.a),e.O)),fi(e.J,e.a,"readystatechange",e.Wa),t=e.B?Jn(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),yi(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");s=2<=f.length&&"type"==f[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.c,e.m,e.l,e.f,e.T,e.j)}function Vi(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Bi(e,n);if(i==Ri){4==t&&(e.h=4,wi(14),r=!1),di(e.c,e.f,null,"[Incomplete Response]");break}if(i==Oi){e.h=4,wi(15),di(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}di(e.c,e.f,i,null),Wi(e,i)}4==t&&0==n.length&&(e.h=1,wi(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,(t=e.g).a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),os(t),t.F=!0)):(di(e.c,e.f,n,"[Invalid Chunked Response]"),Hi(e),Gi(e))}function Bi(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Ri:(n=Number(t.substring(n,r)),isNaN(n)?Oi:(r+=1)+n>t.length?Ri:(t=t.substr(r,n),e.D=r+n,t))}function Fi(e){e.U=Un()+e.P,ji(e,e.P)}function ji(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=ki(Rn(e.Ua,e),t)}function qi(e){e.o&&(In.clearTimeout(e.o),e.o=null)}function Gi(e){0==e.g.v||e.A||us(e.g,e)}function Hi(e){qi(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,oi(e.R),hi(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Wi(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||_o(n.b,e)))if(n.I=e.N,!e.C&&_o(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;as(n),$o(n)}is(n),wi(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ki(Rn(n.Ra,n),6e3));if(1>=xo(n.b)&&n.ea){try{n.ea()}catch(v){}n.ea=void 0}}else cs(n,11)}else if((e.C||n.a==e)&&as(n),!Hn(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"===typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=u.b;!f.a&&(Qn(c,"spdy")||Qn(c,"quic")||Qn(c,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Io(f,f.b),f.b=null))}if(u.A){var h=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,io(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=Un()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=e;if((u=n).la=hs(u,u.C?u.ga:null,u.fa),p.C){Co(u.b,p);var d=p,g=u.D;g&&d.setTimeout(g),d.o&&(qi(d),Fi(d)),u.a=p}else rs(u);0<n.g.length&&Jo(n)}else"stop"!=i[0]&&"close"!=i[0]||cs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?cs(n,7):Yo(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);yi(4)}catch(v){}}function Ki(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pn(e)||"string"===typeof e)jn(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Pn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(Pn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Qi(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Qi)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Yi(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];$i(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)$i(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function $i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ln=Di.prototype).setTimeout=function(e){this.P=e},Ln.Wa=function(e){e=e.target;var t=this.F;t&&3==Ho(e)?t.f():this.Ca(e)},Ln.Ca=function(e){try{if(e==this.a)e:{var t=Ho(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!ar&&!this.a.$())){this.A||4!=t||7==n||yi(8==n||0>=r?3:2),qi(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hn(s)){var u=s;break t}}u=null}if(!u){this.b=!1,this.h=3,wi(12),Hi(this),Gi(this);break e}di(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Wi(this,u)}this.I?(Vi(this,t,o),ar&&this.b&&3==t&&(fi(this.J,this.R,"tick",this.Va),this.R.start())):(di(this.c,this.f,o,null),Wi(this,o)),4==t&&Hi(this),this.b&&!this.A&&(4==t?us(this.g,this):(this.b=!1,Fi(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,wi(12)):(this.h=0,wi(13)),Hi(this),Gi(this)}}}catch(bg){}},Ln.Va=function(){if(this.a){var e=Ho(this.a),t=this.a.$();this.D<t.length&&(qi(this),Vi(this,e,t),this.b&&4!=e&&Fi(this))}},Ln.cancel=function(){this.A=!0,Hi(this)},Ln.Ua=function(){this.o=null;var e=Un();0<=e-this.U?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(yi(3),wi(17)),Hi(this),this.h=2,Gi(this)):ji(this,this.U-e)},(Ln=Qi.prototype).K=function(){Yi(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Ln.L=function(){return Yi(this),this.a.concat()},Ln.get=function(e,t){return $i(this.b,e)?this.b[e]:t},Ln.set=function(e,t){$i(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Ln.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Zi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xi(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Xi){this.a=void 0!==t?t:e.a,eo(this,e.f),this.j=e.j,to(this,e.c),no(this,e.h),this.g=e.g,t=e.b;var n=new go;n.c=t.c,t.a&&(n.a=new Qi(t.a),n.b=t.b),ro(this,n),this.i=e.i}else e&&(n=String(e).match(Zi))?(this.a=!!t,eo(this,n[1]||"",!0),this.j=so(n[2]||""),to(this,n[3]||"",!0),no(this,n[4]),this.g=so(n[5]||"",!0),ro(this,n[6]||"",!0),this.i=so(n[7]||"")):(this.a=!!t,this.b=new go(null,this.a))}function Ji(e){return new Xi(e)}function eo(e,t,n){e.f=n?so(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function to(e,t,n){e.c=n?so(t,!0):t}function no(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function ro(e,t,n){t instanceof go?(e.b=t,function(e,t){t&&!e.f&&(vo(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mo(this,t),bo(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=ao(t,ho)),e.b=new go(t,e.a))}function io(e,t,n){e.b.set(t,n)}function oo(e){return io(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Un()).toString(36)),e}function so(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ao(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,uo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function uo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xi.prototype.toString=function(){var e=[],t=this.f;t&&e.push(ao(t,lo,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(ao(t,lo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(ao(n,"/"==n.charAt(0)?fo:co,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",ao(n,po)),e.join("")};var lo=/[#\/\?@]/g,co=/[#\?:]/g,fo=/[#\?]/g,ho=/[#\?@]/g,po=/#/g;function go(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function vo(e){e.a||(e.a=new Qi,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mo(e,t){vo(e),t=wo(e,t),$i(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,$i((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Yi(e)))}function yo(e,t){return vo(e),t=wo(e,t),$i(e.a.b,t)}function bo(e,t,n){mo(e,t),0<n.length&&(e.c=null,e.a.set(wo(e,t),Gn(n)),e.b+=n.length)}function wo(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Eo(e,t){this.b=e,this.a=t}function ko(e){this.g=e||So,In.PerformanceNavigationTiming?e=0<(e=In.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(In.ia&&In.ia.ya&&In.ia.ya()&&In.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Ln=go.prototype).add=function(e,t){vo(this),this.c=null,e=wo(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Ln.forEach=function(e,t){vo(this),this.a.forEach((function(n,r){jn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ln.L=function(){vo(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ln.K=function(e){vo(this);var t=[];if("string"===typeof e)yo(this,e)&&(t=qn(t,this.a.get(wo(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=qn(t,e[n])}return t},Ln.set=function(e,t){return vo(this),this.c=null,yo(this,e=wo(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Ln.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Ln.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var So=10;function Lo(e){return!!e.b||!!e.a&&e.a.size>=e.f}function xo(e){return e.b?1:e.a?e.a.size:0}function _o(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Io(e,t){e.a?e.a.add(t):e.b=t}function Co(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function To(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Sn(e.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Gn(e.c)}function Po(){}function Mo(){this.a=new Po}function No(e,t,n){var r=n||"";try{Ki(e,(function(e,n){var i=e;Mn(e)&&(i=Kr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Do(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}ko.prototype.cancel=function(){var e,t;if(this.c=To(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Sn(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Po.prototype.stringify=function(e){return In.JSON.stringify(e,void 0)},Po.prototype.parse=function(e){return In.JSON.parse(e,void 0)};var Ao=In.JSON.parse;function Oo(e){Hr.call(this),this.headers=new Qi,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ro,this.D=this.F=!1}Vn(Oo,Hr);var Ro="",zo=/^https?$/i,Uo=["POST","PUT"];function Vo(e){return"content-type"==e.toLowerCase()}function Bo(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Fo(e),qo(e)}function Fo(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function jo(e){if(e.b&&"undefined"!=typeof _n&&(!e.s[1]||4!=Ho(e)||2!=e.X()))if(e.l&&4==Ho(e))si(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==Ho(e)){e.b=!1;try{var t,n=e.X();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Zi)[1]||null;if(!o&&In.self&&In.self.location){var s=In.self.location.protocol;o=s.substr(0,s.length-1)}i=!zo.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var a=2<Ho(e)?e.a.statusText:""}catch(u){a=""}e.f=a+" ["+e.X()+"]",Fo(e)}}finally{qo(e)}}}function qo(e,t){if(e.a){Go(e);var n=e.a,r=e.s[0]?Cn:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Go(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(In.clearTimeout(e.m),e.m=null)}function Ho(e){return e.a?e.a.readyState:0}function Wo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Xn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):io(e,t,n))}function Ko(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qo(e){this.pa=0,this.g=[],this.c=new pi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Ko("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Ko("baseRetryDelayMs",5e3,e),this.Ma=Ko("retryDelaySeedMs",1e4,e),this.Ja=Ko("forwardChannelMaxRetries",2,e),this.ma=Ko("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new ko(e&&e.concurrentRequestLimit),this.ka=new Mo,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Yo(e){if(Zo(e),3==e.v){var t=e.R++,n=Ji(e.B);io(n,"SID",e.J),io(n,"RID",t),io(n,"TYPE","terminate"),ts(e,n),(t=new Di(e,e.c,t,void 0)).H=2,t.i=oo(Ji(n)),n=!1,In.navigator&&In.navigator.sendBeacon&&(n=In.navigator.sendBeacon(t.i.toString(),"")),!n&&In.Image&&((new Image).src=t.i,n=!0),n||(t.a=ps(t.g,null),t.a.ba(t.i)),t.u=Un(),Fi(t)}fs(e)}function $o(e){e.a&&(os(e),e.a.cancel(),e.a=null)}function Zo(e){$o(e),e.j&&(In.clearTimeout(e.j),e.j=null),as(e),e.b.cancel(),e.h&&("number"===typeof e.h&&In.clearTimeout(e.h),e.h=null)}function Xo(e,t){e.g.push(new Eo(e.La++,t)),3==e.v&&Jo(e)}function Jo(e){Lo(e.b)||e.h||(e.h=!0,ei(e.Ba,e),e.u=0)}function es(e,t){var n;n=t?t.f:e.R++;var r=Ji(e.B);io(r,"SID",e.J),io(r,"RID",n),io(r,"AID",e.P),ts(e,r),e.i&&e.l&&Wo(r,e.i,e.l),n=new Di(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=ns(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Io(e.b,n),zi(n,r,t)}function ts(e,t){e.f&&Ki({},(function(e,n){io(t,n,e)}))}function ns(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Rn(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),a=!1;else try{No(c,s,"req"+l+"_")}catch(Ys){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function rs(e){e.a||e.j||(e.U=1,ei(e.Aa,e),e.o=0)}function is(e){return!(e.a||e.j||3<=e.o)&&(e.U++,e.j=ki(Rn(e.Aa,e),ls(e,e.o)),e.o++,!0)}function os(e){null!=e.s&&(In.clearTimeout(e.s),e.s=null)}function ss(e){e.a=new Di(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ji(e.la);io(t,"RID","rpc"),io(t,"SID",e.J),io(t,"CI",e.H?"0":"1"),io(t,"AID",e.P),ts(e,t),io(t,"TYPE","xmlhttp"),e.i&&e.l&&Wo(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=oo(Ji(t)),n.j=null,n.I=!0,Ui(n,e)}function as(e){null!=e.m&&(In.clearTimeout(e.m),e.m=null)}function us(e,t){var n=null;if(e.a==t){as(e),os(e),e.a=null;var r=2}else{if(!_o(e.b,t))return;n=t.s,Co(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=Un()-t.u;var i=e.u;(r=vi()).dispatchEvent(new Ei(r,n,t,i)),Jo(e)}else rs(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xo(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja))&&(e.h=ki(Rn(e.Ba,e,t),ls(e,e.u)),e.u++,!0))}(e,t)||2==r&&is(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:cs(e,5);break;case 4:cs(e,10);break;case 3:cs(e,6);break;default:cs(e,2)}}function ls(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function cs(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=Rn(e.Xa,e);n||(n=new Xi("//www.google.com/images/cleardot.gif"),In.location&&"http"==In.location.protocol||eo(n,"https"),oo(n)),function(e,t){var n=new pi;if(In.Image){var r=new Image;r.onload=zn(Do,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zn(Do,n,r,"TestLoadImage: error",!1,t),r.onabort=zn(Do,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zn(Do,n,r,"TestLoadImage: timeout",!1,t),In.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else wi(2);e.v=0,e.f&&e.f.ra(t),fs(e),Zo(e)}function fs(e){e.v=0,e.I=-1,e.f&&(0==To(e.b).length&&0==e.g.length||(e.b.c.length=0,Gn(e.g),e.g.length=0),e.f.qa())}function hs(e,t,n){var r=function(e){return e instanceof Xi?Ji(e):new Xi(e,void 0)}(n);if(""!=r.c)t&&to(r,t+"."+r.c),no(r,r.h);else{var i=In.location;r=function(e,t,n,r){var i=new Xi(null,void 0);return e&&eo(i,e),t&&to(i,t),n&&no(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&Xn(e.W,(function(e,t){io(r,t,e)})),t=e.A,n=e.na,t&&n&&io(r,t,n),io(r,"VER",e.ha),ts(e,r),r}function ps(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Oo(e.Ka)).F=e.C,t}function ds(){}function gs(){if(or&&!(10<=Number(yr)))throw Error("Environmental error: no available transport.")}function vs(e,t){Hr.call(this),this.a=new Qo(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Hn(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hn(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new bs(this)}function ms(e){Pi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ys(){Mi.call(this),this.status=1}function bs(e){this.a=e}(Ln=Oo.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?_i(this.H):_i(Ci),this.a.onreadystatechange=Rn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Bo(this,o)}e=n||"";var i=new Qi(this.headers);r&&Ki(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Vo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=In.FormData&&e instanceof In.FormData,!(0<=Fn(Uo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Go(this),0<this.o&&((this.D=function(e){return or&&vr(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Rn(this.xa,this)):this.m=si(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Bo(this,o)}},Ln.xa=function(){"undefined"!=typeof _n&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Ln.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qo(this))},Ln.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qo(this,!0)),Oo.S.G.call(this)},Ln.za=function(){this.j||(this.A||this.l||this.g?jo(this):this.Ta())},Ln.Ta=function(){jo(this)},Ln.X=function(){try{return 2<Ho(this)?this.a.status:-1}catch(e){return-1}},Ln.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Ln.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ao(t)}},Ln.ua=function(){return this.h},Ln.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(Ln=Qo.prototype).ha=8,Ln.v=1,Ln.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new Di(this,this.c,e,void 0),r=this.l;if(this.O&&(r?tr(r=Jn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ns(this,n,t),io(i=Ji(this.B),"RID",e),io(i,"CVER",22),this.A&&io(i,"X-HTTP-Session-Id",this.A),ts(this,i),this.i&&r&&Wo(i,this.i,r),Io(this.b,n),this.Ga&&io(i,"TYPE","init"),this.da?(io(i,"$req",t),io(i,"SID","null"),n.V=!0,zi(n,i,null)):zi(n,i,t),this.v=2}}else 3==this.v&&(e?es(this,e):0==this.g.length||Lo(this.b)||es(this))},Ln.Aa=function(){if(this.j=null,ss(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=ki(Rn(this.Sa,this),e)}},Ln.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$o(this),ss(this))},Ln.Ra=function(){null!=this.m&&(this.m=null,$o(this),is(this),wi(19))},Ln.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),wi(2)):(this.c.info("Failed to ping google.com"),wi(1))},(Ln=ds.prototype).ta=function(){},Ln.sa=function(){},Ln.ra=function(){},Ln.qa=function(){},Ln.Ha=function(){},gs.prototype.a=function(e,t){return new vs(e,t)},Vn(vs,Hr),(Ln=vs.prototype).addEventListener=function(e,t,n,r){vs.S.addEventListener.call(this,e,t,n,r)},Ln.removeEventListener=function(e,t,n,r){vs.S.removeEventListener.call(this,e,t,n,r)},Ln.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;wi(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=hs(e,null,e.fa),Jo(e)},Ln.close=function(){Yo(this.a)},Ln.Pa=function(e){if("string"===typeof e){var t={};t.__data__=e,Xo(this.a,t)}else this.g?((t={}).__data__=Kr(e),Xo(this.a,t)):Xo(this.a,e)},Ln.G=function(){this.a.f=null,delete this.f,Yo(this.a),delete this.a,vs.S.G.call(this)},Vn(ms,Pi),Vn(ys,Mi),Vn(bs,ds),bs.prototype.ta=function(){this.a.dispatchEvent("a")},bs.prototype.sa=function(e){this.a.dispatchEvent(new ms(e))},bs.prototype.ra=function(e){this.a.dispatchEvent(new ys(e))},bs.prototype.qa=function(){this.a.dispatchEvent("b")},gs.prototype.createWebChannel=gs.prototype.a,vs.prototype.send=vs.prototype.Pa,vs.prototype.open=vs.prototype.Oa,vs.prototype.close=vs.prototype.close,Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,Li.COMPLETE="complete",Ii.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Hr.prototype.listen=Hr.prototype.va,Oo.prototype.listenOnce=Oo.prototype.wa,Oo.prototype.getLastError=Oo.prototype.Qa,Oo.prototype.getLastErrorCode=Oo.prototype.ua,Oo.prototype.getStatus=Oo.prototype.X,Oo.prototype.getResponseJson=Oo.prototype.Na,Oo.prototype.getResponseText=Oo.prototype.$,Oo.prototype.send=Oo.prototype.ba;var ws=function(){return new gs},Es=Si,ks=Li,Ss=Ii,Ls=Oo;var xs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_s=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return yn(t,e),t}(Error),Is=new Xt("@firebase/firestore");function Cs(){return Is.logLevel}function Ts(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Is.logLevel<=Ht.DEBUG){var r=t.map(Ns);Is.debug.apply(Is,En(["Firestore (8.0.0): "+e],r))}}function Ps(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Is.logLevel<=Ht.ERROR){var r=t.map(Ns);Is.error.apply(Is,En(["Firestore (8.0.0): "+e],r))}}function Ms(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Is.logLevel<=Ht.WARN){var r=t.map(Ns);Is.warn.apply(Is,En(["Firestore (8.0.0): "+e],r))}}function Ns(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ds(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.0.0) INTERNAL ASSERTION FAILED: "+e;throw Ps(t),new Error(t)}function As(e,t){e||Ds()}function Os(e,t){return e}function Rs(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var zs=function(){function e(){}return e.t=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Rs(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Us(e,t){return e<t?-1:e>t?1:0}function Vs(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Bs(e){return e+"\0"}var Fs=function(){function e(e){this.i=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.i,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.i)},e.prototype.o=function(){return 2*this.i.length},e.prototype.h=function(e){return Us(this.i,e.i)},e.prototype.isEqual=function(e){return this.i===e.i},e}();Fs.u=new Fs("");var js=function(){function e(e){this.l=e}return e.fromBase64String=function(t){try{return new e(Fs.fromBase64String(t))}catch(t){throw new _s(xs.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Fs.fromUint8Array(t))},e.prototype.toBase64=function(){return this.l.toBase64()},e.prototype.toUint8Array=function(){return this.l.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.l.isEqual(e.l)},e}();function qs(){if("undefined"==typeof Uint8Array)throw new _s(xs.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gs(){if("undefined"==typeof atob)throw new _s(xs.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.fromBase64String=function(e){Gs();try{return new t(Fs.fromBase64String(e))}catch(e){throw new _s(xs.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){return qs(),new t(Fs.fromUint8Array(e))},t.prototype.toBase64=function(){return Gs(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return qs(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(js),Ws=function(e,t,n,r,i,o){this._=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},Ks=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.h=function(e){return Us(this.projectId,e.projectId)||Us(this.database,e.database)},e}();function Qs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ys(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Zs=function(){function e(e,t){this.m=e,this.A=t,this.R={}}return e.prototype.get=function(e){var t=this.m(e),n=this.R[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.A(s,e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.m(e),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.R[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.m(e),n=this.R[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],e))return 1===n.length?delete this.R[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ys(this.R,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];e(s,a)}}))},e.prototype.P=function(){return $s(this.R)},e}(),Xs=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _s(xs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _s(xs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _s(xs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _s(xs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.g=function(e){return this.seconds===e.seconds?Us(this.nanoseconds,e.nanoseconds):Us(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Js=function(){function e(e){this.timestamp=e}return e.V=function(t){return new e(t)},e.min=function(){return new e(new Xs(0,0))},e.prototype.h=function(e){return this.timestamp.g(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.v=function(){return this.timestamp},e}(),ea=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Ds(),void 0===n?n=e.length-t:n>e.length-t&&Ds(),this.segments=e,this.offset=t,this.S=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.D(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.C(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.N=function(e){return e=void 0===e?1:e,this.C(this.segments,this.offset+e,this.length-e)},e.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},e.prototype.k=function(){return this.segments[this.offset]},e.prototype.O=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.P=function(){return 0===this.length},e.prototype.M=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.$=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},e.D=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.C=function(e,n,r){return new t(e,n,r)},t.prototype.B=function(){return this.L().join("/")},t.prototype.toString=function(){return this.B()},t.q=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new _s(xs.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.U=function(){return new t([])},t}(ea),na=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.C=function(e,n,r){return new t(e,n,r)},t.K=function(e){return na.test(e)},t.prototype.B=function(){return this.L().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.K(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.B()},t.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},t.j=function(){return new t(["__name__"])},t.G=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _s(xs.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new _s(xs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _s(xs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _s(xs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.U=function(){return new t([])},t}(ea),ia=function(){function e(e){this.path=e}return e.H=function(t){return new e(ta.q(t))},e.J=function(t){return new e(ta.q(t).N(5))},e.prototype.Y=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ta.D(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.D=function(e,t){return ta.D(e.path,t.path)},e.X=function(e){return e.length%2==0},e.Z=function(t){return new e(new ta(t.slice()))},e}();function oa(e){return null==e}function sa(e){return 0===e&&1/e==-1/0}function aa(e){return"number"==typeof e&&Number.isInteger(e)&&!sa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ua=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function la(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ua(e,t,n,r,i,o,s)}function ca(e){var t=Os(e);if(null===t.tt){var n=t.path.B();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.B()+e.op.toString()+tu(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.B()+t.dir;var t})).join(","),oa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=oc(t.startAt)),t.endAt&&(n+="|ub:",n+=oc(t.endAt)),t.tt=n}return t.tt}function fa(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Za(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ac(e.startAt,t.startAt)&&ac(e.endAt,t.endAt)}function ha(e){return ia.X(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pa,da,ga=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=Js.min()),void 0===o&&(o=Js.min()),void 0===s&&(s=Fs.u),this.target=e,this.targetId=t,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.st=function(t){return new e(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.it=function(t,n){return new e(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.rt=function(t){return new e(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},e}(),va=function(e){this.count=e};function ma(e){switch(e){case xs.OK:return Ds();case xs.CANCELLED:case xs.UNKNOWN:case xs.DEADLINE_EXCEEDED:case xs.RESOURCE_EXHAUSTED:case xs.INTERNAL:case xs.UNAVAILABLE:case xs.UNAUTHENTICATED:return!1;case xs.INVALID_ARGUMENT:case xs.NOT_FOUND:case xs.ALREADY_EXISTS:case xs.PERMISSION_DENIED:case xs.FAILED_PRECONDITION:case xs.ABORTED:case xs.OUT_OF_RANGE:case xs.UNIMPLEMENTED:case xs.DATA_LOSS:return!0;default:return Ds()}}function ya(e){if(void 0===e)return Ps("GRPC error has no .code"),xs.UNKNOWN;switch(e){case pa.OK:return xs.OK;case pa.CANCELLED:return xs.CANCELLED;case pa.UNKNOWN:return xs.UNKNOWN;case pa.DEADLINE_EXCEEDED:return xs.DEADLINE_EXCEEDED;case pa.RESOURCE_EXHAUSTED:return xs.RESOURCE_EXHAUSTED;case pa.INTERNAL:return xs.INTERNAL;case pa.UNAVAILABLE:return xs.UNAVAILABLE;case pa.UNAUTHENTICATED:return xs.UNAUTHENTICATED;case pa.INVALID_ARGUMENT:return xs.INVALID_ARGUMENT;case pa.NOT_FOUND:return xs.NOT_FOUND;case pa.ALREADY_EXISTS:return xs.ALREADY_EXISTS;case pa.PERMISSION_DENIED:return xs.PERMISSION_DENIED;case pa.FAILED_PRECONDITION:return xs.FAILED_PRECONDITION;case pa.ABORTED:return xs.ABORTED;case pa.OUT_OF_RANGE:return xs.OUT_OF_RANGE;case pa.UNIMPLEMENTED:return xs.UNIMPLEMENTED;case pa.DATA_LOSS:return xs.DATA_LOSS;default:return Ds()}}(da=pa||(pa={}))[da.OK=0]="OK",da[da.CANCELLED=1]="CANCELLED",da[da.UNKNOWN=2]="UNKNOWN",da[da.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",da[da.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",da[da.NOT_FOUND=5]="NOT_FOUND",da[da.ALREADY_EXISTS=6]="ALREADY_EXISTS",da[da.PERMISSION_DENIED=7]="PERMISSION_DENIED",da[da.UNAUTHENTICATED=16]="UNAUTHENTICATED",da[da.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",da[da.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",da[da.ABORTED=10]="ABORTED",da[da.OUT_OF_RANGE=11]="OUT_OF_RANGE",da[da.UNIMPLEMENTED=12]="UNIMPLEMENTED",da[da.INTERNAL=13]="INTERNAL",da[da.UNAVAILABLE=14]="UNAVAILABLE",da[da.DATA_LOSS=15]="DATA_LOSS";var ba=function(){function e(e,t){this.D=e,this.root=t||Ea.EMPTY}return e.prototype.ot=function(t,n){return new e(this.D,this.root.ot(t,n,this.D).copy(null,null,Ea.at,null,null))},e.prototype.remove=function(t){return new e(this.D,this.root.remove(t,this.D).copy(null,null,Ea.at,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.P();){var n=this.D(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.P();){var r=this.D(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.P=function(){return this.root.P()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.ht=function(){return this.root.ht()},e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(e){return this.root.ut(e)},e.prototype.forEach=function(e){this.ut((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ut((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.lt=function(e){return this.root.lt(e)},e.prototype._t=function(){return new wa(this.root,null,this.D,!1)},e.prototype.ft=function(e){return new wa(this.root,e,this.D,!1)},e.prototype.dt=function(){return new wa(this.root,null,this.D,!0)},e.prototype.wt=function(e){return new wa(this.root,e,this.D,!0)},e}(),wa=function(){function e(e,t,n,r){this.Et=r,this.Tt=[];for(var i=1;!e.P();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.Et?e.left:e.right;else{if(0===i){this.Tt.push(e);break}this.Tt.push(e),e=this.Et?e.right:e.left}}return e.prototype.It=function(){var e=this.Tt.pop(),t={key:e.key,value:e.value};if(this.Et)for(e=e.left;!e.P();)this.Tt.push(e),e=e.right;else for(e=e.right;!e.P();)this.Tt.push(e),e=e.left;return t},e.prototype.At=function(){return this.Tt.length>0},e.prototype.Rt=function(){if(0===this.Tt.length)return null;var e=this.Tt[this.Tt.length-1];return{key:e.key,value:e.value}},e}(),Ea=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.P=function(){return!1},e.prototype.ut=function(e){return this.left.ut(e)||e(this.key,this.value)||this.right.ut(e)},e.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},e.prototype.min=function(){return this.left.P()?this:this.left.min()},e.prototype.ht=function(){return this.min().key},e.prototype.ct=function(){return this.right.P()?this.key:this.right.ct()},e.prototype.ot=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.ot(e,t,n))).Pt()},e.prototype.gt=function(){if(this.left.P())return e.EMPTY;var t=this;return t.left.Vt()||t.left.left.Vt()||(t=t.yt()),(t=t.copy(null,null,null,t.left.gt(),null)).Pt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.P()||i.left.Vt()||i.left.left.Vt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.Vt()&&(i=i.bt()),i.right.P()||i.right.Vt()||i.right.left.Vt()||(i=i.vt()),0===n(t,i.key)){if(i.right.P())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.Pt()},e.prototype.Vt=function(){return this.color},e.prototype.Pt=function(){var e=this;return e.right.Vt()&&!e.left.Vt()&&(e=e.St()),e.left.Vt()&&e.left.left.Vt()&&(e=e.bt()),e.left.Vt()&&e.right.Vt()&&(e=e.Dt()),e},e.prototype.yt=function(){var e=this.Dt();return e.right.left.Vt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},e.prototype.vt=function(){var e=this.Dt();return e.left.left.Vt()&&(e=(e=e.bt()).Dt()),e},e.prototype.St=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.bt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},e.prototype.Nt=function(){if(this.Vt()&&this.left.Vt())throw Ds();if(this.right.Vt())throw Ds();var e=this.left.Nt();if(e!==this.right.Nt())throw Ds();return e+(this.Vt()?0:1)},e}();Ea.EMPTY=null,Ea.RED=!0,Ea.at=!1,Ea.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ds()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ds()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.ot=function(e,t,n){return new Ea(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.P=function(){return!0},e.prototype.ut=function(e){return!1},e.prototype.lt=function(e){return!1},e.prototype.ht=function(){return null},e.prototype.ct=function(){return null},e.prototype.Vt=function(){return!1},e.prototype.Ct=function(){return!0},e.prototype.Nt=function(){return 0},e}());var ka=function(){function e(e){this.D=e,this.data=new ba(this.D)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.ht()},e.prototype.last=function(){return this.data.ct()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ut((function(t,n){return e(t),!1}))},e.prototype.xt=function(e,t){for(var n=this.data.ft(e[0]);n.At();){var r=n.It();if(this.D(r.key,e[1])>=0)return;t(r.key)}},e.prototype.Ft=function(e,t){var n;for(n=void 0!==t?this.data.ft(t):this.data._t();n.At();)if(!e(n.It().key))return},e.prototype.kt=function(e){var t=this.data.ft(e);return t.At()?t.It().key:null},e.prototype._t=function(){return new Sa(this.data._t())},e.prototype.ft=function(e){return new Sa(this.data.ft(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.P=function(){return this.data.P()},e.prototype.Ot=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data._t(),r=t.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.D(i,o))return!1}return!0},e.prototype.L=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.D);return n.data=t,n},e}(),Sa=function(){function e(e){this.Mt=e}return e.prototype.It=function(){return this.Mt.It().key},e.prototype.At=function(){return this.Mt.At()},e}(),La=new ba(ia.D);function xa(){return La}function _a(){return xa()}var Ia=new ba(ia.D);function Ca(){return Ia}var Ta=new ba(ia.D),Pa=new ka(ia.D);function Ma(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Pa,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Na=new ka(Us);function Da(){return Na}var Aa=function(){function e(e){this.D=e?function(t,n){return e(t,n)||ia.D(t.key,n.key)}:function(e,t){return ia.D(e.key,t.key)},this.$t=Ca(),this.Lt=new ba(this.D)}return e.Bt=function(t){return new e(t.D)},e.prototype.has=function(e){return null!=this.$t.get(e)},e.prototype.get=function(e){return this.$t.get(e)},e.prototype.first=function(){return this.Lt.ht()},e.prototype.last=function(){return this.Lt.ct()},e.prototype.P=function(){return this.Lt.P()},e.prototype.indexOf=function(e){var t=this.$t.get(e);return t?this.Lt.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Lt.ut((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.$t.ot(e.key,e),t.Lt.ot(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.$t.remove(e),this.Lt.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Lt._t(),r=t.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.D=this.D,r.$t=t,r.Lt=n,r},e}(),Oa=function(){function e(){this.qt=new ba(ia.D)}return e.prototype.track=function(e){var t=e.doc.key,n=this.qt.get(t);n?0!==e.type&&3===n.type?this.qt=this.qt.ot(t,e):3===e.type&&1!==n.type?this.qt=this.qt.ot(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.qt=this.qt.ot(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.qt=this.qt.remove(t):1===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):Ds():this.qt=this.qt.ot(t,e)},e.prototype.Ut=function(){var e=[];return this.qt.ut((function(t,n){e.push(n)})),e},e}(),Ra=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return e.Gt=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Aa.Bt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Wt===e.Wt&&this.Qt.isEqual(e.Qt)&&Gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Kt.isEqual(e.Kt)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),za=function(){function e(e,t,n,r,i){this.nt=e,this.zt=t,this.Ht=n,this.Jt=r,this.Yt=i}return e.Xt=function(t,n){var r=new Map;return r.set(t,Ua.Zt(t,n)),new e(Js.min(),r,Da(),xa(),Ma())},e}(),Ua=function(){function e(e,t,n,r,i){this.resumeToken=e,this.te=t,this.ee=n,this.ne=r,this.se=i}return e.Zt=function(t,n){return new e(Fs.u,n,Ma(),Ma(),Ma())},e}(),Va=function(e,t,n,r){this.ie=e,this.removedTargetIds=t,this.key=n,this.re=r},Ba=function(e,t){this.targetId=e,this.oe=t},Fa=function(e,t,n,r){void 0===n&&(n=Fs.u),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ja=function(){function e(){this.ae=0,this.he=Ha(),this.ce=Fs.u,this.ue=!1,this.le=!0}return Object.defineProperty(e.prototype,"te",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),e.prototype.de=function(e){e.o()>0&&(this.le=!0,this.ce=e)},e.prototype.we=function(){var e=Ma(),t=Ma(),n=Ma();return this.he.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ds()}})),new Ua(this.ce,this.ue,e,t,n)},e.prototype.Ee=function(){this.le=!1,this.he=Ha()},e.prototype.Te=function(e,t){this.le=!0,this.he=this.he.ot(e,t)},e.prototype.Ie=function(e){this.le=!0,this.he=this.he.remove(e)},e.prototype.me=function(){this.ae+=1},e.prototype.Ae=function(){this.ae-=1},e.prototype.Re=function(){this.le=!0,this.ue=!0},e}(),qa=function(){function e(e){this.Pe=e,this.ge=new Map,this.Ve=xa(),this.ye=Ga(),this.pe=new ka(Us)}return e.prototype.be=function(e){for(var t=0,n=e.ie;t<n.length;t++){var r=n[t];e.re instanceof Cl?this.ve(r,e.re):e.re instanceof Tl&&this.Se(r,e.key,e.re)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var s=o[i];this.Se(s,e.key,e.re)}},e.prototype.De=function(e){var t=this;this.Ce(e,(function(n){var r=t.Ne(n);switch(e.state){case 0:t.xe(n)&&r.de(e.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(e.resumeToken);break;case 2:r.Ae(),r._e||t.removeTarget(n);break;case 3:t.xe(n)&&(r.Re(),r.de(e.resumeToken));break;case 4:t.xe(n)&&(t.Fe(n),r.de(e.resumeToken));break;default:Ds()}}))},e.prototype.Ce=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ge.forEach((function(e,r){n.xe(r)&&t(r)}))},e.prototype.ke=function(e){var t=e.targetId,n=e.oe.count,r=this.Oe(t);if(r){var i=r.target;if(ha(i))if(0===n){var o=new ia(i.path);this.Se(t,o,new Tl(o,Js.min()))}else As(1===n);else this.Me(t)!==n&&(this.Fe(t),this.pe=this.pe.add(t))}},e.prototype.$e=function(e){var t=this,n=new Map;this.ge.forEach((function(r,i){var o=t.Oe(i);if(o){if(r.te&&ha(o.target)){var s=new ia(o.target.path);null!==t.Ve.get(s)||t.Le(i,s)||t.Se(i,s,new Tl(s,e))}r.fe&&(n.set(i,r.we()),r.Ee())}}));var r=Ma();this.ye.forEach((function(e,n){var i=!0;n.Ft((function(e){var n=t.Oe(e);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new za(e,n,this.pe,this.Ve,r);return this.Ve=xa(),this.ye=Ga(),this.pe=new ka(Us),i},e.prototype.ve=function(e,t){if(this.xe(e)){var n=this.Le(e,t.key)?2:0;this.Ne(e).Te(t.key,n),this.Ve=this.Ve.ot(t.key,t),this.ye=this.ye.ot(t.key,this.Be(t.key).add(e))}},e.prototype.Se=function(e,t,n){if(this.xe(e)){var r=this.Ne(e);this.Le(e,t)?r.Te(t,1):r.Ie(t),this.ye=this.ye.ot(t,this.Be(t).delete(e)),n&&(this.Ve=this.Ve.ot(t,n))}},e.prototype.removeTarget=function(e){this.ge.delete(e)},e.prototype.Me=function(e){var t=this.Ne(e).we();return this.Pe.qe(e).size+t.ee.size-t.se.size},e.prototype.me=function(e){this.Ne(e).me()},e.prototype.Ne=function(e){var t=this.ge.get(e);return t||(t=new ja,this.ge.set(e,t)),t},e.prototype.Be=function(e){var t=this.ye.get(e);return t||(t=new ka(Us),this.ye=this.ye.ot(e,t)),t},e.prototype.xe=function(e){var t=null!==this.Oe(e);return t||Ts("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Oe=function(e){var t=this.ge.get(e);return t&&t._e?null:this.Pe.Ue(e)},e.prototype.Fe=function(e){var t=this;this.ge.set(e,new ja),this.Pe.qe(e).forEach((function(n){t.Se(e,n,null)}))},e.prototype.Le=function(e,t){return this.Pe.qe(e).has(t)},e}();function Ga(){return new ba(ia.D)}function Ha(){return new ba(ia.D)}function Wa(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ka(e){var t=e.mapValue.fields.__previous_value__;return Wa(t)?Ka(t):t}function Qa(e){var t=ru(e.mapValue.fields.__local_write_time__.timestampValue);return new Xs(t.seconds,t.nanos)}var Ya=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wa(e)?4:10:Ds()}function Za(e,t){var n=$a(e);if(n!==$a(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qa(e).isEqual(Qa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ru(e.timestampValue),r=ru(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ou(e.bytesValue).isEqual(ou(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return iu(e.geoPointValue.latitude)===iu(t.geoPointValue.latitude)&&iu(e.geoPointValue.longitude)===iu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return iu(e.integerValue)===iu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=iu(e.doubleValue),r=iu(t.doubleValue);return n===r?sa(n)===sa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vs(e.arrayValue.values||[],t.arrayValue.values||[],Za);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qs(n)!==Qs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Za(n[i],r[i])))return!1;return!0}(e,t);default:return Ds()}}function Xa(e,t){return void 0!==(e.values||[]).find((function(e){return Za(e,t)}))}function Ja(e,t){var n=$a(e),r=$a(t);if(n!==r)return Us(n,r);switch(n){case 0:return 0;case 1:return Us(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=iu(e.integerValue||e.doubleValue),r=iu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return eu(e.timestampValue,t.timestampValue);case 4:return eu(Qa(e),Qa(t));case 5:return Us(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ou(e),r=ou(t);return n.h(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Us(n[i],r[i]);if(0!==o)return o}return Us(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Us(iu(e.latitude),iu(t.latitude));return 0!==n?n:Us(iu(e.longitude),iu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ja(n[i],r[i]);if(o)return o}return Us(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Us(r[s],o[s]);if(0!==a)return a;var u=Ja(n[r[s]],i[o[s]]);if(0!==u)return u}return Us(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ds()}}function eu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Us(e,t);var n=ru(e),r=ru(t),i=Us(n.seconds,r.seconds);return 0!==i?i:Us(n.nanos,r.nanos)}function tu(e){return nu(e)}function nu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ru(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ou(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ia.J(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=nu(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+nu(e.fields[o])}return t+"}"}(e.mapValue):Ds();var t,n}function ru(e){if(As(!!e),"string"==typeof e){var t=0,n=Ya.exec(e);if(As(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:iu(e.seconds),nanos:iu(e.nanos)}}function iu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ou(e){return"string"==typeof e?Fs.fromBase64String(e):Fs.fromUint8Array(e)}function su(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.B()}}function au(e){return!!e&&"integerValue"in e}function uu(e){return!!e&&"arrayValue"in e}function lu(e){return!!e&&"nullValue"in e}function cu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fu(e){return!!e&&"mapValue"in e}var hu={asc:"ASCENDING",desc:"DESCENDING"},pu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},du=function(e,t){this._=e,this.Ke=t};function gu(e){return{integerValue:""+e}}function vu(e,t){if(e.Ke){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sa(t)?"-0":t}}function mu(e,t){return aa(t)?gu(t):vu(e,t)}function yu(e,t){return e.Ke?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function bu(e,t){return e.Ke?t.toBase64():t.toUint8Array()}function wu(e,t){return yu(e,t.v())}function Eu(e){return As(!!e),Js.V(function(e){var t=ru(e);return new Xs(t.seconds,t.nanos)}(e))}function ku(e,t){return function(e){return new ta(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).B()}function Su(e){var t=ta.q(e);return As(Wu(t)),t}function Lu(e,t){return ku(e._,t.path)}function xu(e,t){var n=Su(t);return As(n.get(1)===e._.projectId),As(!n.get(3)&&!e._.database||n.get(3)===e._.database),new ia(Tu(n))}function _u(e,t){return ku(e._,t)}function Iu(e){var t=Su(e);return 4===t.length?ta.U():Tu(t)}function Cu(e){return new ta(["projects",e._.projectId,"databases",e._.database]).B()}function Tu(e){return As(e.length>4&&"documents"===e.get(4)),e.N(5)}function Pu(e,t,n){return{name:Lu(e,t),fields:n.proto.mapValue.fields}}function Mu(e,t){var n;if(t instanceof vl)n={update:Pu(e,t.key,t.value)};else if(t instanceof kl)n={delete:Lu(e,t.key)};else if(t instanceof ml)n={update:Pu(e,t.key,t.data),updateMask:Hu(t.Qe)};else if(t instanceof bl)n={transform:{document:Lu(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zu)return{fieldPath:t.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xu)return{fieldPath:t.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof el)return{fieldPath:t.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof nl)return{fieldPath:t.field.B(),increment:n.We};throw Ds()}(0,e)}))}};else{if(!(t instanceof Sl))return Ds();n={verify:Lu(e,t.key)}}return t.Ge.je||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ds()}(e,t.Ge)),n}function Nu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ul.updateTime(Eu(e.updateTime)):void 0!==e.exists?ul.exists(e.exists):ul.ze()}(t.currentDocument):ul.ze();if(t.update){t.update.name;var r=xu(e,t.update.name),i=new Ll({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ol(t.map((function(e){return ra.G(e)})))}(t.updateMask);return new ml(r,i,o,n)}return new vl(r,i,n)}if(t.delete){var s=xu(e,t.delete);return new kl(s,n)}if(t.transform){var a=xu(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)As("REQUEST_TIME"===t.setToServerValue),n=new Zu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Xu(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new el(i)}else"increment"in t?n=new nl(e,t.increment):Ds();var o=ra.G(t.fieldPath);return new sl(o,n)}(e,t)}));return As(!0===n.exists),new bl(a,u)}if(t.verify){var l=xu(e,t.verify);return new Sl(l,n)}return Ds()}function Du(e,t){return{documents:[_u(e,t.path)]}}function Au(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_u(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_u(e,r.F()),n.structuredQuery.from=[{collectionId:r.O()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(cu(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NAN"}};if(lu(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cu(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NAN"}};if(lu(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(e.field),op:Bu(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Fu(e.field),direction:Vu(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.Ke||oa(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=zu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zu(t.endAt)),n}function Ou(e){var t=Iu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){As(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=Ru(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return function(e){return new uc(ju(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return oa(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=Uu(n.startAt));var c=null;return n.endAt&&(c=Uu(n.endAt)),Bl(Nl(t,i,a,s,u,"F",l,c))}function Ru(e){return e?void 0!==e.unaryFilter?[Gu(e)]:void 0!==e.fieldFilter?[qu(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ru(e)})).reduce((function(e,t){return e.concat(t)})):Ds():[]}function zu(e){return{before:e.before,values:e.position}}function Uu(e){var t=!!e.before,n=e.values||[];return new ic(n,t)}function Vu(e){return hu[e]}function Bu(e){return pu[e]}function Fu(e){return{fieldPath:e.B()}}function ju(e){return ra.G(e.fieldPath)}function qu(e){return Yl.create(ju(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ds()}}(e.fieldFilter.op),e.fieldFilter.value)}function Gu(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ju(e.unaryFilter.field);return Yl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ju(e.unaryFilter.field);return Yl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ju(e.unaryFilter.field);return Yl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ju(e.unaryFilter.field);return Yl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ds()}}function Hu(e){var t=[];return e.fields.forEach((function(e){return t.push(e.B())})),{fieldPaths:t}}function Wu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ku=function(){this.He=void 0};function Qu(e,t,n){return e instanceof Zu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xu?Ju(e,t):e instanceof el?tl(e,t):function(e,t){var n=$u(e,t),r=rl(n)+rl(e.We);return au(n)&&au(e.We)?gu(r):vu(e.serializer,r)}(e,t)}function Yu(e,t,n){return e instanceof Xu?Ju(e,t):e instanceof el?tl(e,t):n}function $u(e,t){return e instanceof nl?au(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t}(Ku),Xu=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return yn(t,e),t}(Ku);function Ju(e,t){for(var n=il(t),r=function(e){n.some((function(t){return Za(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var el=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return yn(t,e),t}(Ku);function tl(e,t){for(var n=il(t),r=function(e){n=n.filter((function(t){return!Za(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.We=n,r}return yn(t,e),t}(Ku);function rl(e){return iu(e.integerValue||e.doubleValue)}function il(e){return uu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ol=function(){function e(e){this.fields=e,e.sort(ra.D)}return e.prototype.Je=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].M(e))return!0;return!1},e.prototype.isEqual=function(e){return Vs(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),sl=function(e,t){this.field=e,this.transform=t},al=function(e,t){this.version=e,this.transformResults=t},ul=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.ze=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ll(e,t){return void 0!==e.updateTime?t instanceof Cl&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Cl}var cl=function(){};function fl(e,t,n){return e instanceof vl?function(e,t,n){return new Cl(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof ml?function(e,t,n){if(!ll(e.Ge,t))return new Pl(e.key,n.version);var r=yl(e,t);return new Cl(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof bl?function(e,t,n){if(As(null!=n.transformResults),!ll(e.Ge,t))return new Pl(e.key,n.version);var r=wl(e,t),i=function(e,t,n){var r=[];As(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=null;t instanceof Cl&&(a=t.field(o.field)),r.push(Yu(s,a,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,s=El(e,r.data(),i);return new Cl(e.key,o,s,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new Tl(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function hl(e,t,n,r){return e instanceof vl?function(e,t){if(!ll(e.Ge,t))return t;var n=gl(t);return new Cl(e.key,n,e.value,{Ye:!0})}(e,t):e instanceof ml?function(e,t){if(!ll(e.Ge,t))return t;var n=gl(t),r=yl(e,t);return new Cl(e.key,n,r,{Ye:!0})}(e,t):e instanceof bl?function(e,t,n,r){if(!ll(e.Ge,t))return t;var i=wl(e,t),o=function(e,t,n,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],u=a.transform,l=null;n instanceof Cl&&(l=n.field(a.field)),null===l&&r instanceof Cl&&(l=r.field(a.field)),i.push(Qu(u,l,t))}return i}(e.fieldTransforms,n,t,r),s=El(e,i.data(),o);return new Cl(e.key,i.version,s,{Ye:!0})}(e,t,r,n):function(e,t){return ll(e.Ge,t)?new Tl(e.key,Js.min()):t}(e,t)}function pl(e,t){return e instanceof bl?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t instanceof Cl?t.field(o.field):void 0,a=$u(o.transform,s||null);null!=a&&(n=null==n?(new xl).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(e,t):null}function dl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ge.isEqual(t.Ge)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.Qe.isEqual(t.Qe):2!==e.type||Vs(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xu&&t instanceof Xu||e instanceof el&&t instanceof el?Vs(e.elements,t.elements,Za):e instanceof nl&&t instanceof nl?Za(e.We,t.We):e instanceof Zu&&t instanceof Zu}(e.transform,t.transform)}(e,t)})))}function gl(e){return e instanceof Cl?e.version:Js.min()}var vl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ge=r,i.type=0,i}return yn(t,e),t}(cl),ml=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Qe=r,o.Ge=i,o.type=1,o}return yn(t,e),t}(cl);function yl(e,t){return function(e,t){var n=new xl(t);return e.Qe.fields.forEach((function(t){if(!t.P()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Xe()}(e,t instanceof Cl?t.data():Ll.empty())}var bl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ge=ul.exists(!0),r}return yn(t,e),t}(cl);function wl(e,t){return t}function El(e,t,n){for(var r=new xl(t),i=0;i<e.fieldTransforms.length;i++){var o=e.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var kl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=3,r}return yn(t,e),t}(cl),Sl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=4,r}return yn(t,e),t}(cl),Ll=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.P())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!fu(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.O()])||null},e.prototype.isEqual=function(e){return Za(this.proto,e.proto)},e}(),xl=function(){function e(e){void 0===e&&(e=Ll.empty()),this.Ze=e,this.tn=new Map}return e.prototype.set=function(e,t){return this.en(e,t),this},e.prototype.delete=function(e){return this.en(e,null),this},e.prototype.en=function(e,t){for(var n=this.tn,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$a(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.O(),t)},e.prototype.Xe=function(){var e=this.nn(ra.U(),this.tn);return null!=e?new Ll(e):this.Ze},e.prototype.nn=function(e,t){var n=this,r=!1,i=this.Ze.field(e),o=fu(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var s=n.nn(e.child(i),t);null!=s&&(o[i]=s,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function _l(e){var t=[];return Ys(e.fields||{},(function(e,n){var r=new ra([e]);if(fu(n)){var i=_l(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];t.push(r.child(a))}}else t.push(r)})),new ol(t)}var Il=function(e,t){this.key=e,this.version=t},Cl=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).sn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return yn(t,e),t.prototype.field=function(e){return this.sn.field(e)},t.prototype.data=function(){return this.sn},t.prototype.rn=function(){return this.sn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Ye===e.Ye&&this.hasCommittedMutations===e.hasCommittedMutations&&this.sn.isEqual(e.sn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(Il),Tl=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return yn(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Il),Pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Il),Ml=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.hn=null,this.cn=null,this.startAt,this.endAt};function Nl(e,t,n,r,i,o,s,a){return new Ml(e,t,n,r,i,o,s,a)}function Dl(e){return new Ml(e)}function Al(e){return!oa(e.limit)&&"F"===e.an}function Ol(e){return!oa(e.limit)&&"L"===e.an}function Rl(e){return e.on.length>0?e.on[0].field:null}function zl(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.un())return r.field}return null}function Ul(e){return null!==e.collectionGroup}function Vl(e){var t=Os(e);if(null===t.hn){t.hn=[];var n=zl(t),r=Rl(t);if(null!==n&&null===r)n.W()||t.hn.push(new uc(n)),t.hn.push(new uc(ra.j(),"asc"));else{for(var i=!1,o=0,s=t.on;o<s.length;o++){var a=s[o];t.hn.push(a),a.field.W()&&(i=!0)}if(!i){var u=t.on.length>0?t.on[t.on.length-1].dir:"asc";t.hn.push(new uc(ra.j(),u))}}}return t.hn}function Bl(e){var t=Os(e);if(!t.cn)if("F"===t.an)t.cn=la(t.path,t.collectionGroup,Vl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Vl(t);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new uc(o.field,s))}var a=t.endAt?new ic(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ic(t.startAt.position,!t.startAt.before):null;t.cn=la(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.cn}function Fl(e,t,n){return new Ml(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jl(e,t){return new Ml(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,t,e.endAt)}function ql(e,t){return new Ml(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,t)}function Gl(e,t){return fa(Bl(e),Bl(t))&&e.an===t.an}function Hl(e){return ca(Bl(e))+"|lt:"+e.an}function Wl(e){return"Query(target="+function(e){var t=e.path.B();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.B()+" "+t.op+" "+tu(t.value);var t})).join(", ")+"]"),oa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.B()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+oc(e.startAt)),e.endAt&&(t+=", endAt: "+oc(e.endAt)),"Target("+t+")"}(Bl(e))+"; limitType="+e.an+")"}function Kl(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.Y(e.collectionGroup)&&e.path.M(n):ia.X(e.path)?e.path.isEqual(n):e.path.$(n)}(e,t)&&function(e,t){for(var n=0,r=e.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!sc(e.startAt,Vl(e),t))&&(!e.endAt||!sc(e.endAt,Vl(e),t))}(e,t)}function Ql(e){return function(t,n){for(var r=!1,i=0,o=Vl(e);i<o.length;i++){var s=o[i],a=lc(s,t,n);if(0!==a)return a;r=r||s.field.W()}return 0}}var Yl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return yn(t,e),t.create=function(e,n,r){return e.W()?"in"===n||"not-in"===n?this.ln(e,n,r):new $l(e,n,r):"array-contains"===n?new ec(e,r):"in"===n?new tc(e,r):"not-in"===n?new nc(e,r):"array-contains-any"===n?new rc(e,r):new t(e,n,r)},t.ln=function(e,t,n){return"in"===t?new Zl(e,n):new Xl(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this._n(Ja(t,this.value)):null!==t&&$a(this.value)===$a(t)&&this._n(Ja(t,this.value))},t.prototype._n=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ds()}},t.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),$l=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ia.J(r.referenceValue),i}return yn(t,e),t.prototype.matches=function(e){var t=ia.D(e.key,this.key);return this._n(t)},t}(Yl),Zl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Jl("in",n),r}return yn(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Yl),Xl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Jl("not-in",n),r}return yn(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Yl);function Jl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ia.J(e.referenceValue)}))}var ec=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return yn(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return uu(t)&&Xa(t.arrayValue,this.value)},t}(Yl),tc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return yn(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Xa(this.value.arrayValue,t)},t}(Yl),nc=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return yn(t,e),t.prototype.matches=function(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!Xa(this.value.arrayValue,t)},t}(Yl),rc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return yn(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!uu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Xa(t.value.arrayValue,e)}))},t}(Yl),ic=function(e,t){this.position=e,this.before=t};function oc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return tu(e)})).join(",")}function sc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.W()?ia.D(ia.J(s.referenceValue),n.key):Ja(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ac(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Za(e.position[n],t.position[n]))return!1;return!0}var uc=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function lc(e,t,n){var r=e.field.W()?ia.D(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Ja(r,i):Ds()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ds()}}function cc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var fc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},hc=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=e,this.dn=t,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return e.prototype.reset=function(){this.In=0},e.prototype.Rn=function(){this.In=this.Tn},e.prototype.Pn=function(e){var t=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&Ts("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.Vn(this.dn,i,(function(){return t.An=Date.now(),e()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},e.prototype.yn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},e.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},e.prototype.gn=function(){return(Math.random()-.5)*this.In},e}(),pc=function(){function e(e){var t=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e((function(e){t.Sn=!0,t.result=e,t.bn&&t.bn(e)}),(function(e){t.Sn=!0,t.error=e,t.vn&&t.vn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Dn&&Ds(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(t,this.result):new e((function(e,i){r.bn=function(n){r.Nn(t,n).next(e,i)},r.vn=function(t){r.Cn(n,t).next(e,i)}}))},e.prototype.xn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.Fn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Nn=function(t,n){return t?this.Fn((function(){return t(n)})):e.resolve(n)},e.prototype.Cn=function(t,n){return t?this.Fn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.kn=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.On=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.kn(r)},e}(),dc=function(){function e(t,n,r){this.name=t,this.version=n,this.Mn=r,12.2===e.$n(Lt())&&Ps("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ts("SimpleDb","Removing database:",e),wc(window.indexedDB.deleteDatabase(e)).xn()},e.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(e.Bn())return!0;var t=Lt(),n=e.$n(t),r=0<n&&n<10,i=e.qn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Bn=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/map-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Un)},e.Kn=function(e,t){return e.store(t)},e.$n=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.qn=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Qn=function(e){return bn(this,void 0,void 0,(function(){var t,n=this;return wn(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ts("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new vc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new _s(xs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new vc(e,n))},i.onupgradeneeded=function(e){Ts("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Mn.createOrUpgrade(t,i.transaction,e.oldVersion,n.version).next((function(){Ts("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(e){return n.Wn(e)}),this.db)]}}))}))},e.prototype.jn=function(e){this.Wn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return bn(this,void 0,void 0,(function(){var i,o,s,a,u;return wn(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,l,c;return wn(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,a.Qn(e)];case 2:return a.db=f.sent(),t=yc.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),pc.reject(e)})).xn(),u={},s.catch((function(){})),[4,t.Gn];case 3:return[2,(u.value=(f.sent(),s),u)];case 4:return l=f.sent(),c="FirebaseError"!==l.name&&o<3,Ts("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),a.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gc=function(){function e(e){this.zn=e,this.Hn=!1,this.Jn=null}return Object.defineProperty(e.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Yn",{get:function(){return this.Jn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Hn=!0},e.prototype.Xn=function(e){this.Jn=e},e.prototype.delete=function(){return wc(this.zn.delete())},e}(),vc=function(e){function t(t,n){var r=this;return(r=e.call(this,xs.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return yn(t,e),t}(_s);function mc(e){return"IndexedDbTransactionError"===e.name}var yc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.Zn=new fc,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){t.error?n.Zn.reject(new vc(e,t.error)):n.Zn.resolve()},this.transaction.onerror=function(t){var r=kc(t.target.error);n.Zn.reject(new vc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new vc(n,t)}},Object.defineProperty(e.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(Ts("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new bc(t)},e}(),bc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ts("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ts("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wc(n)},e.prototype.add=function(e){return Ts("SimpleDb","ADD",this.store.name,e,e),wc(this.store.add(e))},e.prototype.get=function(e){var t=this;return wc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ts("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Ts("SimpleDb","DELETE",this.store.name,e),wc(this.store.delete(e))},e.prototype.count=function(){return Ts("SimpleDb","COUNT",this.store.name),wc(this.store.count())},e.prototype.ts=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.es(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.ns=function(e,t){Ts("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(e,t,n){return n.delete()}))},e.prototype.rs=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.es(r,t)},e.prototype.os=function(e){var t=this.cursor({});return new pc((function(n,r){t.onerror=function(e){var t=kc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.es=function(e,t){var n=[];return new pc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new gc(i),s=t(i.primaryKey,i.value,o);if(s instanceof pc){var a=s.catch((function(e){return o.done(),pc.reject(e)}));n.push(a)}o.Sn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return pc.kn(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.ss?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function wc(e){return new pc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=kc(e.target.error);n(t)}}))}var Ec=!1;function kc(e){var t=dc.$n(Lt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new _s("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ec||(Ec=!0,setTimeout((function(){throw r}),0)),r}}return e}function Sc(){return"undefined"!=typeof window?window:null}function Lc(){return"undefined"!=typeof document?document:null}var xc=function(){function e(e,t,n,r,i){this.hs=e,this.dn=t,this.cs=n,this.op=r,this.us=i,this.ls=new fc,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(e){}))}return e._s=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.fs=setTimeout((function(){return t.ds()}),e)},e.prototype.pn=function(){return this.ds()},e.prototype.cancel=function(e){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new _s(xs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.ds=function(){var e=this;this.hs.ws((function(){return null!==e.fs?(e.clearTimeout(),e.op().then((function(t){return e.ls.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.fs&&(this.us(this),clearTimeout(this.fs),this.fs=null)},e}(),_c=function(){function e(){var e=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.Vs=new hc(this,"async_queue_retry"),this.ys=function(){var t=Lc();t&&Ts("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.Vs.yn()};var t=Lc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(e.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),e.prototype.ws=function(e){this.enqueue(e)},e.prototype.bs=function(e){this.vs(),this.Ss(e)},e.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=Lc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.ys)}},e.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise((function(e){})):this.Ss(e)},e.prototype.Cs=function(e){var t=this;this.ws((function(){return t.Ts.push(e),t.Ns()}))},e.prototype.Ns=function(){return bn(this,void 0,void 0,(function(){var e,t=this;return wn(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.Vs.reset(),[3,4];case 3:if(!mc(e=n.sent()))throw e;return Ts("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Ts.length>0&&this.Vs.Pn((function(){return t.Ns()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ss=function(e){var t=this,n=this.Es.then((function(){return t.Ps=!0,e().catch((function(e){throw t.Rs=e,t.Ps=!1,Ps("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ps=!1,e}))}));return this.Es=n,n},e.prototype.Vn=function(e,t,n){var r=this;this.vs(),this.gs.indexOf(e)>-1&&(t=0);var i=xc._s(this,e,t,n,(function(e){return r.xs(e)}));return this.As.push(i),i},e.prototype.vs=function(){this.Rs&&Ds()},e.prototype.Fs=function(){},e.prototype.ks=function(){return bn(this,void 0,void 0,(function(){var e;return wn(this,(function(t){switch(t.label){case 0:return[4,e=this.Es];case 1:t.sent(),t.label=2;case 2:if(e!==this.Es)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Os=function(e){for(var t=0,n=this.As;t<n.length;t++)if(n[t].dn===e)return!0;return!1},e.prototype.Ms=function(e){var t=this;return this.ks().then((function(){t.As.sort((function(e,t){return e.cs-t.cs}));for(var n=0,r=t.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==e&&i.dn===e)break}return t.ks()}))},e.prototype.$s=function(e){this.gs.push(e)},e.prototype.xs=function(e){var t=this.As.indexOf(e);this.As.splice(t,1)},e}();function Ic(e,t){if(Ps("AsyncQueue",t+": "+e),mc(e))return new _s(xs.UNAVAILABLE,t+": "+e);throw e}var Cc=function(){this.Ls=void 0,this.listeners=[]},Tc=function(){this.Bs=new Zs((function(e){return Hl(e)}),Gl),this.onlineState="Unknown",this.qs=new Set};function Pc(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return wn(this,(function(l){switch(l.label){case 0:if(n=Os(e),r=t.query,i=!1,(o=n.Bs.get(r))||(i=!0,o=new Cc),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.Us(r)];case 2:return s.Ls=l.sent(),[3,4];case 3:return a=l.sent(),u=Ic(a,"Initialization of query '"+Wl(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.Bs.set(r,o),o.listeners.push(t),t.Ks(n.onlineState),o.Ls&&t.Qs(o.Ls)&&Ac(n),[2]}}))}))}function Mc(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s;return wn(this,(function(a){return n=Os(e),r=t.query,i=!1,(o=n.Bs.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.Bs.delete(r),n.Ws(r))]:[2]}))}))}function Nc(e,t){for(var n=Os(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.Bs.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Qs(s)&&(r=!0);u.Ls=s}}r&&Ac(n)}function Dc(e,t,n){var r=Os(e),i=r.Bs.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(t)}function Ac(e){e.qs.forEach((function(e){e.next()}))}var Oc=function(){function e(e,t,n){this.query=e,this.js=t,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Qs=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ra(e.query,e.docs,e.Kt,t,e.Qt,e.fromCache,e.Wt,!0)}var o=!1;return this.Gs?this.Hs(e)&&(this.js.next(e),o=!0):this.Js(e,this.onlineState)&&(this.Ys(e),o=!0),this.zs=e,o},e.prototype.onError=function(e){this.js.error(e)},e.prototype.Ks=function(e){this.onlineState=e;var t=!1;return this.zs&&!this.Gs&&this.Js(this.zs,e)&&(this.Ys(this.zs),t=!0),t},e.prototype.Js=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.Xs&&n||e.docs.P()&&"Offline"!==t)},e.prototype.Hs=function(e){if(e.docChanges.length>0)return!0;var t=this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites;return!(!e.Wt&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.Ys=function(e){e=Ra.Gt(e.query,e.docs,e.Qt,e.fromCache),this.Gs=!0,this.js.next(e)},e}(),Rc=function(){function e(e){this.uid=e}return e.prototype.Zs=function(){return null!=this.uid},e.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();Rc.UNAUTHENTICATED=new Rc(null),Rc.ei=new Rc("google-credentials-uid"),Rc.ni=new Rc("first-party-uid");var zc=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.si=function(e){return n.ii(e)},this.ri=function(e){return t.oi(e)})}return e.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},e}();function Uc(e,t){return"firestore_clients_"+e+"_"+t}function Vc(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Zs()&&(r+="_"+t.uid),r}function Bc(e,t){return"firestore_targets_"+e+"_"+t}zc.ai=-1;var Fc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.hi=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new _s(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(Ps("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),jc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.hi=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _s(r.error.code,r.error.message)),i?new e(t,r.state,o):(Ps("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),qc=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.hi=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Da(),s=0;i&&s<r.activeTargetIds.length;++s)i=aa(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Ps("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Gc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.hi=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ps("SharedClientState","Failed to parse online state: "+t),null)},e}(),Hc=function(){function e(){this.activeTargetIds=Da()}return e.prototype.ui=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ci=function(){var e={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Wc=function(){function e(e,t,n,r,i){this.window=e,this.fn=t,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.Ei.bind(this),this.Ti=new ba(Us),this.Ii=!1,this.mi=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Uc(this.persistenceKey,this._i),this.Ri=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Hc),this.Pi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.gi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Vi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return e.Ln=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return bn(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,l,c,f=this;return wn(this,(function(h){switch(h.label){case 0:return[4,this.fi.pi()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this._i&&(i=this.getItem(Uc(this.persistenceKey,r)))&&(o=qc.hi(r,i))&&(this.Ti=this.Ti.ot(o.clientId,o));for(this.bi(),(s=this.storage.getItem(this.yi))&&(a=this.vi(s))&&this.Si(a),u=0,l=this.mi;u<l.length;u++)c=l[u],this.Ei(c);return this.mi=[],this.window.addEventListener("unload",(function(){return f.Di()})),this.Ii=!0,[2]}}))}))},e.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},e.prototype.Ci=function(){return this.Ni(this.Ti)},e.prototype.xi=function(e){var t=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.Fi=function(e){this.ki(e,"pending")},e.prototype.Oi=function(e,t,n){this.ki(e,t,n),this.Mi(e)},e.prototype.$i=function(e){var t="not-current";if(this.xi(e)){var n=this.storage.getItem(Bc(this.persistenceKey,e));if(n){var r=jc.hi(e,n);r&&(t=r.state)}}return this.Li.ui(e),this.bi(),t},e.prototype.Bi=function(e){this.Li.li(e),this.bi()},e.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},e.prototype.Ui=function(e){this.removeItem(Bc(this.persistenceKey,e))},e.prototype.Ki=function(e,t,n){this.Qi(e,t,n)},e.prototype.Wi=function(e,t,n){var r=this;t.forEach((function(e){r.Mi(e)})),this.currentUser=e,n.forEach((function(e){r.Fi(e)}))},e.prototype.ji=function(e){this.Gi(e)},e.prototype.Di=function(){this.Ii&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ii=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ts("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ts("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ts("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Ei=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ts("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void Ps("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return bn(t,void 0,void 0,(function(){var e,t,r,i,o,s;return wn(this,(function(a){if(this.Ii){if(null!==n.key)if(this.Pi.test(n.key)){if(null==n.newValue)return e=this.zi(n.key),[2,this.Hi(e,null)];if(t=this.Ji(n.key,n.newValue))return[2,this.Hi(t.clientId,t)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(r=this.Yi(n.key,n.newValue)))return[2,this.Xi(r)]}else if(this.Vi.test(n.key)){if(null!==n.newValue&&(i=this.Zi(n.key,n.newValue)))return[2,this.tr(i)]}else if(n.key===this.yi){if(null!==n.newValue&&(o=this.vi(n.newValue)))return[2,this.Si(o)]}else n.key===this.Ri&&(s=function(e){var t=zc.ai;if(null!=e)try{var n=JSON.parse(e);As("number"==typeof n),t=n}catch(e){Ps("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==zc.ai&&this.si(s)}else this.mi.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),e.prototype.bi=function(){this.setItem(this.Ai,this.Li.ci())},e.prototype.ki=function(e,t,n){var r=new Fc(this.currentUser,e,t,n),i=Vc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ci())},e.prototype.Mi=function(e){var t=Vc(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Gi=function(e){var t={clientId:this._i,onlineState:e};this.storage.setItem(this.yi,JSON.stringify(t))},e.prototype.Qi=function(e,t,n){var r=Bc(this.persistenceKey,e),i=new jc(e,t,n);this.setItem(r,i.ci())},e.prototype.zi=function(e){var t=this.Pi.exec(e);return t?t[1]:null},e.prototype.Ji=function(e,t){var n=this.zi(e);return qc.hi(n,t)},e.prototype.Yi=function(e,t){var n=this.gi.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fc.hi(new Rc(i),r,t)},e.prototype.Zi=function(e,t){var n=this.Vi.exec(e),r=Number(n[1]);return jc.hi(r,t)},e.prototype.vi=function(e){return Gc.hi(e)},e.prototype.Xi=function(e){return bn(this,void 0,void 0,(function(){return wn(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(Ts("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},e.prototype.Hi=function(e,t){var n=this,r=t?this.Ti.ot(e,t):this.Ti.remove(e),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach((function(e){i.has(e)||s.push(e)})),i.forEach((function(e){o.has(e)||a.push(e)})),this.fi.sr(s,a).then((function(){n.Ti=r}))},e.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},e.prototype.Ni=function(e){var t=Da();return e.forEach((function(e,n){t=t.Ot(n.activeTargetIds)})),t},e}(),Kc=function(){function e(){this.ir=new Hc,this.rr={},this.di=null,this.si=null}return e.prototype.Fi=function(e){},e.prototype.Oi=function(e,t,n){},e.prototype.$i=function(e){return this.ir.ui(e),this.rr[e]||"not-current"},e.prototype.Ki=function(e,t,n){this.rr[e]=t},e.prototype.Bi=function(e){this.ir.li(e)},e.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.Ui=function(e){delete this.rr[e]},e.prototype.Ci=function(){return this.ir.activeTargetIds},e.prototype.xi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.start=function(){return this.ir=new Hc,Promise.resolve()},e.prototype.Wi=function(e,t,n){},e.prototype.ji=function(e){},e.prototype.Di=function(){},e.prototype.oi=function(e){},e}(),Qc=function(){function e(e,t,n,r){this.batchId=e,this.ar=t,this.baseMutations=n,this.mutations=r}return e.prototype.hr=function(e,t,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=fl(o,t,r[i]))}return t},e.prototype.ur=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=hl(i,t,t,this.ar))}for(var o=t,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(e)&&(t=hl(u,t,o,this.ar))}return t},e.prototype.lr=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.ur(r.key,e.get(r.key));i&&(n=n.ot(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ma())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(function(e,t){return dl(e,t)}))&&Vs(this.baseMutations,e.baseMutations,(function(e,t){return dl(e,t)}))},e}(),Yc=function(){function e(e,t,n,r){this.batch=e,this._r=t,this.cr=n,this.dr=r}return e.from=function(t,n,r){As(t.mutations.length===r.length);for(var i=Ta,o=t.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),$c=function(){function e(){this.wr=new Zs((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.Er=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),e.prototype.Ir=function(e,t){this.mr(),this.readTime=t,this.wr.set(e.key,e)},e.prototype.Ar=function(e,t){this.mr(),t&&(this.readTime=t),this.wr.set(e,null)},e.prototype.Rr=function(e,t){this.mr();var n=this.wr.get(t);return void 0!==n?pc.resolve(n):this.Pr(e,t)},e.prototype.getEntries=function(e,t){return this.gr(e,t)},e.prototype.apply=function(e){return this.mr(),this.Er=!0,this.Vr(e)},e.prototype.mr=function(){},e}(),Zc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xc=function(){function e(){this.yr=[]}return e.prototype.pr=function(e){this.yr.push(e)},e.prototype.br=function(){this.yr.forEach((function(e){return e()}))},e}(),Jc=function(){function e(e,t,n){this.vr=e,this.Sr=t,this.Dr=n}return e.prototype.Cr=function(e,t){var n=this;return this.Sr.Nr(e,t).next((function(r){return n.Fr(e,t,r)}))},e.prototype.Fr=function(e,t,n){return this.vr.Rr(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].ur(t,e);return e}))},e.prototype.kr=function(e,t,n){var r=_a();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].ur(e,t);r=r.ot(e,t)})),r},e.prototype.Or=function(e,t){var n=this;return this.vr.getEntries(e,t).next((function(t){return n.Mr(e,t)}))},e.prototype.Mr=function(e,t){var n=this;return this.Sr.$r(e,t).next((function(r){var i=n.kr(e,t,r),o=xa();return i.forEach((function(e,t){t||(t=new Tl(e,Js.min())),o=o.ot(e,t)})),o}))},e.prototype.Lr=function(e,t,n){return function(e){return ia.X(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Br(e,t.path):Ul(t)?this.qr(e,t,n):this.Ur(e,t,n)},e.prototype.Br=function(e,t){return this.Cr(e,new ia(t)).next((function(e){var t=Ca();return e instanceof Cl&&(t=t.ot(e.key,e)),t}))},e.prototype.qr=function(e,t,n){var r=this,i=t.collectionGroup,o=Ca();return this.Dr.Kr(e,i).next((function(s){return pc.forEach(s,(function(s){var a=function(e,t){return new Ml(t,null,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(t,s.child(i));return r.Ur(e,a,n).next((function(e){e.forEach((function(e,t){o=o.ot(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Ur=function(e,t,n){var r,i,o=this;return this.vr.Lr(e,t,n).next((function(n){return r=n,o.Sr.Qr(e,t)})).next((function(t){return i=t,o.Wr(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l),f=hl(u,c,c,o.ar);r=f instanceof Cl?r.ot(l,f):r.remove(l)}}))})).next((function(){return r.forEach((function(e,n){Kl(t,n)||(r=r.remove(e))})),r}))},e.prototype.Wr=function(e,t,n){for(var r=Ma(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ml&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.vr.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Cl&&(l=l.ot(e,t))})),l}))},e}(),ef=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.jr=n,this.Gr=r}return e.zr=function(t,n){for(var r=Ma(),i=Ma(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}();function tf(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=Us(n,i);return 0===s?Us(r,o):s}var nf=function(){function e(e){this.Hr=e,this.buffer=new ka(tf),this.Jr=0}return e.prototype.Yr=function(){return++this.Jr},e.prototype.Xr=function(e){var t=[e,this.Yr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),rf={Zr:!1,eo:0,no:0,so:0},of=function(){function e(e,t,n){this.io=e,this.ro=t,this.oo=n}return e.ao=function(t){return new e(t,e.ho,e.co)},e}();of.uo=-1,of.lo=1048576,of._o=41943040,of.ho=10,of.co=1e3,of.fo=new of(of._o,of.ho,of.co),of.do=new of(of.uo,0,0);var sf=function(){function e(e,t){this.wo=e,this.hs=t,this.Eo=!1,this.To=null}return e.prototype.start=function(e){this.wo.params.io!==of.uo&&this.Io(e)},e.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(e.prototype,"Ii",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),e.prototype.Io=function(e){var t=this,n=this.Eo?3e5:6e4;Ts("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.hs.Vn("lru_garbage_collection",n,(function(){return bn(t,void 0,void 0,(function(){var t;return wn(this,(function(n){switch(n.label){case 0:this.To=null,this.Eo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.mo(this.wo)];case 2:return n.sent(),[3,7];case 3:return mc(t=n.sent())?(Ts("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,xh(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Io(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),af=function(){function e(e,t){this.Ao=e,this.params=t}return e.prototype.Ro=function(e,t){return this.Ao.Po(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Vo=function(e,t){var n=this;if(0===t)return pc.resolve(zc.ai);var r=new nf(t);return this.Ao.Ce(e,(function(e){return r.Xr(e.sequenceNumber)})).next((function(){return n.Ao.yo(e,(function(e){return r.Xr(e)}))})).next((function(){return r.maxValue}))},e.prototype.po=function(e,t,n){return this.Ao.po(e,t,n)},e.prototype.bo=function(e,t){return this.Ao.bo(e,t)},e.prototype.vo=function(e,t){var n=this;return this.params.io===of.uo?(Ts("LruGarbageCollector","Garbage collection skipped; disabled"),pc.resolve(rf)):this.So(e).next((function(r){return r<n.params.io?(Ts("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),rf):n.Do(e,t)}))},e.prototype.So=function(e){return this.Ao.So(e)},e.prototype.Do=function(e,t){var n,r,i,o,s,a,u,l=this,c=Date.now();return this.Ro(e,this.params.ro).next((function(t){return t>l.params.oo?(Ts("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+t),r=l.params.oo):r=t,o=Date.now(),l.Vo(e,r)})).next((function(r){return n=r,s=Date.now(),l.po(e,n,t)})).next((function(t){return i=t,a=Date.now(),l.bo(e,n)})).next((function(e){return u=Date.now(),Cs()<=Ht.DEBUG&&Ts("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-c)+"ms"),pc.resolve({Zr:!0,eo:r,no:i,so:e})}))},e}();function uf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=cf(t)),t=lf(e.get(n),t);return cf(t)}function lf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function cf(e){return e+"\x01\x01"}function ff(e){var t=e.length;if(As(t>=2),2===t)return As("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ta.U();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&Ds(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:Ds()}o=s+2}return new ta(r)}var hf=function(e){this.Co=e};function pf(e,t){if(t.document)return function(e,t,n){var r=xu(e,t.name),i=Eu(t.updateTime),o=new Ll({mapValue:{fields:t.fields}});return new Cl(r,i,o,{hasCommittedMutations:!!n})}(e.Co,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ia.Z(t.noDocument.path),r=yf(t.noDocument.readTime);return new Tl(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=ia.Z(t.unknownDocument.path),o=yf(t.unknownDocument.version);return new Pl(i,o)}return Ds()}function df(e,t,n){var r=gf(n),i=t.key.path.F().L();if(t instanceof Cl){var o=function(e,t){return{name:Lu(e,t.key),fields:t.rn().mapValue.fields,updateTime:yu(e,t.version.v())}}(e.Co,t),s=t.hasCommittedMutations;return new Gf(null,null,o,s,r,i)}if(t instanceof Tl){var a=t.key.path.L(),u=mf(t.version),l=t.hasCommittedMutations;return new Gf(null,new jf(a,u),null,l,r,i)}if(t instanceof Pl){var c=t.key.path.L(),f=mf(t.version);return new Gf(new qf(c,f),null,null,!0,r,i)}return Ds()}function gf(e){var t=e.v();return[t.seconds,t.nanoseconds]}function vf(e){var t=new Xs(e[0],e[1]);return Js.V(t)}function mf(e){var t=e.v();return new zf(t.seconds,t.nanoseconds)}function yf(e){var t=new Xs(e.seconds,e.nanoseconds);return Js.V(t)}function bf(e,t){var n=(t.baseMutations||[]).map((function(t){return Nu(e.Co,t)})),r=t.mutations.map((function(t){return Nu(e.Co,t)})),i=Xs.fromMillis(t.localWriteTimeMs);return new Qc(t.batchId,i,n,r)}function wf(e){var t,n,r=yf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?yf(e.lastLimboFreeSnapshotVersion):Js.min();return void 0!==e.query.documents?(As(1===(n=e.query).documents.length),t=Bl(Dl(Iu(n.documents[0])))):t=Ou(e.query),new ga(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Fs.fromBase64String(e.resumeToken))}function Ef(e,t){var n,r=mf(t.nt),i=mf(t.lastLimboFreeSnapshotVersion);n=ha(t.target)?Du(e.Co,t.target):Au(e.Co,t.target);var o=t.resumeToken.toBase64();return new Wf(t.targetId,ca(t.target),r,o,t.sequenceNumber,i,n)}var kf=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Dr=n,this.No=r,this.xo={}}return e.Fo=function(t,n,r,i){return As(""!==t.uid),new e(t.Zs()?t.uid:"",n,r,i)},e.prototype.ko=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xf(e).rs({index:Bf.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.Oo=function(e,t,n,r){var i=this,o=_f(e),s=xf(e);return s.add({}).next((function(a){As("number"==typeof a);for(var u=new Qc(a,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Mu(e.Co,t)})),i=n.mutations.map((function(t){return Mu(e.Co,t)}));return new Bf(t,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],f=new ka((function(e,t){return Us(e.B(),t.B())})),h=0,p=r;h<p.length;h++){var d=p[h],g=Ff.key(i.userId,d.key.path,a);f=f.add(d.key.path.F()),c.push(s.put(l)),c.push(o.put(g,Ff.PLACEHOLDER))}return f.forEach((function(t){c.push(i.Dr.Mo(e,t))})),e.pr((function(){i.xo[a]=u.keys()})),pc.kn(c).next((function(){return u}))}))},e.prototype.$o=function(e,t){var n=this;return xf(e).get(t).next((function(e){return e?(As(e.userId===n.userId),bf(n.serializer,e)):null}))},e.prototype.Lo=function(e,t){var n=this;return this.xo[t]?pc.resolve(this.xo[t]):this.$o(e,t).next((function(e){if(e){var r=e.keys();return n.xo[t]=r,r}return null}))},e.prototype.Bo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xf(e).rs({index:Bf.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(As(t.batchId>=r),o=bf(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.qo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xf(e).rs({index:Bf.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Uo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xf(e).ts(Bf.userMutationsIndex,n).next((function(e){return e.map((function(e){return bf(t.serializer,e)}))}))},e.prototype.Nr=function(e,t){var n=this,r=Ff.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return _f(e).rs({range:i},(function(r,i,s){var a=r[0],u=r[1],l=r[2],c=ff(u);if(a===n.userId&&t.path.isEqual(c))return xf(e).get(l).next((function(e){if(!e)throw Ds();As(e.userId===n.userId),o.push(bf(n.serializer,e))}));s.done()})).next((function(){return o}))},e.prototype.$r=function(e,t){var n=this,r=new ka(Us),i=[];return t.forEach((function(t){var o=Ff.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=_f(e).rs({range:s},(function(e,i,o){var s=e[0],a=e[1],u=e[2],l=ff(a);s===n.userId&&t.path.isEqual(l)?r=r.add(u):o.done()}));i.push(a)})),pc.kn(i).next((function(){return n.Ko(e,r)}))},e.prototype.Qr=function(e,t){var n=this,r=t.path,i=r.length+1,o=Ff.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ka(Us);return _f(e).rs({range:s},(function(e,t,o){var s=e[0],u=e[1],l=e[2],c=ff(u);s===n.userId&&r.M(c)?c.length===i&&(a=a.add(l)):o.done()})).next((function(){return n.Ko(e,a)}))},e.prototype.Ko=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xf(e).get(t).next((function(e){if(null===e)throw Ds();As(e.userId===n.userId),r.push(bf(n.serializer,e))})))})),pc.kn(i).next((function(){return r}))},e.prototype.Qo=function(e,t){var n=this;return Lf(e.Wo,this.userId,t).next((function(r){return e.pr((function(){n.jo(t.batchId)})),pc.forEach(r,(function(t){return n.No.Go(e,t)}))}))},e.prototype.jo=function(e){delete this.xo[e]},e.prototype.zo=function(e){var t=this;return this.ko(e).next((function(n){if(!n)return pc.resolve();var r=IDBKeyRange.lowerBound(Ff.prefixForUser(t.userId)),i=[];return _f(e).rs({range:r},(function(e,n,r){if(e[0]===t.userId){var o=ff(e[1]);i.push(o)}else r.done()})).next((function(){As(0===i.length)}))}))},e.prototype.Ho=function(e,t){return Sf(e,this.userId,t)},e.prototype.Jo=function(e){var t=this;return If(e).get(this.userId).next((function(e){return e||new Vf(t.userId,-1,"")}))},e}();function Sf(e,t,n){var r=Ff.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return _f(e).rs({range:o,ss:!0},(function(e,n,r){var o=e[0],a=e[1];e[2],o===t&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Lf(e,t,n){var r=e.store(Bf.store),i=e.store(Ff.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(e,t,n){return a++,n.delete()}));o.push(u.next((function(){As(1===a)})));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],p=Ff.key(t,h.key.path,n.batchId);o.push(i.delete(p)),l.push(h.key)}return pc.kn(o).next((function(){return l}))}function xf(e){return uh.Kn(e,Bf.store)}function _f(e){return uh.Kn(e,Ff.store)}function If(e){return uh.Kn(e,Vf.store)}var Cf=function(){function e(e,t){this.serializer=e,this.Dr=t}return e.prototype.Ir=function(e,t,n){return Mf(e).put(Nf(t),n)},e.prototype.Ar=function(e,t){var n=Mf(e),r=Nf(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Yo(e,r)}))},e.prototype.Rr=function(e,t){var n=this;return Mf(e).get(Nf(t)).next((function(e){return n.Xo(e)}))},e.prototype.Zo=function(e,t){var n=this;return Mf(e).get(Nf(t)).next((function(e){var t=n.Xo(e);return t?{ta:t,size:Df(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=_a();return this.ea(e,t,(function(e,t){var i=n.Xo(t);r=r.ot(e,i)})).next((function(){return r}))},e.prototype.na=function(e,t){var n=this,r=_a(),i=new ba(ia.D);return this.ea(e,t,(function(e,t){var o=n.Xo(t);o?(r=r.ot(e,o),i=i.ot(e,Df(t))):(r=r.ot(e,null),i=i.ot(e,0))})).next((function(){return{sa:r,ia:i}}))},e.prototype.ea=function(e,t,n){if(t.P())return pc.resolve();var r=IDBKeyRange.bound(t.first().path.L(),t.last().path.L()),i=t._t(),o=i.It();return Mf(e).rs({range:r},(function(e,t,r){for(var s=ia.Z(e);o&&ia.D(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,t),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},e.prototype.Lr=function(e,t,n){var r=this,i=Ca(),o=t.path.length+1,s={};if(n.isEqual(Js.min())){var a=t.path.L();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.L(),l=gf(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Gf.collectionReadTimeIndex}return Mf(e).rs(s,(function(e,n,s){if(e.length===o){var a=pf(r.serializer,n);t.path.M(a.key.path)?a instanceof Cl&&Kl(t,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},e.prototype.ra=function(e){return new Tf(this,!!e&&e.oa)},e.prototype.aa=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Pf(e).get(Hf.key).next((function(e){return As(!!e),e}))},e.prototype.Yo=function(e,t){return Pf(e).put(Hf.key,t)},e.prototype.Xo=function(e){if(e){var t=pf(this.serializer,e);return t instanceof Tl&&t.version.isEqual(Js.min())?null:t}return null},e}(),Tf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).ha=t,r.oa=n,r.ca=new Zs((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return yn(t,e),t.prototype.Vr=function(e){var t=this,n=[],r=0,i=new ka((function(e,t){return Us(e.B(),t.B())}));return this.wr.forEach((function(o,s){var a=t.ca.get(o);if(s){var u=df(t.ha.serializer,s,t.readTime);i=i.add(o.path.F());var l=Df(u);r+=l-a,n.push(t.ha.Ir(e,o,u))}else if(r-=a,t.oa){var c=df(t.ha.serializer,new Tl(o,Js.min()),t.readTime);n.push(t.ha.Ir(e,o,c))}else n.push(t.ha.Ar(e,o))})),i.forEach((function(r){n.push(t.ha.Dr.Mo(e,r))})),n.push(this.ha.updateMetadata(e,r)),pc.kn(n)},t.prototype.Pr=function(e,t){var n=this;return this.ha.Zo(e,t).next((function(e){return null===e?(n.ca.set(t,0),null):(n.ca.set(t,e.size),e.ta)}))},t.prototype.gr=function(e,t){var n=this;return this.ha.na(e,t).next((function(e){var t=e.sa;return e.ia.forEach((function(e,t){n.ca.set(e,t)})),t}))},t}($c);function Pf(e){return uh.Kn(e,Hf.store)}function Mf(e){return uh.Kn(e,Gf.store)}function Nf(e){return e.path.L()}function Df(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ds();t=e.noDocument}return JSON.stringify(t).length}var Af=function(){function e(){this.ua=new Of}return e.prototype.Mo=function(e,t){return this.ua.add(t),pc.resolve()},e.prototype.Kr=function(e,t){return pc.resolve(this.ua.getEntries(t))},e}(),Of=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.O(),n=e.F(),r=this.index[t]||new ka(ta.D),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.O(),n=e.F(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ka(ta.D)).L()},e}(),Rf=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;As(n<r&&n>=0&&r<=10);var o=new yc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Uf.store)}(e),function(e){e.createObjectStore(Vf.store,{keyPath:Vf.keyPath}),e.createObjectStore(Bf.store,{keyPath:Bf.keyPath,autoIncrement:!0}).createIndex(Bf.userMutationsIndex,Bf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ff.store)}(e),$f(e),function(e){e.createObjectStore(Gf.store)}(e));var s=pc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Kf.store),e.deleteObjectStore(Wf.store),e.deleteObjectStore(Qf.store)}(e),$f(e)),s=s.next((function(){return function(e){var t=e.store(Qf.store),n=new Qf(0,0,Js.min().v(),0);return t.put(Qf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(Bf.store).ts().next((function(n){e.deleteObjectStore(Bf.store),e.createObjectStore(Bf.store,{keyPath:Bf.keyPath,autoIncrement:!0}).createIndex(Bf.userMutationsIndex,Bf.userMutationsKeyPath,{unique:!0});var r=t.store(Bf.store),i=n.map((function(e){return r.put(e)}));return pc.kn(i)}))}(e,o)}))),s=s.next((function(){!function(e){e.createObjectStore(Zf.store,{keyPath:Zf.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(Hf.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Gf.store);t.createIndex(Gf.readTimeIndex,Gf.readTimeIndexPath,{unique:!1}),t.createIndex(Gf.collectionReadTimeIndex,Gf.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Gf.store).rs((function(e,n){t+=Df(n)})).next((function(){var n=new Hf(t);return e.store(Hf.store).put(Hf.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Vf.store),r=e.store(Bf.store);return n.ts().next((function(n){return pc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Bf.userMutationsIndex,i).next((function(r){return pc.forEach(r,(function(r){As(r.userId===n.userId);var i=bf(t.serializer,r);return Lf(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Kf.store),n=e.store(Gf.store);return e.store(Qf.store).get(Qf.key).next((function(e){var r=[];return n.rs((function(n,i){var o=new ta(n),s=function(e){return[0,uf(e)]}(o);r.push(t.get(s).next((function(n){return n?pc.resolve():function(n){return t.put(new Kf(0,uf(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return pc.kn(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Yf.store,{keyPath:Yf.keyPath});var n=t.store(Yf.store),r=new Of,i=function(e){if(r.add(e)){var t=e.O(),i=e.F();return n.put({collectionId:t,parent:uf(i)})}};return t.store(Gf.store).rs({ss:!0},(function(e,t){var n=new ta(e);return i(n.F())})).next((function(){return t.store(Ff.store).rs({ss:!0},(function(e,t){e[0];var n=e[1],r=(e[2],ff(n));return i(r.F())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Wf.store);return n.rs((function(e,r){var i=wf(r),o=Ef(t.serializer,i);return n.put(o)}))},e}(),zf=function(e,t){this.seconds=e,this.nanoseconds=t},Uf=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Uf.store="owner",Uf.key="owner";var Vf=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vf.store="mutationQueues",Vf.keyPath="userId";var Bf=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bf.store="mutations",Bf.keyPath="batchId",Bf.userMutationsIndex="userMutationsIndex",Bf.userMutationsKeyPath=["userId","batchId"];var Ff=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,uf(t)]},e.key=function(e,t,n){return[e,uf(t),n]},e}();Ff.store="documentMutations",Ff.PLACEHOLDER=new Ff;var jf=function(e,t){this.path=e,this.readTime=t},qf=function(e,t){this.path=e,this.version=t},Gf=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gf.store="remoteDocuments",Gf.readTimeIndex="readTimeIndex",Gf.readTimeIndexPath="readTime",Gf.collectionReadTimeIndex="collectionReadTimeIndex",Gf.collectionReadTimeIndexPath=["parentPath","readTime"];var Hf=function(e){this.byteSize=e};Hf.store="remoteDocumentGlobal",Hf.key="remoteDocumentGlobalKey";var Wf=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Wf.store="targets",Wf.keyPath="targetId",Wf.queryTargetsIndexName="queryTargetsIndex",Wf.queryTargetsKeyPath=["canonicalId","targetId"];var Kf=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kf.store="targetDocuments",Kf.keyPath=["targetId","path"],Kf.documentTargetsIndex="documentTargetsIndex",Kf.documentTargetsKeyPath=["path","targetId"];var Qf=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qf.key="targetGlobalKey",Qf.store="targetGlobal";var Yf=function(e,t){this.collectionId=e,this.parent=t};function $f(e){e.createObjectStore(Kf.store,{keyPath:Kf.keyPath}).createIndex(Kf.documentTargetsIndex,Kf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Wf.store,{keyPath:Wf.keyPath}).createIndex(Wf.queryTargetsIndexName,Wf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qf.store)}Yf.store="collectionParents",Yf.keyPath=["collectionId","parent"];var Zf=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Zf.store="clientMetadata",Zf.keyPath="clientId";var Xf=En(En(En([Vf.store,Bf.store,Ff.store,Gf.store,Wf.store,Uf.store,Qf.store,Kf.store],[Zf.store]),[Hf.store]),[Yf.store]),Jf=function(){function e(){this.la=new Of}return e.prototype.Mo=function(e,t){var n=this;if(!this.la.has(t)){var r=t.O(),i=t.F();e.pr((function(){n.la.add(t)}));var o={collectionId:r,parent:uf(i)};return eh(e).put(o)}return pc.resolve()},e.prototype.Kr=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Bs(t),""],!1,!0);return eh(e).ts(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ff(o.parent))}return n}))},e}();function eh(e){return uh.Kn(e,Yf.store)}var th=function(){function e(e){this._a=e}return e.prototype.next=function(){return this._a+=2,this._a},e.fa=function(){return new e(0)},e.da=function(){return new e(-1)},e}(),nh=function(){function e(e,t){this.No=e,this.serializer=t}return e.prototype.wa=function(e){var t=this;return this.Ea(e).next((function(n){var r=new th(n.highestTargetId);return n.highestTargetId=r.next(),t.Ta(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Ia=function(e){return this.Ea(e).next((function(e){return Js.V(new Xs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.ma=function(e){return this.Ea(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.Aa=function(e,t,n){var r=this;return this.Ea(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.v()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ta(e,i)}))},e.prototype.Ra=function(e,t){var n=this;return this.Pa(e,t).next((function(){return n.Ea(e).next((function(r){return r.targetCount+=1,n.ga(t,r),n.Ta(e,r)}))}))},e.prototype.Va=function(e,t){return this.Pa(e,t)},e.prototype.ya=function(e,t){var n=this;return this.pa(e,t.targetId).next((function(){return rh(e).delete(t.targetId)})).next((function(){return n.Ea(e)})).next((function(t){return As(t.targetCount>0),t.targetCount-=1,n.Ta(e,t)}))},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return rh(e).rs((function(s,a){var u=wf(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.ya(e,u)))})).next((function(){return pc.kn(o)})).next((function(){return i}))},e.prototype.Ce=function(e,t){return rh(e).rs((function(e,n){var r=wf(n);t(r)}))},e.prototype.Ea=function(e){return ih(e).get(Qf.key).next((function(e){return As(null!==e),e}))},e.prototype.Ta=function(e,t){return ih(e).put(Qf.key,t)},e.prototype.Pa=function(e,t){return rh(e).put(Ef(this.serializer,t))},e.prototype.ga=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.ba=function(e){return this.Ea(e).next((function(e){return e.targetCount}))},e.prototype.va=function(e,t){var n=ca(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rh(e).rs({range:r,index:Wf.queryTargetsIndexName},(function(e,n,r){var o=wf(n);fa(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Sa=function(e,t,n){var r=this,i=[],o=oh(e);return t.forEach((function(t){var s=uf(t.path);i.push(o.put(new Kf(n,s))),i.push(r.No.Da(e,n,t))})),pc.kn(i)},e.prototype.Ca=function(e,t,n){var r=this,i=oh(e);return pc.forEach(t,(function(t){var o=uf(t.path);return pc.kn([i.delete([n,o]),r.No.Na(e,n,t)])}))},e.prototype.pa=function(e,t){var n=oh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.xa=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oh(e),i=Ma();return r.rs({range:n,ss:!0},(function(e,t,n){var r=ff(e[1]),o=new ia(r);i=i.add(o)})).next((function(){return i}))},e.prototype.Ho=function(e,t){var n=uf(t.path),r=IDBKeyRange.bound([n],[Bs(n)],!1,!0),i=0;return oh(e).rs({index:Kf.documentTargetsIndex,ss:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Ue=function(e,t){return rh(e).get(t).next((function(e){return e?wf(e):null}))},e}();function rh(e){return uh.Kn(e,Wf.store)}function ih(e){return uh.Kn(e,Qf.store)}function oh(e){return uh.Kn(e,Kf.store)}var sh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ah=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Wo=t,r.Fa=n,r}return yn(t,e),t}(Xc),uh=function(){function e(t,n,r,i,o,s,a,u,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.ka=l,this.Oa=c,this.Ma=null,this.$a=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Ka=function(e){return Promise.resolve()},!e.Ln())throw new _s(xs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new fh(this,i),this.Qa=n+"main",this.serializer=new hf(u),this.Wa=new dc(this.Qa,10,new Rf(this.serializer)),this.ja=new nh(this.No,this.serializer),this.Dr=new Jf,this.vr=function(e,t){return new Cf(e,t)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===c&&Ps("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Kn=function(e,t){if(e instanceof ah)return dc.Kn(e.Wo,t);throw Ds()},e.prototype.start=function(){var e=this;return this.za().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new _s(xs.FAILED_PRECONDITION,sh);return e.Ha(),e.Ja(),e.Ya(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ja.ma(t)}))})).then((function(t){e.Ma=new zc(t,e.ka)})).then((function(){e.$a=!0})).catch((function(t){return e.Wa&&e.Wa.close(),Promise.reject(t)}))},e.prototype.Xa=function(e){var t=this;return this.Ka=function(n){return bn(t,void 0,void 0,(function(){return wn(this,(function(t){return this.Ii?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.Za=function(e){var t=this;this.Wa.jn((function(n){return bn(t,void 0,void 0,(function(){return wn(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.th=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws((function(){return bn(t,void 0,void 0,(function(){return wn(this,(function(e){switch(e.label){case 0:return this.Ii?[4,this.za()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ch(t).put(new Zf(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.eh(t).next((function(t){t||(e.isPrimary=!1,e.fn.Cs((function(){return e.Ka(!1)})))}))})).next((function(){return e.nh(t)})).next((function(n){return e.isPrimary&&!n?e.sh(t).next((function(){return!1})):!!n&&e.ih(t).next((function(){return!0}))}))})).catch((function(t){if(mc(t))return Ts("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ts("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.fn.Cs((function(){return e.Ka(t)})),e.isPrimary=t}))},e.prototype.eh=function(e){var t=this;return lh(e).get(Uf.key).next((function(e){return pc.resolve(t.rh(e))}))},e.prototype.oh=function(e){return ch(e).delete(this.clientId)},e.prototype.ah=function(){return bn(this,void 0,void 0,(function(){var t,n,r,i,o=this;return wn(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.hh(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Kn(t,Zf.store);return n.ts().next((function(e){var t=o.uh(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return pc.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=s.sent(),this.Ga)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ga.removeItem(this.lh(i.clientId));s.label=2;case 2:return[2]}}))}))},e.prototype.Ya=function(){var e=this;this.qa=this.fn.Vn("client_metadata_refresh",4e3,(function(){return e.za().then((function(){return e.ah()})).then((function(){return e.Ya()}))}))},e.prototype.rh=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.nh=function(e){var t=this;return this.Oa?pc.resolve(!0):lh(e).get(Uf.key).next((function(n){if(null!==n&&t.hh(n.leaseTimestampMs,5e3)&&!t._h(n.ownerId)){if(t.rh(n)&&t.networkEnabled)return!0;if(!t.rh(n)){if(!n.allowTabSynchronization)throw new _s(xs.FAILED_PRECONDITION,sh);return!1}}return!(!t.networkEnabled||!t.inForeground)||ch(e).ts().next((function(e){return void 0===t.uh(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ts("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Di=function(){return bn(this,void 0,void 0,(function(){var e=this;return wn(this,(function(t){switch(t.label){case 0:return this.$a=!1,this.fh(),this.qa&&(this.qa.cancel(),this.qa=null),this.dh(),this.wh(),[4,this.Wa.runTransaction("shutdown","readwrite",[Uf.store,Zf.store],(function(t){var n=new ah(t,zc.ai);return e.sh(n).next((function(){return e.oh(n)}))}))];case 1:return t.sent(),this.Wa.close(),this.Eh(),[2]}}))}))},e.prototype.uh=function(e,t){var n=this;return e.filter((function(e){return n.hh(e.updateTimeMs,t)&&!n._h(e.clientId)}))},e.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ch(t).ts().next((function(t){return e.uh(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),e.prototype.Th=function(e){return kf.Fo(e,this.serializer,this.Dr,this.No)},e.prototype.Ih=function(){return this.ja},e.prototype.mh=function(){return this.vr},e.prototype.Ah=function(){return this.Dr},e.prototype.runTransaction=function(e,t,n){var r=this;Ts("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Wa.runTransaction(e,o,Xf,(function(o){return i=new ah(o,r.Ma?r.Ma.next():zc.ai),"readwrite-primary"===t?r.eh(i).next((function(e){return!!e||r.nh(i)})).next((function(t){if(!t)throw Ps("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Ka(!1)})),new _s(xs.FAILED_PRECONDITION,Zc);return n(i)})).next((function(e){return r.ih(i).next((function(){return e}))})):r.Rh(i).next((function(){return n(i)}))})).then((function(e){return i.br(),e}))},e.prototype.Rh=function(e){var t=this;return lh(e).get(Uf.key).next((function(e){if(null!==e&&t.hh(e.leaseTimestampMs,5e3)&&!t._h(e.ownerId)&&!t.rh(e)&&!(t.Oa||t.allowTabSynchronization&&e.allowTabSynchronization))throw new _s(xs.FAILED_PRECONDITION,sh)}))},e.prototype.ih=function(e){var t=new Uf(this.clientId,this.allowTabSynchronization,Date.now());return lh(e).put(Uf.key,t)},e.Ln=function(){return dc.Ln()},e.prototype.sh=function(e){var t=this,n=lh(e);return n.get(Uf.key).next((function(e){return t.rh(e)?(Ts("IndexedDbPersistence","Releasing primary lease."),n.delete(Uf.key)):pc.resolve()}))},e.prototype.hh=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ps("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Ha=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){e.fn.ws((function(){return e.inForeground="visible"===e.document.visibilityState,e.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},e.prototype.dh=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},e.prototype.Ja=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.La=function(){t.fh(),t.fn.ws((function(){return t.Di()}))},this.window.addEventListener("unload",this.La))},e.prototype.wh=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},e.prototype._h=function(e){var t;try{var n=null!==(null===(t=this.Ga)||void 0===t?void 0:t.getItem(this.lh(e)));return Ts("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ps("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.fh=function(){if(this.Ga)try{this.Ga.setItem(this.lh(this.clientId),String(Date.now()))}catch(e){Ps("Failed to set zombie client id.",e)}},e.prototype.Eh=function(){if(this.Ga)try{this.Ga.removeItem(this.lh(this.clientId))}catch(e){}},e.prototype.lh=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function lh(e){return uh.Kn(e,Uf.store)}function ch(e){return uh.Kn(e,Zf.store)}var fh=function(){function e(e,t){this.db=e,this.wo=new af(this,t)}return e.prototype.Po=function(e){var t=this.Ph(e);return this.db.Ih().ba(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.Ph=function(e){var t=0;return this.yo(e,(function(e){t++})).next((function(){return t}))},e.prototype.Ce=function(e,t){return this.db.Ih().Ce(e,t)},e.prototype.yo=function(e,t){return this.gh(e,(function(e,n){return t(n)}))},e.prototype.Da=function(e,t,n){return hh(e,n)},e.prototype.Na=function(e,t,n){return hh(e,n)},e.prototype.po=function(e,t,n){return this.db.Ih().po(e,t,n)},e.prototype.Go=function(e,t){return hh(e,t)},e.prototype.Vh=function(e,t){return function(e,t){var n=!1;return If(e).os((function(r){return Sf(e,r,t).next((function(e){return e&&(n=!0),pc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.bo=function(e,t){var n=this,r=this.db.mh().ra(),i=[],o=0;return this.gh(e,(function(s,a){if(a<=t){var u=n.Vh(e,s).next((function(t){if(!t)return o++,r.Rr(e,s).next((function(){return r.Ar(s),oh(e).delete([0,uf(s.path)])}))}));i.push(u)}})).next((function(){return pc.kn(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.st(e.Fa);return this.db.Ih().Va(e,n)},e.prototype.yh=function(e,t){return hh(e,t)},e.prototype.gh=function(e,t){var n,r=oh(e),i=zc.ai;return r.rs({index:Kf.documentTargetsIndex},(function(e,r){var o=e[0],s=(e[1],r.path),a=r.sequenceNumber;0===o?(i!==zc.ai&&t(new ia(ff(n)),i),i=a,n=s):i=zc.ai})).next((function(){i!==zc.ai&&t(new ia(ff(n)),i)}))},e.prototype.So=function(e){return this.db.mh().aa(e)},e}();function hh(e,t){return oh(e).put(function(e,t){return new Kf(0,uf(e.path),t)}(t,e.Fa))}function ph(e,t){var n=e.projectId;return e.I||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var dh=function(){function e(e,t,n){this.persistence=e,this.ph=t,this.bh=new ba(Us),this.Sh=new Zs((function(e){return ca(e)}),fa),this.Dh=Js.min(),this.Sr=e.Th(n),this.Ch=e.mh(),this.ja=e.Ih(),this.Nh=new Jc(this.Ch,this.Sr,this.persistence.Ah()),this.ph.xh(this.Nh)}return e.prototype.mo=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.vo(n,t.bh)}))},e}();function gh(e,t){var n=Os(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ch.ra({oa:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=pc.resolve();return o.forEach((function(e){s=s.next((function(){return r.Rr(t,e)})).next((function(t){var o=t,s=n.dr.get(e);As(null!==s),(!o||o.version.h(s)<0)&&(o=i.hr(e,o,n))&&r.Ir(o,n._r)}))})),s.next((function(){return e.Sr.Qo(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Nh.Or(e,r)}))}))}function vh(e){var t=Os(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ja.Ia(e)}))}function mh(e,t){var n=Os(e),r=t.nt,i=n.bh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Ch.ra({oa:!0});i=n.bh;var s=[];t.zt.forEach((function(t,o){var a=i.get(o);if(a){s.push(n.ja.Ca(e,t.se,o).next((function(){return n.ja.Sa(e,t.ee,o)})));var u=t.resumeToken;if(u.o()>0){var l=a.it(u,r).st(e.Fa);i=i.ot(o,l),function(e,t,n){return As(t.resumeToken.o()>0),0===e.resumeToken.o()||t.nt.p()-e.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,l,t)&&s.push(n.ja.Va(e,l))}}}));var a=xa(),u=Ma();if(t.Jt.forEach((function(e,t){u=u.add(e)})),s.push(o.getEntries(e,u).next((function(i){t.Jt.forEach((function(u,l){var c=i.get(u);l instanceof Tl&&l.version.isEqual(Js.min())?(o.Ar(u,r),a=a.ot(u,l)):null==c||l.version.h(c.version)>0||0===l.version.h(c.version)&&c.hasPendingWrites?(o.Ir(l,r),a=a.ot(u,l)):Ts("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),t.Yt.has(u)&&s.push(n.persistence.No.yh(e,u))}))}))),!r.isEqual(Js.min())){var l=n.ja.Ia(e).next((function(t){return n.ja.Aa(e,e.Fa,r)}));s.push(l)}return pc.kn(s).next((function(){return o.apply(e)})).next((function(){return n.Nh.Mr(e,a)}))})).then((function(e){return n.bh=i,e}))}function yh(e,t){var n=Os(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Sr.Bo(e,t)}))}function bh(e,t){var n=Os(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ja.va(e,t).next((function(i){return i?(r=i,pc.resolve(r)):n.ja.wa(e).next((function(i){return r=new ga(t,i,0,e.Fa),n.ja.Ra(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.bh.get(e.targetId);return(null===r||e.nt.h(r.nt)>0)&&(n.bh=n.bh.ot(e.targetId,e),n.Sh.set(t,e.targetId)),e}))}function wh(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o,s;return wn(this,(function(a){switch(a.label){case 0:r=Os(e),i=r.bh.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.No.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!mc(s=a.sent()))throw s;return Ts("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.bh=r.bh.remove(t),r.Sh.delete(i.target),[2]}}))}))}function Eh(e,t,n){var r=Os(e),i=Js.min(),o=Ma();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Os(e),i=r.Sh.get(n);return void 0!==i?pc.resolve(r.bh.get(i)):r.ja.va(t,n)}(r,e,Bl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ja.xa(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.ph.Lr(e,t,n?i:Js.min(),n?o:Ma())})).next((function(e){return{documents:e,Fh:o}}))}))}function kh(e,t){var n=Os(e),r=Os(n.ja),i=n.bh.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Ue(e,t).next((function(e){return e?e.target:null}))}))}function Sh(e){var t=Os(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Os(e),i=xa(),o=gf(n),s=Mf(t),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Gf.readTimeIndex,range:a},(function(e,t){var n=pf(r.serializer,t);i=i.ot(n.key,n),o=t.readTime})).next((function(){return{kh:i,readTime:vf(o)}}))}(t.Ch,e,t.Dh)})).then((function(e){var n=e.kh,r=e.readTime;return t.Dh=r,n}))}function Lh(e){return bn(this,void 0,void 0,(function(){var t;return wn(this,(function(n){return[2,(t=Os(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Mf(e),n=Js.min();return t.rs({index:Gf.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=vf(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Dh=e}))]}))}))}function xh(e){return bn(this,void 0,void 0,(function(){return wn(this,(function(t){if(e.code!==xs.FAILED_PRECONDITION||e.message!==Zc)throw e;return Ts("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var _h=function(){function e(){this.Oh=new ka(Ih.Mh),this.$h=new ka(Ih.Lh)}return e.prototype.P=function(){return this.Oh.P()},e.prototype.Da=function(e,t){var n=new Ih(e,t);this.Oh=this.Oh.add(n),this.$h=this.$h.add(n)},e.prototype.Bh=function(e,t){var n=this;e.forEach((function(e){return n.Da(e,t)}))},e.prototype.Na=function(e,t){this.qh(new Ih(e,t))},e.prototype.Uh=function(e,t){var n=this;e.forEach((function(e){return n.Na(e,t)}))},e.prototype.Kh=function(e){var t=this,n=new ia(new ta([])),r=new Ih(n,e),i=new Ih(n,e+1),o=[];return this.$h.xt([r,i],(function(e){t.qh(e),o.push(e.key)})),o},e.prototype.Qh=function(){var e=this;this.Oh.forEach((function(t){return e.qh(t)}))},e.prototype.qh=function(e){this.Oh=this.Oh.delete(e),this.$h=this.$h.delete(e)},e.prototype.Wh=function(e){var t=new ia(new ta([])),n=new Ih(t,e),r=new Ih(t,e+1),i=Ma();return this.$h.xt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.Ho=function(e){var t=new Ih(e,0),n=this.Oh.kt(t);return null!==n&&e.isEqual(n.key)},e}(),Ih=function(){function e(e,t){this.key=e,this.jh=t}return e.Mh=function(e,t){return ia.D(e.key,t.key)||Us(e.jh,t.jh)},e.Lh=function(e,t){return Us(e.jh,t.jh)||ia.D(e.key,t.key)},e}(),Ch=function(e,t){this.user=t,this.type="OAuth",this.Gh={},this.Gh.Authorization="Bearer "+e},Th=function(){function e(){this.zh=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.Hh=function(){},e.prototype.Jh=function(e){this.zh=e,e(Rc.UNAUTHENTICATED)},e.prototype.Yh=function(){this.zh=null},e}(),Ph=function(){function e(e){var t=this;this.Xh=null,this.currentUser=Rc.UNAUTHENTICATED,this.Zh=!1,this.tc=0,this.zh=null,this.forceRefresh=!1,this.Xh=function(){t.tc++,t.currentUser=t.ec(),t.Zh=!0,t.zh&&t.zh(t.currentUser)},this.tc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Xh):(this.Xh(null),e.get().then((function(e){t.auth=e,t.Xh&&t.auth.addAuthTokenListener(t.Xh)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.tc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.tc!==t?(Ts("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(As("string"==typeof n.accessToken),new Ch(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.Hh=function(){this.forceRefresh=!0},e.prototype.Jh=function(e){this.zh=e,this.Zh&&e(this.currentUser)},e.prototype.Yh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Xh),this.Xh=null,this.zh=null},e.prototype.ec=function(){var e=this.auth&&this.auth.getUid();return As(null===e||"string"==typeof e),new Rc(e)},e}(),Mh=function(){function e(e,t){this.nc=e,this.sc=t,this.type="FirstParty",this.user=Rc.ni}return Object.defineProperty(e.prototype,"Gh",{get:function(){var e={"X-Goog-AuthUser":this.sc},t=this.nc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Nh=function(){function e(e,t){this.nc=e,this.sc=t}return e.prototype.getToken=function(){return Promise.resolve(new Mh(this.nc,this.sc))},e.prototype.Jh=function(e){e(Rc.ni)},e.prototype.Yh=function(){},e.prototype.Hh=function(){},e}(),Dh=function(){function e(e,t,n,r,i,o){this.fn=e,this.ic=n,this.rc=r,this.oc=i,this.listener=o,this.state=0,this.ac=0,this.hc=null,this.stream=null,this.Vs=new hc(e,t)}return e.prototype.cc=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.uc=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.lc()},e.prototype.stop=function(){return bn(this,void 0,void 0,(function(){return wn(this,(function(e){switch(e.label){case 0:return this.cc()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype._c=function(){this.state=0,this.Vs.reset()},e.prototype.fc=function(){var e=this;this.uc()&&null===this.hc&&(this.hc=this.fn.Vn(this.ic,6e4,(function(){return e.dc()})))},e.prototype.wc=function(e){this.Ec(),this.stream.send(e)},e.prototype.dc=function(){return bn(this,void 0,void 0,(function(){return wn(this,(function(e){return this.uc()?[2,this.close(0)]:[2]}))}))},e.prototype.Ec=function(){this.hc&&(this.hc.cancel(),this.hc=null)},e.prototype.close=function(e,t){return bn(this,void 0,void 0,(function(){return wn(this,(function(n){switch(n.label){case 0:return this.Ec(),this.Vs.cancel(),this.ac++,3!==e?this.Vs.reset():t&&t.code===xs.RESOURCE_EXHAUSTED?(Ps(t.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.Vs.Rn()):t&&t.code===xs.UNAUTHENTICATED&&this.oc.Hh(),null!==this.stream&&(this.Tc(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ic(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.Tc=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.mc(this.ac),n=this.ac;this.oc.getToken().then((function(t){e.ac===n&&e.Ac(t)}),(function(n){t((function(){var t=new _s(xs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Rc(t)}))}))},e.prototype.Ac=function(e){var t=this,n=this.mc(this.ac);this.stream=this.Pc(e),this.stream.gc((function(){n((function(){return t.state=2,t.listener.gc()}))})),this.stream.Ic((function(e){n((function(){return t.Rc(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.lc=function(){var e=this;this.state=4,this.Vs.Pn((function(){return bn(e,void 0,void 0,(function(){return wn(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.Rc=function(e){return Ts("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.mc=function(e){var t=this;return function(n){t.fn.ws((function(){return t.ac===e?n():(Ts("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Ah=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return yn(t,e),t.prototype.Pc=function(e){return this.rc.Vc("Listen",e)},t.prototype.onMessage=function(e){this.Vs.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ds()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Ke?(As(void 0===t||"string"==typeof t),Fs.fromBase64String(t||"")):(As(void 0===t||t instanceof Uint8Array),Fs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){var t=void 0===e.code?xs.UNKNOWN:ya(e.code);return new _s(t,e.message||"")}(s);n=new Fa(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=xu(e,u.document.name),c=Eu(u.document.updateTime),f=new Ll({mapValue:{fields:u.document.fields}}),h=new Cl(l,c,f,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new Va(p,d,h.key,h)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var v=xu(e,g.document),m=g.readTime?Eu(g.readTime):Js.min(),y=new Tl(v,m),b=g.removedTargetIds||[];n=new Va([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var E=xu(e,w.document),k=w.removedTargetIds||[];n=new Va([],k,E,null)}else{if(!("filter"in t))return Ds();t.filter;var S=t.filter;S.targetId;var L=S.count||0,x=new va(L),_=S.targetId;n=new Ba(_,x)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Js.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Js.min():t.readTime?Eu(t.readTime):Js.min()}(e);return this.listener.yc(t,n)},t.prototype.bc=function(e){var t={};t.database=Cu(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=ha(r)?{documents:Du(e,r)}:{query:Au(e,r)}).targetId=t.targetId,t.resumeToken.o()>0&&(n.resumeToken=bu(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ds()}}(0,t.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.wc(t)},t.prototype.vc=function(e){var t={};t.database=Cu(this.serializer),t.removeTarget=e,this.wc(t)},t}(Dh),Oh=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Sc=!1,s}return yn(t,e),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.Sc},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Sc=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.Tc=function(){this.Sc&&this.Cc([])},t.prototype.Pc=function(e){return this.rc.Vc("Write",e)},t.prototype.onMessage=function(e){if(As(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Sc){this.Vs.reset();var t=function(e,t){return e&&e.length>0?(As(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Eu(e.updateTime):Eu(t);n.isEqual(Js.min())&&(n=Eu(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new al(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Eu(e.commitTime);return this.listener.Nc(n,t)}return As(!e.writeResults||0===e.writeResults.length),this.Sc=!0,this.listener.xc()},t.prototype.Fc=function(){var e={};e.database=Cu(this.serializer),this.wc(e)},t.prototype.Cc=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mu(t.serializer,e)}))};this.wc(n)},t}(Dh),Rh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.rc=n,i.serializer=r,i.kc=!1,i}return yn(t,e),t.prototype.Oc=function(){if(this.kc)throw new _s(xs.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mc=function(e,t,n){var r=this;return this.Oc(),this.credentials.getToken().then((function(i){return r.rc.Mc(e,t,n,i)})).catch((function(e){throw e.code===xs.UNAUTHENTICATED&&r.credentials.Hh(),e}))},t.prototype.$c=function(e,t,n){var r=this;return this.Oc(),this.credentials.getToken().then((function(i){return r.rc.$c(e,t,n,i)})).catch((function(e){throw e.code===xs.UNAUTHENTICATED&&r.credentials.Hh(),e}))},t.prototype.terminate=function(){this.kc=!1},t}((function(){})),zh=function(){function e(e,t){this.hs=e,this.di=t,this.state="Unknown",this.Lc=0,this.Bc=null,this.qc=!0}return e.prototype.Uc=function(){var e=this;0===this.Lc&&(this.Kc("Unknown"),this.Bc=this.hs.Vn("online_state_timeout",1e4,(function(){return e.Bc=null,e.Qc("Backend didn't respond within 10 seconds."),e.Kc("Offline"),Promise.resolve()})))},e.prototype.Wc=function(e){"Online"===this.state?this.Kc("Unknown"):(this.Lc++,this.Lc>=1&&(this.jc(),this.Qc("Connection failed 1 times. Most recent error: "+e.toString()),this.Kc("Offline")))},e.prototype.set=function(e){this.jc(),this.Lc=0,"Online"===e&&(this.qc=!1),this.Kc(e)},e.prototype.Kc=function(e){e!==this.state&&(this.state=e,this.di(e))},e.prototype.Qc=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qc?(Ps(t),this.qc=!1):Ts("OnlineStateTracker",t)},e.prototype.jc=function(){null!==this.Bc&&(this.Bc.cancel(),this.Bc=null)},e}(),Uh=function(e,t,n,r,i){var o=this;this.Gc=e,this.zc=t,this.hs=n,this.Hc={},this.Jc=[],this.Yc=new Map,this.Xc=new Set,this.Zc=[],this.tu=i,this.tu.eu((function(e){n.ws((function(){return bn(o,void 0,void 0,(function(){return wn(this,(function(e){switch(e.label){case 0:return Qh(this)?(Ts("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return bn(this,void 0,void 0,(function(){var t;return wn(this,(function(n){switch(n.label){case 0:return(t=Os(e)).Xc.add(4),[4,Bh(t)];case 1:return n.sent(),t.nu.set("Unknown"),t.Xc.delete(4),[4,Vh(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.nu=new zh(n,r)};function Vh(e){return bn(this,void 0,void 0,(function(){var t,n;return wn(this,(function(r){switch(r.label){case 0:if(!Qh(e))return[3,4];t=0,n=e.Zc,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Bh(e){return bn(this,void 0,void 0,(function(){var t,n;return wn(this,(function(r){switch(r.label){case 0:t=0,n=e.Zc,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Fh(e){return bn(this,void 0,void 0,(function(){var t;return wn(this,(function(n){switch(n.label){case 0:return t=Os(e),Ts("RemoteStore","RemoteStore shutting down."),t.Xc.add(5),[4,Bh(t)];case 1:return n.sent(),t.tu.Di(),t.nu.set("Unknown"),[2]}}))}))}function jh(e,t){var n=Os(e);n.Yc.has(t.targetId)||(n.Yc.set(t.targetId,t),Kh(n)?Wh(n):lp(n).uc()&&Gh(n,t))}function qh(e,t){var n=Os(e),r=lp(n);n.Yc.delete(t),r.uc()&&Hh(n,t),0===n.Yc.size&&(r.uc()?r.fc():Qh(n)&&n.nu.set("Unknown"))}function Gh(e,t){e.su.me(t.targetId),lp(e).bc(t)}function Hh(e,t){e.su.me(t),lp(e).vc(t)}function Wh(e){e.su=new qa({qe:function(t){return e.Hc.qe(t)},Ue:function(t){return e.Yc.get(t)||null}}),lp(e).start(),e.nu.Uc()}function Kh(e){return Qh(e)&&!lp(e).cc()&&e.Yc.size>0}function Qh(e){return 0===Os(e).Xc.size}function Yh(e){e.su=void 0}function $h(e){return bn(this,void 0,void 0,(function(){return wn(this,(function(t){return e.Yc.forEach((function(t,n){Gh(e,t)})),[2]}))}))}function Zh(e,t){return bn(this,void 0,void 0,(function(){return wn(this,(function(n){return Yh(e),Kh(e)?(e.nu.Wc(t),Wh(e)):e.nu.set("Unknown"),[2]}))}))}function Xh(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o;return wn(this,(function(s){switch(s.label){case 0:if(e.nu.set("Online"),!(t instanceof Fa&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o;return wn(this,(function(s){switch(s.label){case 0:n=t.cause,r=0,i=t.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],e.Yc.has(o)?[4,e.Hc.iu(o,n)]:[3,3]):[3,5];case 2:s.sent(),e.Yc.delete(o),e.su.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ts("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Jh(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Va?e.su.be(t):t instanceof Ba?e.su.ke(t):e.su.De(t),n.isEqual(Js.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,vh(e.Gc)];case 8:return i=s.sent(),n.h(i)>=0?[4,function(e,t){var n=e.su.$e(t);return n.zt.forEach((function(n,r){if(n.resumeToken.o()>0){var i=e.Yc.get(r);i&&e.Yc.set(r,i.it(n.resumeToken,t))}})),n.Ht.forEach((function(t){var n=e.Yc.get(t);if(n){e.Yc.set(t,n.it(Fs.u,n.nt)),Hh(e,t);var r=new ga(n.target,t,1,n.sequenceNumber);Gh(e,r)}})),e.Hc.ru(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ts("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Jh(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Jh(e,t,n){return bn(this,void 0,void 0,(function(){var r=this;return wn(this,(function(i){switch(i.label){case 0:if(!mc(t))throw t;return e.Xc.add(1),[4,Bh(e)];case 1:return i.sent(),e.nu.set("Offline"),n||(n=function(){return vh(e.Gc)}),e.hs.Cs((function(){return bn(r,void 0,void 0,(function(){return wn(this,(function(t){switch(t.label){case 0:return Ts("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Xc.delete(1),[4,Vh(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ep(e,t){return t().catch((function(n){return Jh(e,n,t)}))}function tp(e){return bn(this,void 0,void 0,(function(){var t,n,r,i,o;return wn(this,(function(s){switch(s.label){case 0:t=Os(e),n=cp(t),r=t.Jc.length>0?t.Jc[t.Jc.length-1].batchId:-1,s.label=1;case 1:if(!function(e){return Qh(e)&&e.Jc.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,yh(t.Gc,r)];case 3:return null===(i=s.sent())?(0===t.Jc.length&&n.fc(),[3,7]):(r=i.batchId,function(e,t){e.Jc.push(t);var n=cp(e);n.uc()&&n.Dc&&n.Cc(t.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Jh(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return np(t)&&rp(t),[2]}}))}))}function np(e){return Qh(e)&&!cp(e).cc()&&e.Jc.length>0}function rp(e){cp(e).start()}function ip(e){return bn(this,void 0,void 0,(function(){return wn(this,(function(t){return cp(e).Fc(),[2]}))}))}function op(e){return bn(this,void 0,void 0,(function(){var t,n,r,i;return wn(this,(function(o){for(t=cp(e),n=0,r=e.Jc;n<r.length;n++)i=r[n],t.Cc(i.mutations);return[2]}))}))}function sp(e,t,n){return bn(this,void 0,void 0,(function(){var r,i;return wn(this,(function(o){switch(o.label){case 0:return r=e.Jc.shift(),i=Yc.from(r,t,n),[4,ep(e,(function(){return e.Hc.ou(i)}))];case 1:return o.sent(),[4,tp(e)];case 2:return o.sent(),[2]}}))}))}function ap(e,t){return bn(this,void 0,void 0,(function(){return wn(this,(function(n){switch(n.label){case 0:return t&&cp(e).Dc?[4,function(e,t){return bn(this,void 0,void 0,(function(){var n,r;return wn(this,(function(i){switch(i.label){case 0:return ma(r=t.code)&&r!==xs.ABORTED?(n=e.Jc.shift(),cp(e)._c(),[4,ep(e,(function(){return e.Hc.au(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,tp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return np(e)&&rp(e),[2]}}))}))}function up(e,t){return bn(this,void 0,void 0,(function(){var n;return wn(this,(function(r){switch(r.label){case 0:return n=Os(e),t?(n.Xc.delete(2),[4,Vh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Xc.add(2),[4,Bh(n)]);case 3:r.sent(),n.nu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function lp(e){var t=this;return e.hu||(e.hu=function(e,t,n){var r=Os(e);return r.Oc(),new Ah(t,r.rc,r.credentials,r.serializer,n)}(e.zc,e.hs,{gc:$h.bind(null,e),Ic:Zh.bind(null,e),yc:Xh.bind(null,e)}),e.Zc.push((function(n){return bn(t,void 0,void 0,(function(){return wn(this,(function(t){switch(t.label){case 0:return n?(e.hu._c(),Kh(e)?Wh(e):e.nu.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.hu.stop()];case 2:t.sent(),Yh(e),t.label=3;case 3:return[2]}}))}))}))),e.hu}function cp(e){var t=this;return e.cu||(e.cu=function(e,t,n){var r=Os(e);return r.Oc(),new Oh(t,r.rc,r.credentials,r.serializer,n)}(e.zc,e.hs,{gc:ip.bind(null,e),Ic:ap.bind(null,e),xc:op.bind(null,e),Nc:sp.bind(null,e)}),e.Zc.push((function(n){return bn(t,void 0,void 0,(function(){return wn(this,(function(t){switch(t.label){case 0:return n?(e.cu._c(),[4,tp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.cu.stop()];case 3:t.sent(),e.Jc.length>0&&(Ts("RemoteStore","Stopping write stream with "+e.Jc.length+" pending writes"),e.Jc=[]),t.label=4;case 4:return[2]}}))}))}))),e.cu}var fp=function(e){this.key=e},hp=function(e){this.key=e},pp=function(){function e(e,t){this.query=e,this.uu=t,this.lu=null,this.te=!1,this._u=Ma(),this.Qt=Ma(),this.fu=Ql(e),this.du=new Aa(this.fu)}return Object.defineProperty(e.prototype,"wu",{get:function(){return this.uu},enumerable:!1,configurable:!0}),e.prototype.Eu=function(e,t){var n=this,r=t?t.Tu:new Oa,i=t?t.du:this.du,o=t?t.Qt:this.Qt,s=i,a=!1,u=Al(this.query)&&i.size===this.query.limit?i.last():null,l=Ol(this.query)&&i.size===this.query.limit?i.first():null;if(e.ut((function(e,t){var c=i.get(e),f=t instanceof Cl?t:null;f&&(f=Kl(n.query,f)?f:null);var h=!!c&&n.Qt.has(c.key),p=!!f&&(f.Ye||n.Qt.has(f.key)&&f.hasCommittedMutations),d=!1;c&&f?c.data().isEqual(f.data())?h!==p&&(r.track({type:3,doc:f}),d=!0):n.Iu(c,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.fu(f,u)>0||l&&n.fu(f,l)<0)&&(a=!0)):!c&&f?(r.track({type:0,doc:f}),d=!0):c&&!f&&(r.track({type:1,doc:c}),d=!0,(u||l)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),Al(this.query)||Ol(this.query))for(;s.size>this.query.limit;){var c=Al(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{du:s,Tu:r,mu:a,Qt:o}},e.prototype.Iu=function(e,t){return e.Ye&&t.hasCommittedMutations&&!t.Ye},e.prototype.Vr=function(e,t,n){var r=this,i=this.du;this.du=e.du,this.Qt=e.Qt;var o=e.Tu.Ut();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ds()}};return n(e)-n(t)}(e.type,t.type)||r.fu(e.doc,t.doc)})),this.Au(n);var s=t?this.Ru():[],a=0===this._u.size&&this.te?1:0,u=a!==this.lu;return this.lu=a,0!==o.length||u?{snapshot:new Ra(this.query,e.du,i,o,e.Qt,0===a,u,!1),Pu:s}:{Pu:s}},e.prototype.Ks=function(e){return this.te&&"Offline"===e?(this.te=!1,this.Vr({du:this.du,Tu:new Oa,Qt:this.Qt,mu:!1},!1)):{Pu:[]}},e.prototype.gu=function(e){return!this.uu.has(e)&&!!this.du.has(e)&&!this.du.get(e).Ye},e.prototype.Au=function(e){var t=this;e&&(e.ee.forEach((function(e){return t.uu=t.uu.add(e)})),e.ne.forEach((function(e){})),e.se.forEach((function(e){return t.uu=t.uu.delete(e)})),this.te=e.te)},e.prototype.Ru=function(){var e=this;if(!this.te)return[];var t=this._u;this._u=Ma(),this.du.forEach((function(t){e.gu(t.key)&&(e._u=e._u.add(t.key))}));var n=[];return t.forEach((function(t){e._u.has(t)||n.push(new hp(t))})),this._u.forEach((function(e){t.has(e)||n.push(new fp(e))})),n},e.prototype.Vu=function(e){this.uu=e.Fh,this._u=Ma();var t=this.Eu(e.documents);return this.Vr(t,!0)},e.prototype.yu=function(){return Ra.Gt(this.query,this.du,this.Qt,0===this.lu)},e}(),dp=function(e,t,n){this.query=e,this.targetId=t,this.view=n},gp=function(e){this.key=e,this.pu=!1},vp=function(){function e(e,t,n,r,i,o){this.Gc=e,this.bu=t,this.vu=n,this.Su=r,this.currentUser=i,this.Du=o,this.Cu={},this.Nu=new Zs((function(e){return Hl(e)}),Gl),this.xu=new Map,this.Fu=[],this.ku=new ba(ia.D),this.Ou=new Map,this.Mu=new _h,this.$u={},this.Lu=new Map,this.Bu=th.da(),this.onlineState="Unknown",this.qu=void 0}return Object.defineProperty(e.prototype,"Uu",{get:function(){return!0===this.qu},enumerable:!1,configurable:!0}),e}();function mp(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s,a;return wn(this,(function(u){switch(u.label){case 0:return n=qp(e),(o=n.Nu.get(t))?(r=o.targetId,n.Su.$i(r),i=o.view.yu(),[3,4]):[3,1];case 1:return[4,bh(n.Gc,Bl(t))];case 2:return s=u.sent(),a=n.Su.$i(s.targetId),r=s.targetId,[4,yp(n,t,r,"current"===a)];case 3:i=u.sent(),n.Uu&&jh(n.bu,s),u.label=4;case 4:return[2,i]}}))}))}function yp(e,t,n,r){return bn(this,void 0,void 0,(function(){var i,o,s,a,u,l;return wn(this,(function(c){switch(c.label){case 0:return e.Ku=function(t,n,r){return function(e,t,n,r){return bn(this,void 0,void 0,(function(){var i,o,s;return wn(this,(function(a){switch(a.label){case 0:return(i=t.view.Eu(n)).mu?[4,Eh(e.Gc,t.query,!1).then((function(e){var n=e.documents;return t.view.Eu(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.zt.get(t.targetId),s=t.view.Vr(i,e.Uu,o),[2,(Tp(e,t.targetId,s.Pu),s.snapshot)]}}))}))}(e,t,n,r)},[4,Eh(e.Gc,t,!0)];case 1:return i=c.sent(),o=new pp(t,i.Fh),s=o.Eu(i.documents),a=Ua.Zt(n,r&&"Offline"!==e.onlineState),u=o.Vr(s,e.Uu,a),Tp(e,n,u.Pu),l=new dp(t,n,o),[2,(e.Nu.set(t,l),e.xu.has(n)?e.xu.get(n).push(t):e.xu.set(n,[t]),u.snapshot)]}}))}))}function bp(e,t){return bn(this,void 0,void 0,(function(){var n,r,i;return wn(this,(function(o){switch(o.label){case 0:return n=Os(e),r=n.Nu.get(t),(i=n.xu.get(r.targetId)).length>1?[2,(n.xu.set(r.targetId,i.filter((function(e){return!Gl(e,t)}))),void n.Nu.delete(t))]:n.Uu?(n.Su.Bi(r.targetId),n.Su.xi(r.targetId)?[3,2]:[4,wh(n.Gc,r.targetId,!1).then((function(){n.Su.Ui(r.targetId),qh(n.bu,r.targetId),Ip(n,r.targetId)})).catch(xh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ip(n,r.targetId),[4,wh(n.Gc,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function wp(e,t){return bn(this,void 0,void 0,(function(){var n,r;return wn(this,(function(i){switch(i.label){case 0:n=Os(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,mh(n.Gc,t)];case 2:return r=i.sent(),t.zt.forEach((function(e,t){var r=n.Ou.get(t);r&&(As(e.ee.size+e.ne.size+e.se.size<=1),e.ee.size>0?r.pu=!0:e.ne.size>0?As(r.pu):e.se.size>0&&(As(r.pu),r.pu=!1))})),[4,Np(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,xh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ep(e,t,n){var r=Os(e);if(r.Uu&&0===n||!r.Uu&&1===n){var i=[];r.Nu.forEach((function(e,n){var r=n.view.Ks(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Os(e);n.onlineState=t;var r=!1;n.Bs.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Ks(t)&&(r=!0)})),r&&Ac(n)}(r.vu,t),i.length&&r.Cu.yc(i),r.onlineState=t,r.Uu&&r.Su.ji(t)}}function kp(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o,s,a,u;return wn(this,(function(l){switch(l.label){case 0:return(r=Os(e)).Su.Ki(t,"rejected",n),i=r.Ou.get(t),(o=i&&i.key)?(s=(s=new ba(ia.D)).ot(o,new Tl(o,Js.min())),a=Ma().add(o),u=new za(Js.min(),new Map,new ka(Us),s,a),[4,wp(r,u)]):[3,2];case 1:return l.sent(),r.ku=r.ku.remove(o),r.Ou.delete(t),Mp(r),[3,4];case 2:return[4,wh(r.Gc,t,!1).then((function(){return Ip(r,t,n)})).catch(xh)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function Sp(e,t){return bn(this,void 0,void 0,(function(){var n,r,i;return wn(this,(function(o){switch(o.label){case 0:n=Os(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,gh(n.Gc,t)];case 2:return i=o.sent(),_p(n,r,null),xp(n,r),n.Su.Oi(r,"acknowledged"),[4,Np(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Lp(e,t,n){return bn(this,void 0,void 0,(function(){var r,i;return wn(this,(function(o){switch(o.label){case 0:r=Os(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Os(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Sr.$o(e,t).next((function(t){return As(null!==t),r=t.keys(),n.Sr.Qo(e,t)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Nh.Or(e,r)}))}))}(r.Gc,t)];case 2:return i=o.sent(),_p(r,t,n),xp(r,t),r.Su.Oi(t,"rejected",n),[4,Np(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function xp(e,t){(e.Lu.get(t)||[]).forEach((function(e){e.resolve()})),e.Lu.delete(t)}function _p(e,t,n){var r=Os(e),i=r.$u[r.currentUser.ti()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.$u[r.currentUser.ti()]=i}}function Ip(e,t,n){void 0===n&&(n=null),e.Su.Bi(t);for(var r=0,i=e.xu.get(t);r<i.length;r++){var o=i[r];e.Nu.delete(o),n&&e.Cu.Qu(o,n)}e.xu.delete(t),e.Uu&&e.Mu.Kh(t).forEach((function(t){e.Mu.Ho(t)||Cp(e,t)}))}function Cp(e,t){var n=e.ku.get(t);null!==n&&(qh(e.bu,n),e.ku=e.ku.remove(t),e.Ou.delete(n),Mp(e))}function Tp(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fp?(e.Mu.Da(o.key,t),Pp(e,o)):o instanceof hp?(Ts("SyncEngine","Document no longer in limbo: "+o.key),e.Mu.Na(o.key,t),e.Mu.Ho(o.key)||Cp(e,o.key)):Ds()}}function Pp(e,t){var n=t.key;e.ku.get(n)||(Ts("SyncEngine","New document in limbo: "+n),e.Fu.push(n),Mp(e))}function Mp(e){for(;e.Fu.length>0&&e.ku.size<e.Du;){var t=e.Fu.shift(),n=e.Bu.next();e.Ou.set(n,new gp(t)),e.ku=e.ku.ot(t,n),jh(e.bu,new ga(Bl(Dl(t.path)),n,2,zc.ai))}}function Np(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o,s;return wn(this,(function(a){switch(a.label){case 0:return r=Os(e),i=[],o=[],s=[],r.Nu.P()?[3,3]:(r.Nu.forEach((function(e,a){s.push(r.Ku(a,t,n).then((function(e){if(e){r.Uu&&r.Su.Ki(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=ef.zr(a.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.Cu.yc(i),[4,function(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,l,c;return wn(this,(function(f){switch(f.label){case 0:n=Os(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return pc.forEach(t,(function(t){return pc.forEach(t.jr,(function(r){return n.persistence.No.Da(e,t.targetId,r)})).next((function(){return pc.forEach(t.Gr,(function(r){return n.persistence.No.Na(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!mc(r=f.sent()))throw r;return Ts("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.bh.get(a),l=u.nt,c=u.rt(l),n.bh=n.bh.ot(a,c));return[2]}}))}))}(r.Gc,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Dp(e,t){return bn(this,void 0,void 0,(function(){var n,r;return wn(this,(function(i){switch(i.label){case 0:return(n=Os(e)).currentUser.isEqual(t)?[3,3]:(Ts("SyncEngine","User change. New user:",t.ti()),[4,function(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o;return wn(this,(function(s){switch(s.label){case 0:return n=Os(e),r=n.Sr,i=n.Nh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Sr.Uo(e).next((function(s){return o=s,r=n.persistence.Th(t),i=new Jc(n.Ch,r,n.persistence.Ah()),r.Uo(e)})).next((function(t){for(var n=[],r=[],s=Ma(),a=0,u=o;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,f=l.mutations;c<f.length;c++){var h=f[c];s=s.add(h.key)}}for(var p=0,d=t;p<d.length;p++){var g=d[p];r.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];s=s.add(y.key)}}return i.Or(e,s).next((function(e){return{Wu:e,ju:n,Gu:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Sr=r,n.Nh=i,n.ph.xh(n.Nh),o)]}}))}))}(n.Gc,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Lu.forEach((function(e){e.forEach((function(e){e.reject(new _s(xs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Lu.clear()}(n),n.Su.Wi(t,r.ju,r.Gu),[4,Np(n,r.Wu)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ap(e,t){var n=Os(e),r=n.Ou.get(t);if(r&&r.pu)return Ma().add(r.key);var i=Ma(),o=n.xu.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],l=n.Nu.get(u);i=i.Ot(l.view.wu)}return i}function Op(e,t){return bn(this,void 0,void 0,(function(){var n,r,i;return wn(this,(function(o){switch(o.label){case 0:return[4,Eh((n=Os(e)).Gc,t.query,!0)];case 1:return r=o.sent(),i=t.view.Vu(r),[2,(n.Uu&&Tp(n,t.targetId,i.Pu),i)]}}))}))}function Rp(e,t,n,r){return bn(this,void 0,void 0,(function(){var i,o;return wn(this,(function(s){switch(s.label){case 0:return[4,function(e,t){var n=Os(e),r=Os(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Lo(e,t).next((function(t){return t?n.Nh.Or(e,t):pc.resolve(null)}))}))}((i=Os(e)).Gc,t)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,tp(i.bu)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(_p(i,t,r||null),xp(i,t),function(e,t){Os(Os(e).Sr).jo(t)}(i.Gc,t)):Ds(),s.label=4;case 4:return[4,Np(i,o)];case 5:return s.sent(),[3,7];case 6:Ts("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}}))}))}function zp(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,l;return wn(this,(function(c){switch(c.label){case 0:return qp(n=Os(e)),Gp(n),!0!==t||!0===n.qu?[3,3]:(r=n.Su.Ci(),[4,Up(n,r.L())]);case 1:return i=c.sent(),n.qu=!0,[4,up(n.bu,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)a=s[o],jh(n.bu,a);return[3,7];case 3:return!1!==t||!1===n.qu?[3,7]:(u=[],l=Promise.resolve(),n.xu.forEach((function(e,t){n.Su.qi(t)?u.push(t):l=l.then((function(){return Ip(n,t),wh(n.Gc,t,!0)})),qh(n.bu,t)})),[4,l]);case 4:return c.sent(),[4,Up(n,u)];case 5:return c.sent(),function(e){var t=Os(e);t.Ou.forEach((function(e,n){qh(t.bu,n)})),t.Mu.Qh(),t.Ou=new Map,t.ku=new ba(ia.D)}(n),n.qu=!1,[4,up(n.bu,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Up(e,t,n){return bn(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,l,c,f,h,p,d,g;return wn(this,(function(v){switch(v.label){case 0:n=Os(e),r=[],i=[],o=0,s=t,v.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(l=n.xu.get(a))&&0!==l.length?[4,bh(n.Gc,Bl(l[0]))]:[3,7]):[3,13];case 2:u=v.sent(),c=0,f=l,v.label=3;case 3:return c<f.length?(h=f[c],p=n.Nu.get(h),[4,Op(n,p)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,kh(n.Gc,a)];case 8:return g=v.sent(),[4,bh(n.Gc,g)];case 9:return u=v.sent(),[4,yp(n,Vp(g),a,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Cu.yc(i),r)]}}))}))}function Vp(e){return Nl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Bp(e){var t=Os(e);return Os(Os(t.Gc).persistence).pi()}function Fp(e,t,n,r){return bn(this,void 0,void 0,(function(){var i,o,s;return wn(this,(function(a){switch(a.label){case 0:return(i=Os(e)).qu?(Ts("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xu.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sh(i.Gc)];case 3:return o=a.sent(),s=za.Xt(t,"current"===n),[4,Np(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,wh(i.Gc,t,!0)];case 6:return a.sent(),Ip(i,t,r),[3,8];case 7:Ds(),a.label=8;case 8:return[2]}}))}))}function jp(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o,s,a,u,l,c,f,h;return wn(this,(function(p){switch(p.label){case 0:if(!(r=qp(e)).qu)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(s=o[i],r.xu.has(s)?(Ts("SyncEngine","Adding an already active target "+s),[3,5]):[4,kh(r.Gc,s)]):[3,6];case 2:return a=p.sent(),[4,bh(r.Gc,a)];case 3:return u=p.sent(),[4,yp(r,Vp(a),u.targetId,!1)];case 4:p.sent(),jh(r.bu,u),p.label=5;case 5:return i++,[3,1];case 6:l=function(e){return wn(this,(function(t){switch(t.label){case 0:return r.xu.has(e)?[4,wh(r.Gc,e,!1).then((function(){qh(r.bu,e),Ip(r,e)})).catch(xh)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,f=n,p.label=7;case 7:return c<f.length?(h=f[c],[5,l(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function qp(e){var t=Os(e);return t.bu.Hc.ru=wp.bind(null,t),t.bu.Hc.qe=Ap.bind(null,t),t.bu.Hc.iu=kp.bind(null,t),t.Cu.yc=Nc.bind(null,t.vu),t.Cu.Qu=Dc.bind(null,t.vu),t}function Gp(e){var t=Os(e);return t.bu.Hc.ou=Sp.bind(null,t),t.bu.Hc.au=Lp.bind(null,t),t}var Hp=function(){function e(){}return e.prototype.xh=function(e){this.zu=e},e.prototype.Lr=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.W())}(t)||n.isEqual(Js.min())?this.Hu(e,t):this.zu.Or(e,r).next((function(o){var s=i.Ju(t,o);return(Al(t)||Ol(t))&&i.mu(t.an,s,r,n)?i.Hu(e,t):(Cs()<=Ht.DEBUG&&Ts("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wl(t)),i.zu.Lr(e,t,n).next((function(e){return s.forEach((function(t){e=e.ot(t.key,t)})),e})))}))},e.prototype.Ju=function(e,t){var n=new ka(Ql(e));return t.forEach((function(t,r){r instanceof Cl&&Kl(e,r)&&(n=n.add(r))})),n},e.prototype.mu=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},e.prototype.Hu=function(e,t){return Cs()<=Ht.DEBUG&&Ts("IndexFreeQueryEngine","Using full collection scan to execute query:",Wl(t)),this.zu.Lr(e,t,Js.min())},e}(),Wp=function(){function e(e,t){this.Dr=e,this.No=t,this.Sr=[],this.Yu=1,this.Xu=new ka(Ih.Mh)}return e.prototype.ko=function(e){return pc.resolve(0===this.Sr.length)},e.prototype.Oo=function(e,t,n,r){var i=this.Yu;this.Yu++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var o=new Qc(i,t,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xu=this.Xu.add(new Ih(u.key,i)),this.Dr.Mo(e,u.key.path.F())}return pc.resolve(o)},e.prototype.$o=function(e,t){return pc.resolve(this.Zu(t))},e.prototype.Bo=function(e,t){var n=t+1,r=this.tl(n),i=r<0?0:r;return pc.resolve(this.Sr.length>i?this.Sr[i]:null)},e.prototype.qo=function(){return pc.resolve(0===this.Sr.length?-1:this.Yu-1)},e.prototype.Uo=function(e){return pc.resolve(this.Sr.slice())},e.prototype.Nr=function(e,t){var n=this,r=new Ih(t,0),i=new Ih(t,Number.POSITIVE_INFINITY),o=[];return this.Xu.xt([r,i],(function(e){var t=n.Zu(e.jh);o.push(t)})),pc.resolve(o)},e.prototype.$r=function(e,t){var n=this,r=new ka(Us);return t.forEach((function(e){var t=new Ih(e,0),i=new Ih(e,Number.POSITIVE_INFINITY);n.Xu.xt([t,i],(function(e){r=r.add(e.jh)}))})),pc.resolve(this.el(r))},e.prototype.Qr=function(e,t){var n=t.path,r=n.length+1,i=n;ia.X(i)||(i=i.child(""));var o=new Ih(new ia(i),0),s=new ka(Us);return this.Xu.Ft((function(e){var t=e.key.path;return!!n.M(t)&&(t.length===r&&(s=s.add(e.jh)),!0)}),o),pc.resolve(this.el(s))},e.prototype.el=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Zu(e);null!==r&&n.push(r)})),n},e.prototype.Qo=function(e,t){var n=this;As(0===this.nl(t.batchId,"removed")),this.Sr.shift();var r=this.Xu;return pc.forEach(t.mutations,(function(i){var o=new Ih(i.key,t.batchId);return r=r.delete(o),n.No.Go(e,i.key)})).next((function(){n.Xu=r}))},e.prototype.jo=function(e){},e.prototype.Ho=function(e,t){var n=new Ih(t,0),r=this.Xu.kt(n);return pc.resolve(t.isEqual(r&&r.key))},e.prototype.zo=function(e){return this.Sr.length,pc.resolve()},e.prototype.nl=function(e,t){return this.tl(e)},e.prototype.tl=function(e){return 0===this.Sr.length?0:e-this.Sr[0].batchId},e.prototype.Zu=function(e){var t=this.tl(e);return t<0||t>=this.Sr.length?null:this.Sr[t]},e}(),Kp=function(){function e(e,t){this.Dr=e,this.sl=t,this.docs=new ba(ia.D),this.size=0}return e.prototype.Ir=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(t);return this.docs=this.docs.ot(r,{ta:t,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(e,r.path.F())},e.prototype.Ar=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Rr=function(e,t){var n=this.docs.get(t);return pc.resolve(n?n.ta:null)},e.prototype.getEntries=function(e,t){var n=this,r=_a();return t.forEach((function(e){var t=n.docs.get(e);r=r.ot(e,t?t.ta:null)})),pc.resolve(r)},e.prototype.Lr=function(e,t,n){for(var r=Ca(),i=new ia(t.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.key,u=s.value,l=u.ta,c=u.readTime;if(!t.path.M(a.path))break;c.h(n)<=0||l instanceof Cl&&Kl(t,l)&&(r=r.ot(l.key,l))}return pc.resolve(r)},e.prototype.il=function(e,t){return pc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.ra=function(e){return new Qp(this)},e.prototype.aa=function(e){return pc.resolve(this.size)},e}(),Qp=function(e){function t(t){var n=this;return(n=e.call(this)||this).ha=t,n}return yn(t,e),t.prototype.Vr=function(e){var t=this,n=[];return this.wr.forEach((function(r,i){i?n.push(t.ha.Ir(e,i,t.readTime)):t.ha.Ar(r)})),pc.kn(n)},t.prototype.Pr=function(e,t){return this.ha.Rr(e,t)},t.prototype.gr=function(e,t){return this.ha.getEntries(e,t)},t}($c),Yp=function(){function e(e){this.persistence=e,this.rl=new Zs((function(e){return ca(e)}),fa),this.lastRemoteSnapshotVersion=Js.min(),this.highestTargetId=0,this.ol=0,this.al=new _h,this.targetCount=0,this.hl=th.fa()}return e.prototype.Ce=function(e,t){return this.rl.forEach((function(e,n){return t(n)})),pc.resolve()},e.prototype.Ia=function(e){return pc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.ma=function(e){return pc.resolve(this.ol)},e.prototype.wa=function(e){return this.highestTargetId=this.hl.next(),pc.resolve(this.highestTargetId)},e.prototype.Aa=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ol&&(this.ol=t),pc.resolve()},e.prototype.Pa=function(e){this.rl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.hl=new th(t),this.highestTargetId=t),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},e.prototype.Ra=function(e,t){return this.Pa(t),this.targetCount+=1,pc.resolve()},e.prototype.Va=function(e,t){return this.Pa(t),pc.resolve()},e.prototype.ya=function(e,t){return this.rl.delete(t.target),this.al.Kh(t.targetId),this.targetCount-=1,pc.resolve()},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return this.rl.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(e,a.targetId)),i++)})),pc.kn(o).next((function(){return i}))},e.prototype.ba=function(e){return pc.resolve(this.targetCount)},e.prototype.va=function(e,t){var n=this.rl.get(t)||null;return pc.resolve(n)},e.prototype.Sa=function(e,t,n){return this.al.Bh(t,n),pc.resolve()},e.prototype.Ca=function(e,t,n){this.al.Uh(t,n);var r=this.persistence.No,i=[];return r&&t.forEach((function(t){i.push(r.Go(e,t))})),pc.kn(i)},e.prototype.pa=function(e,t){return this.al.Kh(t),pc.resolve()},e.prototype.xa=function(e,t){var n=this.al.Wh(t);return pc.resolve(n)},e.prototype.Ho=function(e,t){return pc.resolve(this.al.Ho(t))},e}(),$p=function(){function e(e){var t=this;this.cl={},this.Ma=new zc(0),this.$a=!1,this.$a=!0,this.No=e(this),this.ja=new Yp(this),this.Dr=new Af,this.vr=function(e,n){return new Kp(e,(function(e){return t.No.ul(e)}))}(this.Dr)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Di=function(){return this.$a=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),e.prototype.Za=function(){},e.prototype.th=function(){},e.prototype.Ah=function(){return this.Dr},e.prototype.Th=function(e){var t=this.cl[e.ti()];return t||(t=new Wp(this.Dr,this.No),this.cl[e.ti()]=t),t},e.prototype.Ih=function(){return this.ja},e.prototype.mh=function(){return this.vr},e.prototype.runTransaction=function(e,t,n){var r=this;Ts("MemoryPersistence","Starting transaction:",e);var i=new Zp(this.Ma.next());return this.No.ll(),n(i).next((function(e){return r.No._l(i).next((function(){return e}))})).xn().then((function(e){return i.br(),e}))},e.prototype.fl=function(e,t){return pc.On(Object.values(this.cl).map((function(n){return function(){return n.Ho(e,t)}})))},e}(),Zp=function(e){function t(t){var n=this;return(n=e.call(this)||this).Fa=t,n}return yn(t,e),t}(Xc),Xp=function(){function e(e){this.persistence=e,this.dl=new _h,this.wl=null}return e.El=function(t){return new e(t)},Object.defineProperty(e.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Ds()},enumerable:!1,configurable:!0}),e.prototype.Da=function(e,t,n){return this.dl.Da(n,t),this.Tl.delete(n.toString()),pc.resolve()},e.prototype.Na=function(e,t,n){return this.dl.Na(n,t),this.Tl.add(n.toString()),pc.resolve()},e.prototype.Go=function(e,t){return this.Tl.add(t.toString()),pc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.dl.Kh(t.targetId).forEach((function(e){return n.Tl.add(e.toString())}));var r=this.persistence.Ih();return r.xa(e,t.targetId).next((function(e){e.forEach((function(e){return n.Tl.add(e.toString())}))})).next((function(){return r.ya(e,t)}))},e.prototype.ll=function(){this.wl=new Set},e.prototype._l=function(e){var t=this,n=this.persistence.mh().ra();return pc.forEach(this.Tl,(function(r){var i=ia.H(r);return t.Il(e,i).next((function(e){e||n.Ar(i)}))})).next((function(){return t.wl=null,n.apply(e)}))},e.prototype.yh=function(e,t){var n=this;return this.Il(e,t).next((function(e){e?n.Tl.delete(t.toString()):n.Tl.add(t.toString())}))},e.prototype.ul=function(e){return 0},e.prototype.Il=function(e,t){var n=this;return pc.On([function(){return pc.resolve(n.dl.Ho(t))},function(){return n.persistence.Ih().Ho(e,t)},function(){return n.persistence.fl(e,t)}])},e}(),Jp=function(){function e(e){this.ml=e.ml,this.Al=e.Al}return e.prototype.gc=function(e){this.Rl=e},e.prototype.Ic=function(e){this.Pl=e},e.prototype.onMessage=function(e){this.gl=e},e.prototype.close=function(){this.Al()},e.prototype.send=function(e){this.ml(e)},e.prototype.Vl=function(){this.Rl()},e.prototype.yl=function(e){this.Pl(e)},e.prototype.pl=function(e){this.gl(e)},e}(),ed={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},td=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.T=t.T,n}return yn(t,e),t.prototype.Nl=function(e,t,n,r){return new Promise((function(i,o){var s=new Ls;s.listenOnce(ks.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Es.NO_ERROR:var t=s.getResponseJson();Ts("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Es.TIMEOUT:Ts("Connection",'RPC "'+e+'" timed out'),o(new _s(xs.DEADLINE_EXCEEDED,"Request time out"));break;case Es.HTTP_ERROR:var n=s.getStatus();if(Ts("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(xs).indexOf(t)>=0?t:xs.UNKNOWN}(r.status);o(new _s(a,r.message))}else o(new _s(xs.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new _s(xs.UNAVAILABLE,"Connection failed."));break;default:Ds()}}finally{Ts("Connection",'RPC "'+e+'" completed.')}}));var a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))},t.prototype.Vc=function(e,t){var n=[this.vl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=ws(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.Cl(i.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())||"object"===typeof navigator&&"ReactNative"===navigator.product||Lt().indexOf("Electron/")>=0||function(){var e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Lt().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ts("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),a=!1,u=!1,l=new Jp({ml:function(e){u?Ts("Connection","Not sending because WebChannel is closed:",e):(a||(Ts("Connection","Opening WebChannel transport."),s.open(),a=!0),Ts("Connection","WebChannel sending:",e),s.send(e))},Al:function(){return s.close()}}),c=function(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return c(Ss.EventType.OPEN,(function(){u||Ts("Connection","WebChannel transport opened.")})),c(Ss.EventType.CLOSE,(function(){u||(u=!0,Ts("Connection","WebChannel transport closed"),l.yl())})),c(Ss.EventType.ERROR,(function(e){u||(u=!0,Ms("Connection","WebChannel transport errored:",e),l.yl(new _s(xs.UNAVAILABLE,"The operation could not be completed")))})),c(Ss.EventType.MESSAGE,(function(e){var t;if(!u){var n=e.data[0];As(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ts("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=pa[e];if(void 0!==t)return ya(t)}(o),c=i.message;void 0===a&&(a=xs.INTERNAL,c="Unknown error status: "+o+" with message "+i.message),u=!0,l.yl(new _s(a,c)),s.close()}else Ts("Connection","WebChannel received:",n),l.pl(n)}})),setTimeout((function(){l.Vl()}),0),l},t}(function(){function e(e){this.bl=e,this._=e._;var t=e.ssl?"https":"http";this.vl=t+"://"+e.host,this.Sl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return e.prototype.Mc=function(e,t,n,r){var i=this.Dl(e,t);Ts("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(e,i,o,n).then((function(e){return Ts("RestConnection","Received: ",e),e}),(function(t){throw Ms("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$c=function(e,t,n,r){return this.Mc(e,t,n,r)},e.prototype.Cl=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.0.0",e["Content-Type"]="text/plain",t)for(var n in t.Gh)t.Gh.hasOwnProperty(n)&&(e[n]=t.Gh[n])},e.prototype.Dl=function(e,t){var n=ed[e];return this.vl+"/v1/"+t+":"+n},e}()),nd=function(){function e(){var e=this;this.xl=function(){return e.Fl()},this.kl=function(){return e.Ol()},this.Ml=[],this.$l()}return e.prototype.eu=function(e){this.Ml.push(e)},e.prototype.Di=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.kl)},e.prototype.$l=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.kl)},e.prototype.Fl=function(){Ts("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(0)},e.prototype.Ol=function(){Ts("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(1)},e.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),rd=function(){function e(){}return e.prototype.eu=function(e){},e.prototype.Di=function(){},e}();function id(e){return new du(e,!0)}var od=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return bn(this,void 0,void 0,(function(){return wn(this,(function(t){switch(t.label){case 0:return this.Su=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return t.sent(),this.ql=this.Ul(e),this.Gc=this.Kl(e),[2]}}))}))},e.prototype.Ul=function(e){return null},e.prototype.Kl=function(e){return t=this.persistence,n=new Hp,r=e.Ql,new dh(t,n,r);var t,n,r},e.prototype.Bl=function(e){return new $p(Xp.El)},e.prototype.Ll=function(e){return new Kc},e.prototype.terminate=function(){return bn(this,void 0,void 0,(function(){return wn(this,(function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Su.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}}))}))},e}(),sd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Wl=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return yn(t,e),t.prototype.initialize=function(t){return bn(this,void 0,void 0,(function(){return wn(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Lh(this.Gc)];case 2:return n.sent(),[4,this.Wl.initialize(this,t)];case 3:return n.sent(),[4,Gp(this.Wl.fi)];case 4:return n.sent(),[4,tp(this.Wl.bu)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ul=function(e){var t=this.persistence.No.wo;return new sf(t,e.hs)},t.prototype.Bl=function(e){var t=ph(e.bl._,e.bl.persistenceKey),n=void 0!==this.cacheSizeBytes?of.ao(this.cacheSizeBytes):of.fo,r=id(e.bl._);return new uh(this.synchronizeTabs,t,e.clientId,n,e.hs,Sc(),Lc(),r,this.Su,!!this.forceOwnership)},t.prototype.Ll=function(e){return new Kc},t}(od),ad=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Wl=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return yn(t,e),t.prototype.initialize=function(t){return bn(this,void 0,void 0,(function(){var n,r=this;return wn(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Wl.fi,this.Su instanceof Wc?(this.Su.fi={er:Rp.bind(null,n),nr:Fp.bind(null,n),sr:jp.bind(null,n),pi:Bp.bind(null,n)},[4,this.Su.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Xa((function(e){return bn(r,void 0,void 0,(function(){return wn(this,(function(t){switch(t.label){case 0:return[4,zp(this.Wl.fi,e)];case 1:return t.sent(),this.ql&&(e&&!this.ql.Ii?this.ql.start(this.Gc):e||this.ql.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Ll=function(e){var t=Sc();if(!Wc.Ln(t))throw new _s(xs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ph(e.bl._,e.bl.persistenceKey);return new Wc(t,e.hs,n,e.clientId,e.Ql)},t}(sd),ud=function(){function e(){}return e.prototype.initialize=function(e,t){return bn(this,void 0,void 0,(function(){var n=this;return wn(this,(function(r){switch(r.label){case 0:return this.Gc?[3,2]:(this.Gc=e.Gc,this.Su=e.Su,this.zc=this.jl(t),this.bu=this.Gl(t),this.vu=this.zl(t),this.fi=this.Hl(t,!e.synchronizeTabs),this.Su.di=function(e){return Ep(n.fi,e,1)},this.bu.Hc.Jl=Dp.bind(null,this.fi),[4,up(this.bu,this.fi.Uu)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.zl=function(e){return new Tc},e.prototype.jl=function(e){var t,n=id(e.bl._),r=(t=e.bl,new td(t));return function(e,t,n){return new Rh(e,t,n)}(e.credentials,r,n)},e.prototype.Gl=function(e){var t,n,r,i,o,s=this;return t=this.Gc,n=this.zc,r=e.hs,i=function(e){return Ep(s.fi,e,0)},o=nd.Ln()?new nd:new rd,new Uh(t,n,r,i,o)},e.prototype.Hl=function(e,t){return function(e,t,n,r,i,o,s){var a=new vp(e,t,n,r,i,o);return s&&(a.qu=!0),a}(this.Gc,this.bu,this.vu,this.Su,e.Ql,e.Du,t)},e.prototype.terminate=function(){return Fh(this.bu)},e}(),ld=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yl(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xl=function(){this.muted=!0},e.prototype.Yl=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}();function cd(e,t,n){if(!n)throw new _s(xs.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function fd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _s(xs.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function hd(e,t,n,r){if(!0===t&&!0===r)throw new _s(xs.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function pd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Ds()}function dd(e,t){if(t<=0)throw new _s(xs.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var gd=function(e){for(var t=0;t<e.length;++t)if(0===e[t].length)throw new _s(xs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new ra(e)},vd=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return yn(t,e),t.documentId=function(){return new t(ra.j().B())},t.prototype.isEqual=function(e){return e instanceof t&&this.Zl.isEqual(e.Zl)},t}(gd),md=new RegExp("[~\\*/\\[\\]]"),yd=function(e){this.t_=e},bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.e_=function(e){if(2!==e.n_)throw 1===e.n_?e.s_(this.t_+"() can only appear at the top level of your update data"):e.s_(this.t_+"() cannot be used with set() unless you pass {merge:true}");return e.Qe.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(yd);function wd(e,t,n){return new Nd({n_:3,i_:t.settings.i_,methodName:e.t_,r_:n},t._,t.serializer,t.ignoreUndefinedProperties)}var Ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.e_=function(e){return new sl(e.path,new Zu)},t.prototype.isEqual=function(e){return e instanceof t},t}(yd),kd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).o_=n,r}return yn(t,e),t.prototype.e_=function(e){var t=wd(this,e,!0),n=this.o_.map((function(e){return Ud(e,t)})),r=new Xu(n);return new sl(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(yd),Sd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).o_=n,r}return yn(t,e),t.prototype.e_=function(e){var t=wd(this,e,!0),n=this.o_.map((function(e){return Ud(e,t)})),r=new el(n);return new sl(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(yd),Ld=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return yn(t,e),t.prototype.e_=function(e){var t=new nl(e.serializer,mu(e.serializer,this.a_));return new sl(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(yd),xd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new _s(xs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _s(xs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.h_=e,this.c_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.h_===e.h_&&this.c_===e.c_},e.prototype.toJSON=function(){return{latitude:this.h_,longitude:this.c_}},e.prototype.g=function(e){return Us(this.h_,e.h_)||Us(this.c_,e.c_)},e}(),_d=function(e){this.u_=e},Id=/^__.*__$/,Cd=function(e,t,n){this.l_=e,this.__=t,this.f_=n},Td=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.d_=function(e,t){var n=[];return null!==this.Qe?n.push(new ml(e,this.data,this.Qe,t)):n.push(new vl(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new bl(e,this.fieldTransforms)),n},e}(),Pd=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.d_=function(e,t){var n=[new ml(e,this.data,this.Qe,t)];return this.fieldTransforms.length>0&&n.push(new bl(e,this.fieldTransforms)),n},e}();function Md(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ds()}}var Nd=function(){function e(e,t,n,r,i,o){this.settings=e,this._=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.w_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),e.prototype.E_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},e.prototype.T_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.E_({path:n,r_:!1});return r.I_(e),r},e.prototype.m_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.E_({path:n,r_:!1});return r.w_(),r},e.prototype.A_=function(e){return this.E_({path:void 0,r_:!0})},e.prototype.s_=function(e){return Gd(e,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},e.prototype.contains=function(e){return void 0!==this.Qe.find((function(t){return e.M(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.M(t.field)}))},e.prototype.w_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},e.prototype.I_=function(e){if(0===e.length)throw this.s_("Document fields must not be empty");if(Md(this.n_)&&Id.test(e))throw this.s_('Document fields cannot begin and end with "__"')},e}(),Dd=function(){function e(e,t,n){this._=e,this.ignoreUndefinedProperties=t,this.serializer=n||id(e)}return e.prototype.P_=function(e,t,n,r){return void 0===r&&(r=!1),new Nd({n_:e,methodName:t,i_:n,path:ra.U(),r_:!1,R_:r},this._,this.serializer,this.ignoreUndefinedProperties)},e}();function Ad(e,t,n,r,i,o){void 0===o&&(o={});var s=e.P_(o.merge||o.mergeFields?2:0,t,n,i);Fd("Data must be an object, but it was:",s,r);var a,u,l=Vd(r,s);if(o.merge)a=new ol(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,h=o.mergeFields;f<h.length;f++){var p=h[f],d=void 0;if(p instanceof gd)d=p.Zl;else{if("string"!=typeof p)throw Ds();d=qd(t,p,n)}if(!s.contains(d))throw new _s(xs.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Hd(c,d)||c.push(d)}a=new ol(c),u=s.fieldTransforms.filter((function(e){return a.Je(e.field)}))}else a=null,u=s.fieldTransforms;return new Td(new Ll(l),a,u)}function Od(e,t,n,r){var i=e.P_(1,t,n);Fd("Data must be an object, but it was:",i,r);var o=[],s=new xl;Ys(r,(function(e,r){var a=qd(t,e,n),u=i.m_(a);if(r instanceof bd||r instanceof _d&&r.u_ instanceof bd)o.push(a);else{var l=Ud(r,u);null!=l&&(o.push(a),s.set(a,l))}}));var a=new ol(o);return new Pd(s.Xe(),a,i.fieldTransforms)}function Rd(e,t,n,r,i,o){var s=e.P_(1,t,n),a=[jd(t,r,n)],u=[i];if(o.length%2!=0)throw new _s(xs.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(jd(t,o[l])),u.push(o[l+1]);for(var c=[],f=new xl,h=a.length-1;h>=0;--h)if(!Hd(c,a[h])){var p=a[h],d=u[h],g=s.m_(p);if(d instanceof bd||d instanceof _d&&d.u_ instanceof bd)c.push(p);else{var v=Ud(d,g);null!=v&&(c.push(p),f.set(p,v))}}var m=new ol(c);return new Pd(f.Xe(),m,s.fieldTransforms)}function zd(e,t,n,r){return void 0===r&&(r=!1),Ud(n,e.P_(r?4:3,t))}function Ud(e,t){if(e instanceof _d&&(e=e.u_),Bd(e))return Fd("Unsupported field value:",t,e),Vd(e,t);if(e instanceof yd)return function(e,t){if(!Md(t.n_))throw t.s_(e.t_+"() can only be used with update() and set()");if(!t.path)throw t.s_(e.t_+"() is not currently supported inside arrays");var n=e.e_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Qe.push(t.path),e instanceof Array){if(t.settings.r_&&4!==t.n_)throw t.s_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=Ud(o[i],t.A_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xs.fromDate(e);return{timestampValue:yu(t.serializer,n)}}if(e instanceof Xs){var r=new Xs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yu(t.serializer,r)}}if(e instanceof xd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof js)return{bytesValue:bu(t.serializer,e.l)};if(e instanceof Cd){var i=t._,o=e.l_;if(!o.isEqual(i))throw t.s_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ku(e.l_||t._,e.__.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.s_("Unsupported field value: "+pd(e))}(e,t)}function Vd(e,t){var n={};return $s(e)?t.path&&t.path.length>0&&t.Qe.push(t.path):Ys(e,(function(e,r){var i=Ud(r,t.T_(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xs||e instanceof xd||e instanceof js||e instanceof Cd||e instanceof yd)}function Fd(e,t,n){if(!Bd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=pd(n);throw"an object"===r?t.s_(e+" a custom object"):t.s_(e+" "+r)}}function jd(e,t,n){if(t instanceof gd)return t.Zl;if("string"==typeof t)return qd(e,t);throw Gd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function qd(e,t,n){try{return function(e){if(e.search(md)>=0)throw new _s(xs.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(vd.bind.apply(vd,En([void 0],e.split("."))))}catch(t){throw new _s(xs.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).Zl}catch(t){throw Gd((r=t)instanceof Error?r.message:r.toString(),e,!1,void 0,n)}var r}function Gd(e,t,n,r,i){var o=r&&!r.P(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new _s(xs.INVALID_ARGUMENT,(a+=". ")+e+u)}function Hd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wd=function(){function e(e){this.zc=e,this.g_=new Map,this.mutations=[],this.V_=!1,this.y_=null,this.p_=new Set}return e.prototype.b_=function(e){return bn(this,void 0,void 0,(function(){var t,n=this;return wn(this,(function(r){switch(r.label){case 0:if(this.v_(),this.mutations.length>0)throw new _s(xs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s,a;return wn(this,(function(u){switch(u.label){case 0:return n=Os(e),r=Cu(n.serializer)+"/documents",i={documents:t.map((function(e){return Lu(n.serializer,e)}))},[4,n.$c("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){As(!!t.found),t.found.name,t.found.updateTime;var n=xu(e,t.found.name),r=Eu(t.found.updateTime),i=new Ll({mapValue:{fields:t.found.fields}});return new Cl(n,r,i,{})}(e,t):"missing"in t?function(e,t){As(!!t.missing),As(!!t.readTime);var n=xu(e,t.missing),r=Eu(t.readTime);return new Tl(n,r)}(e,t):Ds()}(n.serializer,e);s.set(t.key.toString(),t)})),a=[],[2,(t.forEach((function(e){var t=s.get(e.toString());As(!!t),a.push(t)})),a)]}}))}))}(this.zc,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Tl||e instanceof Cl?n.S_(e):Ds()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.d_(e,this.Ge(e))),this.p_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.d_(e,this.D_(e)))}catch(e){this.y_=e}this.p_.add(e.toString())},e.prototype.delete=function(e){this.write([new kl(e,this.Ge(e))]),this.p_.add(e.toString())},e.prototype.commit=function(){return bn(this,void 0,void 0,(function(){var e,t=this;return wn(this,(function(n){switch(n.label){case 0:if(this.v_(),this.y_)throw this.y_;return e=this.g_,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=ia.H(n);t.mutations.push(new Sl(r,t.Ge(r)))})),[4,function(e,t){return bn(this,void 0,void 0,(function(){var n,r,i;return wn(this,(function(o){switch(o.label){case 0:return n=Os(e),r=Cu(n.serializer)+"/documents",i={writes:t.map((function(e){return Mu(n.serializer,e)}))},[4,n.Mc("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.zc,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},e.prototype.S_=function(e){var t;if(e instanceof Cl)t=e.version;else{if(!(e instanceof Tl))throw Ds();t=Js.min()}var n=this.g_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _s(xs.ABORTED,"Document version changed between two reads.")}else this.g_.set(e.key.toString(),t)},e.prototype.Ge=function(e){var t=this.g_.get(e.toString());return!this.p_.has(e.toString())&&t?ul.updateTime(t):ul.ze()},e.prototype.D_=function(e){var t=this.g_.get(e.toString());if(!this.p_.has(e.toString())&&t){if(t.isEqual(Js.min()))throw new _s(xs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ul.updateTime(t)}return ul.exists(!0)},e.prototype.write=function(e){this.v_(),this.mutations=this.mutations.concat(e)},e.prototype.v_=function(){},e}(),Kd=function(){function e(e,t,n,r){this.hs=e,this.zc=t,this.updateFunction=n,this.ls=r,this.C_=5,this.Vs=new hc(this.hs,"transaction_retry")}return e.prototype.run=function(){this.N_()},e.prototype.N_=function(){var e=this;this.Vs.Pn((function(){return bn(e,void 0,void 0,(function(){var e,t,n=this;return wn(this,(function(r){return e=new Wd(this.zc),(t=this.x_(e))&&t.then((function(t){n.hs.ws((function(){return e.commit().then((function(){n.ls.resolve(t)})).catch((function(e){n.F_(e)}))}))})).catch((function(e){n.F_(e)})),[2]}))}))}))},e.prototype.x_=function(e){try{var t=this.updateFunction(e);return!oa(t)&&t.catch&&t.then?t:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.ls.reject(e),null}},e.prototype.F_=function(e){var t=this;this.C_>0&&this.k_(e)?(this.C_-=1,this.hs.ws((function(){return t.N_(),Promise.resolve()}))):this.ls.reject(e)},e.prototype.k_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ma(t)}return!1},e}(),Qd=function(){function e(e,t){this.credentials=e,this.hs=t,this.clientId=zs.t(),this.O_=new fc}return e.prototype.start=function(e,t,n){var r=this;this.M_(),this.bl=e;var i=new fc,o=!1;return this.credentials.Jh((function(e){if(!o)return o=!0,Ts("FirestoreClient","Initializing. user=",e.uid),r.L_(t,n,e,i).then(r.O_.resolve,r.O_.reject);r.hs.Cs((function(){return function(e,t){return bn(this,void 0,void 0,(function(){var n,r;return wn(this,(function(i){switch(i.label){case 0:return(n=Os(e)).hs.Fs(),Ts("RemoteStore","RemoteStore received new credentials"),r=Qh(n),n.Xc.add(3),[4,Bh(n)];case 1:return i.sent(),r&&n.nu.set("Unknown"),[4,n.Hc.Jl(t)];case 2:return i.sent(),n.Xc.delete(3),[4,Vh(n)];case 3:return i.sent(),[2]}}))}))}(r.bu,e)}))})),this.hs.ws((function(){return r.O_.promise})),i.promise},e.prototype.enableNetwork=function(){var e=this;return this.M_(),this.hs.enqueue((function(){return e.persistence.th(!0),function(e){var t=Os(e);return t.Xc.delete(0),Vh(t)}(e.bu)}))},e.prototype.L_=function(e,t,n,r){return bn(this,void 0,void 0,(function(){var i,o,s=this;return wn(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),i={hs:this.hs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Ql:n,Du:100},[4,e.initialize(i)];case 1:return a.sent(),[4,t.initialize(e,i)];case 2:return a.sent(),this.persistence=e.persistence,this.Su=e.Su,this.Gc=e.Gc,this.ql=e.ql,this.zc=t.zc,this.bu=t.bu,this.fi=t.fi,this.B_=t.vu,this.B_.Us=mp.bind(null,this.fi),this.B_.Ws=bp.bind(null,this.fi),this.persistence.Za((function(){return bn(s,void 0,void 0,(function(){return wn(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(o=a.sent(),r.reject(o),!function(e){return"FirebaseError"===e.name?e.code===xs.FAILED_PRECONDITION||e.code===xs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(o))throw o;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),this.L_(new od,new ud,n,r))];case 4:return[2]}}))}))},e.prototype.M_=function(){if(this.hs.ps)throw new _s(xs.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.M_(),this.hs.enqueue((function(){return e.persistence.th(!1),function(e){return bn(this,void 0,void 0,(function(){var t;return wn(this,(function(n){switch(n.label){case 0:return(t=Os(e)).Xc.add(0),[4,Bh(t)];case 1:return n.sent(),t.nu.set("Offline"),[2]}}))}))}(e.bu)}))},e.prototype.terminate=function(){var e=this;this.hs.Ds();var t=new fc;return this.hs.bs((function(){return bn(e,void 0,void 0,(function(){var e,n;return wn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Fh(this.bu)];case 1:return r.sent(),[4,this.Su.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yh(),t.resolve(),[3,5];case 4:return e=r.sent(),n=Ic(e,"Failed to shutdown persistence"),t.reject(n),[3,5];case 5:return[2]}}))}))})),t.promise},e.prototype.waitForPendingWrites=function(){var e=this;this.M_();var t=new fc;return this.hs.ws((function(){return function(e,t){return bn(this,void 0,void 0,(function(){var n,r,i,o,s;return wn(this,(function(a){switch(a.label){case 0:Qh((n=Os(e)).bu)||Ts("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=Os(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Sr.qo(e)}))}(n.Gc)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.Lu.get(r)||[]).push(t),n.Lu.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ic(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}(e.fi,t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.M_();var i=new ld(n),o=new Oc(e,i,t);return this.hs.ws((function(){return Pc(r.B_,o)})),function(){i.Xl(),r.hs.ws((function(){return Mc(r.B_,o)}))}},e.prototype.q_=function(e){return bn(this,void 0,void 0,(function(){var t,n=this;return wn(this,(function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),t=new fc,[2,(this.hs.ws((function(){return function(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o;return wn(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(e,t){var n=Os(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Nh.Cr(e,t)}))}(e,t)];case 1:return(r=s.sent())instanceof Cl?n.resolve(r):r instanceof Tl?n.resolve(null):n.reject(new _s(xs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=Ic(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}(n.Gc,e,t)})),t.promise)]}}))}))},e.prototype.U_=function(e,t){return void 0===t&&(t={}),bn(this,void 0,void 0,(function(){var n,r=this;return wn(this,(function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),n=new fc,[2,(this.hs.ws((function(){return function(e,t,n,r,i){var o=new ld({next:function(o){t.ws((function(){return Mc(e,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new _s(xs.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new _s(xs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new Oc(Dl(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Pc(e,s)}(r.B_,r.hs,e,t,n)})),n.promise)]}}))}))},e.prototype.K_=function(e){return bn(this,void 0,void 0,(function(){var t,n=this;return wn(this,(function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),t=new fc,[2,(this.hs.ws((function(){return function(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o,s,a,u;return wn(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Eh(e,t,!0)];case 1:return r=l.sent(),i=new pp(t,r.Fh),o=i.Eu(r.documents),s=i.Vr(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=l.sent(),u=Ic(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.Gc,e,t)})),t.promise)]}}))}))},e.prototype.Q_=function(e,t){return void 0===t&&(t={}),bn(this,void 0,void 0,(function(){var n,r=this;return wn(this,(function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),n=new fc,[2,(this.hs.ws((function(){return function(e,t,n,r,i){var o=new ld({next:function(n){t.ws((function(){return Mc(e,s)})),n.fromCache&&"server"===r.source?i.reject(new _s(xs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new Oc(n,o,{includeMetadataChanges:!0,Xs:!0});return Pc(e,s)}(r.B_,r.hs,e,t,n)})),n.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.M_();var n=new fc;return this.hs.ws((function(){return function(e,t,n){return bn(this,void 0,void 0,(function(){var r,i,o,s;return wn(this,(function(a){switch(a.label){case 0:r=Gp(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=Os(e),i=Xs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ma());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Nh.Or(e,o).next((function(o){n=o;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=pl(l,n.get(l.key));null!=c&&s.push(new ml(l.key,c,_l(c.proto.mapValue),ul.exists(!0)))}return r.Sr.Oo(e,i,s,t)}))})).then((function(e){var t=e.lr(n);return{batchId:e.batchId,wr:t}}))}(r.Gc,t)];case 2:return i=a.sent(),r.Su.Fi(i.batchId),function(e,t,n){var r=e.$u[e.currentUser.ti()];r||(r=new ba(Us)),r=r.ot(t,n),e.$u[e.currentUser.ti()]=r}(r,i.batchId,n),[4,Np(r,i.wr)];case 3:return a.sent(),[4,tp(r.bu)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ic(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(t.fi,e,n)})),n.promise},e.prototype._=function(){return this.bl._},e.prototype.W_=function(e){var t=this;this.M_();var n=new ld(e);return this.hs.ws((function(){return bn(t,void 0,void 0,(function(){return wn(this,(function(e){return[2,function(e,t){Os(e).qs.add(t),t.next()}(this.B_,n)]}))}))})),function(){n.Xl(),t.hs.ws((function(){return bn(t,void 0,void 0,(function(){return wn(this,(function(e){return[2,function(e,t){Os(e).qs.delete(t)}(this.B_,n)]}))}))}))}},Object.defineProperty(e.prototype,"j_",{get:function(){return this.hs.ps},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.M_();var n=new fc;return this.hs.ws((function(){return new Kd(t.hs,t.zc,e,n).run(),Promise.resolve()})),n.promise},e}();function Yd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var $d=function(){function e(e,t,n,r){this._=e,this.G_=t,this.z_=n,this.H_=r}return e.prototype.J_=function(e){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return iu(e.integerValue||e.doubleValue);case 3:return this.Y_(e.timestampValue);case 4:return this.X_(e);case 5:return e.stringValue;case 6:return this.H_(ou(e.bytesValue));case 7:return this.Z_(e.referenceValue);case 8:return this.tf(e.geoPointValue);case 9:return this.ef(e.arrayValue);case 10:return this.nf(e.mapValue);default:throw Ds()}},e.prototype.nf=function(e){var t=this,n={};return Ys(e.fields||{},(function(e,r){n[e]=t.J_(r)})),n},e.prototype.tf=function(e){return new xd(iu(e.latitude),iu(e.longitude))},e.prototype.ef=function(e){var t=this;return(e.values||[]).map((function(e){return t.J_(e)}))},e.prototype.X_=function(e){switch(this.G_){case"previous":var t=Ka(e);return null==t?null:this.J_(t);case"estimate":return this.Y_(Qa(e));default:return null}},e.prototype.Y_=function(e){var t=ru(e);return new Xs(t.seconds,t.nanos)},e.prototype.Z_=function(e){var t=ta.q(e);As(Wu(t));var n=new Ks(t.get(1),t.get(3)),r=new ia(t.N(5));return n.isEqual(this._)||Ps("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.z_(r)},e}(),Zd=of.uo,Xd=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new _s(xs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=of._o;else{if(e.cacheSizeBytes!==Zd&&e.cacheSizeBytes<of.lo)throw new _s(xs.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+of.lo);this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,hd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Jd="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",eg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){throw new _s(xs.FAILED_PRECONDITION,Jd)},e.prototype.enableMultiTabIndexedDbPersistence=function(e){throw new _s(xs.FAILED_PRECONDITION,Jd)},e.prototype.clearIndexedDbPersistence=function(e){throw new _s(xs.FAILED_PRECONDITION,Jd)},e}(),tg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){var n=new ud,r=new sd(n,e.sf().cacheSizeBytes,t);return e.if(r,n)},e.prototype.enableMultiTabIndexedDbPersistence=function(e){var t=new ud,n=new ad(t,e.sf().cacheSizeBytes);return e.if(n,t)},e.prototype.clearIndexedDbPersistence=function(e){var t=this,n=new fc;return e.rf.bs((function(){return bn(t,void 0,void 0,(function(){var t;return wn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return bn(this,void 0,void 0,(function(){var t;return wn(this,(function(n){switch(n.label){case 0:return dc.Ln()?(t=e+"main",[4,dc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(ph(e.l_,e.af))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},e}(),ng=function(){function e(t,n,r){var i=this;if(void 0===r&&(r=new eg),this.hf=r,this.cf=null,this.rf=new _c,this.INTERNAL={delete:function(){return bn(i,void 0,void 0,(function(){return wn(this,(function(e){switch(e.label){case 0:return this.uf(),[4,this.lf.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var o=t;this.cf=o,this.l_=e._f(o),this.af=o.name,this.ff=new Ph(n)}else{var s=t;if(!s.projectId)throw new _s(xs.INVALID_ARGUMENT,"Must provide projectId");this.l_=new Ks(s.projectId,s.database),this.af="[DEFAULT]",this.ff=new Th}this.df=new Xd({})}return Object.defineProperty(e.prototype,"wf",{get:function(){return this.Ef||(this.Ef=new Dd(this.l_,this.df.ignoreUndefinedProperties)),this.Ef},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this.df),e)).merge;var t=new Xd(e);if(this.lf&&!this.df.isEqual(t))throw new _s(xs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.df=t,void 0!==t.credentials&&(this.ff=function(e){if(!e)return new Th;switch(e.type){case"gapi":var t=e.client;return As(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Nh(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new _s(xs.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.useEmulator=function(e,t){"firestore.googleapis.com"!==this.df.host&&Ms("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:e+":"+t,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return this.uf(),this.lf.enableNetwork()},e.prototype.disableNetwork=function(){return this.uf(),this.lf.disableNetwork()},e.prototype.enablePersistence=function(e){if(this.lf)throw new _s(xs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1,n=!1;return e&&hd("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.hf.enableMultiTabIndexedDbPersistence(this):this.hf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return bn(this,void 0,void 0,(function(){return wn(this,(function(e){if(void 0!==this.lf&&!this.lf.j_)throw new _s(xs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return[2,this.hf.clearIndexedDbPersistence(this)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"Tf",{get:function(){return this.uf(),this.lf.j_},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.uf(),this.lf.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.uf(),Yd(e))return this.lf.W_(e);var t={next:e};return this.lf.W_(t)},e.prototype.uf=function(){return this.lf||this.if(new od,new ud),this.lf},e.prototype.If=function(){return new Ws(this.l_,this.af,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling,this.df.experimentalAutoDetectLongPolling)},e.prototype.if=function(e,t){var n=this.If();return this.lf=new Qd(this.ff,this.rf),this.lf.start(n,e,t)},e._f=function(e){if(t=e.options,!Object.prototype.hasOwnProperty.call(t,"projectId"))throw new _s(xs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t,n=e.options.projectId;if(!n||"string"!=typeof n)throw new _s(xs.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ks(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.cf)throw new _s(xs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return cd("Firestore.collection","path",e),this.uf(),new gg(ta.q(e),this,null)},e.prototype.doc=function(e){return cd("Firestore.doc","path",e),this.uf(),og.mf(ta.q(e),this,null)},e.prototype.collectionGroup=function(e){if(cd("Firestore.collectionGroup","collectionId",e),e.indexOf("/")>=0)throw new _s(xs.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new pg(function(e){return new Ml(ta.U(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return this.uf().transaction((function(n){return e(new rg(t,n))}))},e.prototype.batch=function(){return this.uf(),new ig(this)},e.prototype.sf=function(){return this.df},e}(),rg=function(){function e(e,t){this.Af=e,this.Rf=t}return e.prototype.get=function(e){var t=this,n=vg("Transaction.get",e,this.Af);return this.Rf.b_([n.__]).then((function(e){if(!e||1!==e.length)return Ds();var r=e[0];if(r instanceof Tl)return new ag(t.Af,n.__,null,!1,!1,n.f_);if(r instanceof Cl)return new ag(t.Af,n.__,r,!1,!1,n.f_);throw Ds()}))},e.prototype.set=function(e,t,n){var r=vg("Transaction.set",e,this.Af);n=fd("Transaction.set",n);var i=yg(r.f_,t,n),o=Ad(this.Af.wf,"Transaction.set",r.__,i,null!==r.f_,n);return this.Rf.set(r.__,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof t||t instanceof vd?(r=vg("Transaction.update",e,this.Af),i=Rd(this.Af.wf,"Transaction.update",r.__,t,n,o)):(r=vg("Transaction.update",e,this.Af),i=Od(this.Af.wf,"Transaction.update",r.__,t)),this.Rf.update(r.__,i),this},e.prototype.delete=function(e){var t=vg("Transaction.delete",e,this.Af);return this.Rf.delete(t.__),this},e}(),ig=function(){function e(e){this.Af=e,this.Pf=[],this.gf=!1}return e.prototype.set=function(e,t,n){this.Vf();var r=vg("WriteBatch.set",e,this.Af);n=fd("WriteBatch.set",n);var i=yg(r.f_,t,n),o=Ad(this.Af.wf,"WriteBatch.set",r.__,i,null!==r.f_,n);return this.Pf=this.Pf.concat(o.d_(r.__,ul.ze())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Vf(),"string"==typeof t||t instanceof vd?(r=vg("WriteBatch.update",e,this.Af),i=Rd(this.Af.wf,"WriteBatch.update",r.__,t,n,o)):(r=vg("WriteBatch.update",e,this.Af),i=Od(this.Af.wf,"WriteBatch.update",r.__,t)),this.Pf=this.Pf.concat(i.d_(r.__,ul.exists(!0))),this},e.prototype.delete=function(e){this.Vf();var t=vg("WriteBatch.delete",e,this.Af);return this.Pf=this.Pf.concat(new kl(t.__,ul.ze())),this},e.prototype.commit=function(){return this.Vf(),this.gf=!0,this.Pf.length>0?this.Af.uf().write(this.Pf):Promise.resolve()},e.prototype.Vf=function(){if(this.gf)throw new _s(xs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),og=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.l_,t,r)||this).__=t,i.firestore=n,i.f_=r,i.lf=i.firestore.uf(),i}return yn(t,e),t.mf=function(e,n,r){if(e.length%2!=0)throw new _s(xs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.B()+" has "+e.length);return new t(new ia(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gg(this.__.path.F(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.__.path.B()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(cd("DocumentReference.collection","path",e),!e)throw new _s(xs.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ta.q(e);return new gg(this.__.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&this.__.isEqual(e.__)&&this.f_===e.f_},t.prototype.set=function(e,t){t=fd("DocumentReference.set",t);var n=yg(this.f_,e,t),r=Ad(this.firestore.wf,"DocumentReference.set",this.__,n,null!==this.f_,t);return this.lf.write(r.d_(this.__,ul.ze()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof e||e instanceof vd?Rd(this.firestore.wf,"DocumentReference.update",this.__,e,t,r):Od(this.firestore.wf,"DocumentReference.update",this.__,e),this.lf.write(n.d_(this.__,ul.exists(!0)))},t.prototype.delete=function(){return this.lf.write([new kl(this.__,ul.ze())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Yd(i[a])||(s=i[a],a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Yd(i[a])){var l=i[a];i[a]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[a+1]=null===(t=l.error)||void 0===t?void 0:t.bind(l),i[a+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}var c={next:function(e){i[a]&&i[a](r.yf(e))},error:i[a+1],complete:i[a+2]};return this.lf.listen(Dl(this.__.path),u,c)},t.prototype.get=function(e){var t=this,n=this.firestore.uf();return e&&"cache"===e.source?n.q_(this.__).then((function(e){return new ag(t.firestore,t.__,e,!0,e instanceof Cl&&e.Ye,t.f_)})):n.U_(this.__,e).then((function(e){return t.yf(e)}))},t.prototype.withConverter=function(e){return new t(this.__,this.firestore,e)},t.prototype.yf=function(e){var t=e.docs.get(this.__);return new ag(this.firestore,this.__,t,e.fromCache,e.hasPendingWrites,this.f_)},t}(Cd),sg=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),ag=function(){function e(e,t,n,r,i,o){this.Af=e,this.__=t,this.pf=n,this.bf=r,this.vf=i,this.f_=o}return e.prototype.data=function(e){var t=this;if(void 0===e&&(e={}),this.pf){if(this.f_){var n=new ug(this.Af,this.__,this.pf,this.bf,this.vf,null);return this.f_.fromFirestore(n,e)}return new $d(this.Af.l_,e.serverTimestamps||"none",(function(e){return new og(e,t.Af,null)}),(function(e){return new Hs(e)})).J_(this.pf.rn())}},e.prototype.get=function(e,t){var n=this;if(void 0===t&&(t={}),this.pf){var r=this.pf.data().field(jd("DocumentSnapshot.get",e,this.__));if(null!==r)return new $d(this.Af.l_,t.serverTimestamps||"none",(function(e){return new og(e,n.Af,n.f_)}),(function(e){return new Hs(e)})).J_(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new og(this.__,this.Af,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.pf},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new sg(this.vf,this.bf)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.Af===t.Af&&this.bf===t.bf&&this.__.isEqual(t.__)&&(null===this.pf?null===t.pf:this.pf.isEqual(t.pf))&&this.f_===t.f_},e}(),ug=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(ag);function lg(e,t,n){if("string"==typeof n){if(""===n)throw new _s(xs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ul(t)&&-1!==n.indexOf("/"))throw new _s(xs.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ta.q(n));if(!ia.X(r))throw new _s(xs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return su(e,new ia(r))}if(n instanceof Cd)return su(e,n.__);throw new _s(xs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pd(n)+".")}function cg(e,t){if(!Array.isArray(e)||0===e.length)throw new _s(xs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new _s(xs.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function fg(e,t,n){if(!n.isEqual(t))throw new _s(xs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function hg(e){if(Ol(e)&&0===e.on.length)throw new _s(xs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pg=function(){function e(e,t,n){this.Sf=e,this.firestore=t,this.f_=n}return e.prototype.where=function(t,n,r){var i=jd("Query.where",t),o=function(e,t,n,r,i,o,s){var a;if(i.W()){if("array-contains"===o||"array-contains-any"===o)throw new _s(xs.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){cg(s,o);for(var u=[],l=0,c=s;l<c.length;l++){var f=c[l];u.push(lg(r,e,f))}a={arrayValue:{values:u}}}else a=lg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cg(s,o),a=zd(n,"Query.where",s,"in"===o||"not-in"===o);var h=Yl.create(i,o,a);return function(e,t){if(t.un()){var n=zl(e);if(null!==n&&!n.isEqual(t.field))throw new _s(xs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Rl(e);null!==r&&fg(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new _s(xs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new _s(xs.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(this.Sf,0,this.firestore.wf,this.firestore.l_,i,n,r);return new e(function(e,t){var n=e.filters.concat([t]);return new Ml(e.path,e.collectionGroup,e.on.slice(),n,e.limit,e.an,e.startAt,e.endAt)}(this.Sf,o),this.firestore,this.f_)},e.prototype.orderBy=function(t,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new _s(xs.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=jd("Query.orderBy",t),o=function(e,t,n){if(null!==e.startAt)throw new _s(xs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _s(xs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new uc(t,n);return function(e,t){if(null===Rl(e)){var n=zl(e);null!==n&&fg(0,n,t.field)}}(e,r),r}(this.Sf,i,r);return new e(function(e,t){var n=e.on.concat([t]);return new Ml(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(this.Sf,o),this.firestore,this.f_)},e.prototype.limit=function(t){return dd("Query.limit",t),new e(Fl(this.Sf,t,"F"),this.firestore,this.f_)},e.prototype.limitToLast=function(t){return dd("Query.limitToLast",t),new e(Fl(this.Sf,t,"L"),this.firestore,this.f_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAt",t,n,!0);return new e(jl(this.Sf,i),this.firestore,this.f_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAfter",t,n,!1);return new e(jl(this.Sf,i),this.firestore,this.f_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endBefore",t,n,!0);return new e(ql(this.Sf,i),this.firestore,this.f_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endAt",t,n,!1);return new e(ql(this.Sf,i),this.firestore,this.f_)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&Gl(this.Sf,t.Sf)&&this.f_===t.f_},e.prototype.withConverter=function(t){return new e(this.Sf,this.firestore,t)},e.prototype.Df=function(e,t,n,r){if(t instanceof ag)return function(e,t,n,r,i){if(!r)throw new _s(xs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Vl(e);s<a.length;s++){var u=a[s];if(u.field.W())o.push(su(t,r.key));else{var l=r.field(u.field);if(Wa(l))throw new _s(xs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.B();throw new _s(xs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new ic(o,i)}(this.Sf,this.firestore.l_,e,t.pf,r);var i=[t].concat(n);return function(e,t,n,r,i,o){var s=e.on;if(i.length>s.length)throw new _s(xs.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(s[u].field.W()){if("string"!=typeof l)throw new _s(xs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Ul(e)&&-1!==l.indexOf("/"))throw new _s(xs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=e.path.child(ta.q(l));if(!ia.X(c))throw new _s(xs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var f=new ia(c);a.push(su(t,f))}else{var h=zd(n,r,l);a.push(h)}}return new ic(a,o)}(this.Sf,this.firestore.l_,this.firestore.wf,e,i,r)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={},a=0;if("object"!=typeof i[a]||Yd(i[a])||(s=i[a],a++),Yd(i[a])){var u=i[a];i[a]=null===(e=u.next)||void 0===e?void 0:e.bind(u),i[a+1]=null===(t=u.error)||void 0===t?void 0:t.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var l={next:function(e){i[a]&&i[a](new dg(r.firestore,r.Sf,e,r.f_))},error:i[a+1],complete:i[a+2]};return hg(this.Sf),this.firestore.uf().listen(this.Sf,s,l)},e.prototype.get=function(e){var t=this;hg(this.Sf);var n=this.firestore.uf();return(e&&"cache"===e.source?n.K_(this.Sf):n.Q_(this.Sf,e)).then((function(e){return new dg(t.firestore,t.Sf,e,t.f_)}))},e}(),dg=function(){function e(e,t,n,r){this.Af=e,this.Cf=t,this.Nf=n,this.f_=r,this.xf=null,this.Ff=null,this.metadata=new sg(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.Nf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.Nf.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this.Nf.docs.forEach((function(r){e.call(t,n.kf(r,n.metadata.fromCache,n.Nf.Qt.has(r.key)))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new pg(this.Cf,this.Af,this.f_)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=!(!e||!e.includeMetadataChanges);if(t&&this.Nf.jt)throw new _s(xs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.xf&&this.Ff===t||(this.xf=function(e,t,n){if(e.Kt.P()){var r=0;return e.docChanges.map((function(t){var i=n(t.doc,e.fromCache,e.Qt.has(t.doc.key));return t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=e.Kt;return e.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=n(t.doc,e.fromCache,e.Qt.has(t.doc.key)),o=-1,s=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(s=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:mg(t.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Nf,t,this.kf.bind(this)),this.Ff=t),this.xf},e.prototype.isEqual=function(t){return t instanceof e&&this.Af===t.Af&&Gl(this.Cf,t.Cf)&&this.Nf.isEqual(t.Nf)&&this.f_===t.f_},e.prototype.kf=function(e,t,n){return new ug(this.Af,e.key,e,t,n,this.f_)},e}(),gg=function(e){function t(t,n,r){var i=this;if((i=e.call(this,Dl(t),n,r)||this).Of=t,t.length%2!=1)throw new _s(xs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.B()+" has "+t.length);return i}return yn(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.Sf.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Sf.path.F();return e.P()?null:new og(new ia(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Sf.path.B()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){0===arguments.length&&(e=zs.t()),cd("CollectionReference.doc","path",e);var t=ta.q(e);return og.mf(this.Sf.path.child(t),this.firestore,this.f_)},t.prototype.add=function(e){var t=this.f_?this.f_.toFirestore(e):e,n=this.doc();return new og(n.__,this.firestore,null).set(t).then((function(){return n}))},t.prototype.withConverter=function(e){return new t(this.Of,this.firestore,e)},t}(pg);function vg(e,t,n){var r=function(e,t){if(!(e instanceof t)){if(t.name===e.constructor.name)throw new _s(xs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pd(e);throw new _s(xs.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}(t,og);if(r.firestore!==n)throw new _s(xs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function mg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ds()}}function yg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var bg,wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.serverTimestamp=function(){var e=new Ed("serverTimestamp");return e.t_="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new bd("deleteField");return e.t_="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new kd("arrayUnion",e)}.apply(void 0,e);return r.t_="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Sd("arrayRemove",e)}.apply(void 0,e);return r.t_="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new Ld("increment",e)}(e);return n.t_="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this.u_.isEqual(e.u_)},t}(_d),Eg={Firestore:ng,GeoPoint:xd,Timestamp:Xs,Blob:Hs,Transaction:rg,WriteBatch:ig,DocumentReference:og,DocumentSnapshot:ag,Query:pg,QueryDocumentSnapshot:ug,QuerySnapshot:dg,CollectionReference:gg,FieldPath:vd,FieldValue:wg,setLogLevel:function(e){var t;t=e,Is.setLogLevel(t)},CACHE_SIZE_UNLIMITED:Zd};(function(e,t){e.INTERNAL.registerComponent(new Vt("firestore",(function(e){return function(e,t){return new ng(e,t,new tg)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Eg)))})(bg=vn),bg.registerVersion("@firebase/firestore","2.0.0");const kg={apiKey:"AIzaSyDPFtI9BHmB2iQy5_dMLNpqqB4rGswjjmk",authDomain:"mapapp-83c2f.firebaseapp.com",projectId:"mapapp-83c2f",storageBucket:"mapapp-83c2f.appspot.com",messagingSenderId:"423455081995",appId:"1:423455081995:web:26e0897cb1aa9fc94e690e",measurementId:"G-PF4S0VSNK3"};vn.apps.length||vn.initializeApp(kg);const Sg=vn.firestore(),Lg=e=>{Sg.collection("markers").doc("userMarkers").set({markers:e})},xg=()=>{const[t,n]=(0,e.useState)([]),i=(0,e.useRef)(null);(0,e.useEffect)((()=>{(async()=>{const e=await(async()=>{const e=Sg.collection("markers").doc("userMarkers"),t=await e.get();return t.exists?t.data().markers:[]})();n(e)})()}),[]);return(0,r.jsxs)(N,{googleMapsApiKey:"AIzaSyCJGCtoVkvL1R_OFzi06TsUyTWw9XdrZqs",children:[(0,r.jsx)(k,{mapContainerStyle:{width:"100%",height:"400px"},zoom:8,center:{lat:50.4333,lng:30.5166},onClick:e=>{const r={lat:e.latLng.lat(),lng:e.latLng.lng()},i=[...t,r];n(i),Lg(i)},onLoad:e=>i.current=e,children:t.map(((e,i)=>(0,r.jsx)(j,{position:e,label:(i+1).toString(),onClick:()=>(e=>{const r=t.filter(((t,n)=>n!==e));n(r),Lg(r)})(i),onDragEnd:e=>((e,r)=>{const i=t.map(((t,n)=>n===e?{lat:r.latLng.lat(),lng:r.latLng.lng()}:t));n(i),Lg(i)})(i,e),draggable:!0},i)))}),(0,r.jsx)("button",{onClick:()=>{n([]),Lg([])},children:"Delete All Markers"})]})};const _g=function(){return(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("h1",{children:[(0,r.jsx)("img",{src:"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png",alt:"Map Icon",style:{marginRight:"0.5px"}}),"Map App"]}),(0,r.jsx)(xg,{})]})},Ig=document.getElementById("root");(0,t.s)(Ig).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(_g,{})}))})()})();
//# sourceMappingURL=main.f8a2d3ac.js.map